function hH(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ba(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var l4={exports:{}},Yx={},c4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),pH=Symbol.for("react.portal"),mH=Symbol.for("react.fragment"),gH=Symbol.for("react.strict_mode"),vH=Symbol.for("react.profiler"),yH=Symbol.for("react.provider"),xH=Symbol.for("react.context"),_H=Symbol.for("react.forward_ref"),AH=Symbol.for("react.suspense"),bH=Symbol.for("react.memo"),wH=Symbol.for("react.lazy"),JR=Symbol.iterator;function SH(n){return n===null||typeof n!="object"?null:(n=JR&&n[JR]||n["@@iterator"],typeof n=="function"?n:null)}var u4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f4=Object.assign,d4={};function lp(n,e,t){this.props=n,this.context=e,this.refs=d4,this.updater=t||u4}lp.prototype.isReactComponent={};lp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};lp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function h4(){}h4.prototype=lp.prototype;function _M(n,e,t){this.props=n,this.context=e,this.refs=d4,this.updater=t||u4}var AM=_M.prototype=new h4;AM.constructor=_M;f4(AM,lp.prototype);AM.isPureReactComponent=!0;var KR=Array.isArray,p4=Object.prototype.hasOwnProperty,bM={current:null},m4={key:!0,ref:!0,__self:!0,__source:!0};function g4(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)p4.call(e,i)&&!m4.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:s0,type:n,key:s,ref:o,props:r,_owner:bM.current}}function EH(n,e){return{$$typeof:s0,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function wM(n){return typeof n=="object"&&n!==null&&n.$$typeof===s0}function MH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var qR=/\/+/g;function ob(n,e){return typeof n=="object"&&n!==null&&n.key!=null?MH(""+n.key):e.toString(36)}function r1(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case s0:case pH:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ob(o,0):i,KR(r)?(t="",n!=null&&(t=n.replace(qR,"$&/")+"/"),r1(r,e,t,"",function(c){return c})):r!=null&&(wM(r)&&(r=EH(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(qR,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",KR(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ob(s,a);o+=r1(s,e,t,l,r)}else if(l=SH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ob(s,a++),o+=r1(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tv(n,e,t){if(n==null)return n;var i=[],r=0;return r1(n,i,"","",function(s){return e.call(t,s,r++)}),i}function CH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Nr={current:null},s1={transition:null},TH={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:s1,ReactCurrentOwner:bM};Ht.Children={map:Tv,forEach:function(n,e,t){Tv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Tv(n,function(){e++}),e},toArray:function(n){return Tv(n,function(e){return e})||[]},only:function(n){if(!wM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=lp;Ht.Fragment=mH;Ht.Profiler=vH;Ht.PureComponent=_M;Ht.StrictMode=gH;Ht.Suspense=AH;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TH;Ht.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=f4({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bM.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)p4.call(e,l)&&!m4.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:s0,type:n.type,key:r,ref:s,props:i,_owner:o}};Ht.createContext=function(n){return n={$$typeof:xH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:yH,_context:n},n.Consumer=n};Ht.createElement=g4;Ht.createFactory=function(n){var e=g4.bind(null,n);return e.type=n,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:_H,render:n}};Ht.isValidElement=wM;Ht.lazy=function(n){return{$$typeof:wH,_payload:{_status:-1,_result:n},_init:CH}};Ht.memo=function(n,e){return{$$typeof:bH,type:n,compare:e===void 0?null:e}};Ht.startTransition=function(n){var e=s1.transition;s1.transition={};try{n()}finally{s1.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(n,e){return Nr.current.useCallback(n,e)};Ht.useContext=function(n){return Nr.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return Nr.current.useDeferredValue(n)};Ht.useEffect=function(n,e){return Nr.current.useEffect(n,e)};Ht.useId=function(){return Nr.current.useId()};Ht.useImperativeHandle=function(n,e,t){return Nr.current.useImperativeHandle(n,e,t)};Ht.useInsertionEffect=function(n,e){return Nr.current.useInsertionEffect(n,e)};Ht.useLayoutEffect=function(n,e){return Nr.current.useLayoutEffect(n,e)};Ht.useMemo=function(n,e){return Nr.current.useMemo(n,e)};Ht.useReducer=function(n,e,t){return Nr.current.useReducer(n,e,t)};Ht.useRef=function(n){return Nr.current.useRef(n)};Ht.useState=function(n){return Nr.current.useState(n)};Ht.useSyncExternalStore=function(n,e,t){return Nr.current.useSyncExternalStore(n,e,t)};Ht.useTransition=function(){return Nr.current.useTransition()};Ht.version="18.2.0";c4.exports=Ht;var I=c4.exports;const te=Ba(I),RH=hH({__proto__:null,default:te},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PH=I,IH=Symbol.for("react.element"),DH=Symbol.for("react.fragment"),LH=Object.prototype.hasOwnProperty,kH=PH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BH={key:!0,ref:!0,__self:!0,__source:!0};function v4(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)LH.call(e,i)&&!BH.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:IH,type:n,key:s,ref:o,props:r,_owner:kH.current}}Yx.Fragment=DH;Yx.jsx=v4;Yx.jsxs=v4;l4.exports=Yx;var k=l4.exports,bS={},y4={exports:{}},ks={},x4={exports:{}},_4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,$){var X=H.length;H.push($);e:for(;0<X;){var F=X-1>>>1,j=H[F];if(0<r(j,$))H[F]=$,H[X]=j,X=F;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var $=H[0],X=H.pop();if(X!==$){H[0]=X;e:for(var F=0,j=H.length,se=j>>>1;F<se;){var ne=2*(F+1)-1,ie=H[ne],ce=ne+1,le=H[ce];if(0>r(ie,X))ce<j&&0>r(le,ie)?(H[F]=le,H[ce]=X,F=ce):(H[F]=ie,H[ne]=X,F=ne);else if(ce<j&&0>r(le,X))H[F]=le,H[ce]=X,F=ce;else break e}}return $}function r(H,$){var X=H.sortIndex-$.sortIndex;return X!==0?X:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var $=t(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=H)i(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(c)}}function w(H){if(x=!1,A(H),!g)if(t(l)!==null)g=!0,J(E);else{var $=t(c);$!==null&&Z(w,$.startTime-H)}}function E(H,$){g=!1,x&&(x=!1,v(P),P=-1),p=!0;var X=d;try{for(A($),f=t(l);f!==null&&(!(f.expirationTime>$)||H&&!O());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=$);$=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&i(l),A($)}else i(l);f=t(l)}if(f!==null)var se=!0;else{var ne=t(c);ne!==null&&Z(w,ne.startTime-$),se=!1}return se}finally{f=null,d=X,p=!1}}var M=!1,C=null,P=-1,T=5,D=-1;function O(){return!(n.unstable_now()-D<T)}function N(){if(C!==null){var H=n.unstable_now();D=H;var $=!0;try{$=C(!0,H)}finally{$?z():(M=!1,C=null)}}else M=!1}var z;if(typeof _=="function")z=function(){_(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=N,z=function(){W.postMessage(null)}}else z=function(){y(N,0)};function J(H){C=H,M||(M=!0,z())}function Z(H,$){P=y(function(){H(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,J(E))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var X=d;d=$;try{return H()}finally{d=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=d;d=H;try{return $()}finally{d=X}},n.unstable_scheduleCallback=function(H,$,X){var F=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=X+j,H={id:u++,callback:$,priorityLevel:H,startTime:X,expirationTime:j,sortIndex:-1},X>F?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(x?(v(P),P=-1):x=!0,Z(w,X-F))):(H.sortIndex=j,e(l,H),g||p||(g=!0,J(E))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var $=d;return function(){var X=d;d=$;try{return H.apply(this,arguments)}finally{d=X}}}})(_4);x4.exports=_4;var OH=x4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4=I,Is=OH;function je(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b4=new Set,dg={};function Rf(n,e){Mh(n,e),Mh(n+"Capture",e)}function Mh(n,e){for(dg[n]=e,n=0;n<e.length;n++)b4.add(e[n])}var bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wS=Object.prototype.hasOwnProperty,FH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QR={},ZR={};function UH(n){return wS.call(ZR,n)?!0:wS.call(QR,n)?!1:FH.test(n)?ZR[n]=!0:(QR[n]=!0,!1)}function NH(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function zH(n,e,t,i){if(e===null||typeof e>"u"||NH(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ki[n]=new zr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ki[e]=new zr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ki[n]=new zr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ki[n]=new zr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ki[n]=new zr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ki[n]=new zr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ki[n]=new zr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ki[n]=new zr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ki[n]=new zr(n,5,!1,n.toLowerCase(),null,!1,!1)});var SM=/[\-:]([a-z])/g;function EM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(SM,EM);Ki[e]=new zr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(SM,EM);Ki[e]=new zr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(SM,EM);Ki[e]=new zr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ki[n]=new zr(n,1,!1,n.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ki[n]=new zr(n,1,!1,n.toLowerCase(),null,!0,!0)});function MM(n,e,t,i){var r=Ki.hasOwnProperty(e)?Ki[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zH(e,t,r,i)&&(t=null),i||r===null?UH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Bl=A4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rv=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),Od=Symbol.for("react.fragment"),CM=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),w4=Symbol.for("react.provider"),S4=Symbol.for("react.context"),TM=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),MS=Symbol.for("react.suspense_list"),RM=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),E4=Symbol.for("react.offscreen"),eP=Symbol.iterator;function Jp(n){return n===null||typeof n!="object"?null:(n=eP&&n[eP]||n["@@iterator"],typeof n=="function"?n:null)}var jn=Object.assign,ab;function Cm(n){if(ab===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ab=e&&e[1]||""}return`
`+ab+n}var lb=!1;function cb(n,e){if(!n||lb)return"";lb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{lb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Cm(n):""}function HH(n){switch(n.tag){case 5:return Cm(n.type);case 16:return Cm("Lazy");case 13:return Cm("Suspense");case 19:return Cm("SuspenseList");case 0:case 2:case 15:return n=cb(n.type,!1),n;case 11:return n=cb(n.type.render,!1),n;case 1:return n=cb(n.type,!0),n;default:return""}}function CS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Od:return"Fragment";case Bd:return"Portal";case SS:return"Profiler";case CM:return"StrictMode";case ES:return"Suspense";case MS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S4:return(n.displayName||"Context")+".Consumer";case w4:return(n._context.displayName||"Context")+".Provider";case TM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case RM:return e=n.displayName||null,e!==null?e:CS(n.type)||"Memo";case rc:e=n._payload,n=n._init;try{return CS(n(e))}catch{}}return null}function GH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CS(e);case 8:return e===CM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function M4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VH(n){var e=M4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Pv(n){n._valueTracker||(n._valueTracker=VH(n))}function C4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=M4(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function O1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function TS(n,e){var t=e.checked;return jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function tP(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=kc(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T4(n,e){e=e.checked,e!=null&&MM(n,"checked",e,!1)}function RS(n,e){T4(n,e);var t=kc(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?PS(n,e.type,t):e.hasOwnProperty("defaultValue")&&PS(n,e.type,kc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function nP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function PS(n,e,t){(e!=="number"||O1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Tm=Array.isArray;function oh(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+kc(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function IS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return jn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(je(92));if(Tm(t)){if(1<t.length)throw Error(je(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:kc(t)}}function R4(n,e){var t=kc(e.value),i=kc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function rP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function P4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?P4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Iv,I4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Iv=Iv||document.createElement("div"),Iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function hg(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WH=["Webkit","ms","Moz","O"];Object.keys(Um).forEach(function(n){WH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Um[e]=Um[n]})});function D4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Um.hasOwnProperty(n)&&Um[n]?(""+e).trim():e+"px"}function L4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=D4(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var jH=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LS(n,e){if(e){if(jH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function kS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BS=null;function PM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var OS=null,ah=null,lh=null;function sP(n){if(n=l0(n)){if(typeof OS!="function")throw Error(je(280));var e=n.stateNode;e&&(e=Zx(e),OS(n.stateNode,n.type,e))}}function k4(n){ah?lh?lh.push(n):lh=[n]:ah=n}function B4(){if(ah){var n=ah,e=lh;if(lh=ah=null,sP(n),e)for(n=0;n<e.length;n++)sP(e[n])}}function O4(n,e){return n(e)}function F4(){}var ub=!1;function U4(n,e,t){if(ub)return n(e,t);ub=!0;try{return O4(n,e,t)}finally{ub=!1,(ah!==null||lh!==null)&&(F4(),B4())}}function pg(n,e){var t=n.stateNode;if(t===null)return null;var i=Zx(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(je(231,e,typeof t));return t}var FS=!1;if(bl)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){FS=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{FS=!1}function $H(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Nm=!1,F1=null,U1=!1,US=null,XH={onError:function(n){Nm=!0,F1=n}};function YH(n,e,t,i,r,s,o,a,l){Nm=!1,F1=null,$H.apply(XH,arguments)}function JH(n,e,t,i,r,s,o,a,l){if(YH.apply(this,arguments),Nm){if(Nm){var c=F1;Nm=!1,F1=null}else throw Error(je(198));U1||(U1=!0,US=c)}}function Pf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function N4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function oP(n){if(Pf(n)!==n)throw Error(je(188))}function KH(n){var e=n.alternate;if(!e){if(e=Pf(n),e===null)throw Error(je(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return oP(r),n;if(s===i)return oP(r),e;s=s.sibling}throw Error(je(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(je(189))}}if(t.alternate!==i)throw Error(je(190))}if(t.tag!==3)throw Error(je(188));return t.stateNode.current===t?n:e}function z4(n){return n=KH(n),n!==null?H4(n):null}function H4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=H4(n);if(e!==null)return e;n=n.sibling}return null}var G4=Is.unstable_scheduleCallback,aP=Is.unstable_cancelCallback,qH=Is.unstable_shouldYield,QH=Is.unstable_requestPaint,si=Is.unstable_now,ZH=Is.unstable_getCurrentPriorityLevel,IM=Is.unstable_ImmediatePriority,V4=Is.unstable_UserBlockingPriority,N1=Is.unstable_NormalPriority,eG=Is.unstable_LowPriority,W4=Is.unstable_IdlePriority,Jx=null,wa=null;function tG(n){if(wa&&typeof wa.onCommitFiberRoot=="function")try{wa.onCommitFiberRoot(Jx,n,void 0,(n.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:rG,nG=Math.log,iG=Math.LN2;function rG(n){return n>>>=0,n===0?32:31-(nG(n)/iG|0)|0}var Dv=64,Lv=4194304;function Rm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function z1(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Rm(a):(s&=o,s!==0&&(i=Rm(s)))}else o=t&~r,o!==0?i=Rm(o):s!==0&&(i=Rm(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-No(e),r=1<<t,i|=n[t],e&=~r;return i}function sG(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oG(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-No(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=sG(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function NS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function j4(){var n=Dv;return Dv<<=1,!(Dv&4194240)&&(Dv=64),n}function fb(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function o0(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-No(e),n[e]=t}function aG(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-No(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function DM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-No(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var sn=0;function $4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var X4,LM,Y4,J4,K4,zS=!1,kv=[],xc=null,_c=null,Ac=null,mg=new Map,gg=new Map,lc=[],lG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lP(n,e){switch(n){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":_c=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":mg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gg.delete(e.pointerId)}}function qp(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=l0(e),e!==null&&LM(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function cG(n,e,t,i,r){switch(e){case"focusin":return xc=qp(xc,n,e,t,i,r),!0;case"dragenter":return _c=qp(_c,n,e,t,i,r),!0;case"mouseover":return Ac=qp(Ac,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return mg.set(s,qp(mg.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,gg.set(s,qp(gg.get(s)||null,n,e,t,i,r)),!0}return!1}function q4(n){var e=Gu(n.target);if(e!==null){var t=Pf(e);if(t!==null){if(e=t.tag,e===13){if(e=N4(t),e!==null){n.blockedOn=e,K4(n.priority,function(){Y4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function o1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=HS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);BS=i,t.target.dispatchEvent(i),BS=null}else return e=l0(t),e!==null&&LM(e),n.blockedOn=t,!1;e.shift()}return!0}function cP(n,e,t){o1(n)&&t.delete(e)}function uG(){zS=!1,xc!==null&&o1(xc)&&(xc=null),_c!==null&&o1(_c)&&(_c=null),Ac!==null&&o1(Ac)&&(Ac=null),mg.forEach(cP),gg.forEach(cP)}function Qp(n,e){n.blockedOn===e&&(n.blockedOn=null,zS||(zS=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,uG)))}function vg(n){function e(r){return Qp(r,n)}if(0<kv.length){Qp(kv[0],n);for(var t=1;t<kv.length;t++){var i=kv[t];i.blockedOn===n&&(i.blockedOn=null)}}for(xc!==null&&Qp(xc,n),_c!==null&&Qp(_c,n),Ac!==null&&Qp(Ac,n),mg.forEach(e),gg.forEach(e),t=0;t<lc.length;t++)i=lc[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<lc.length&&(t=lc[0],t.blockedOn===null);)q4(t),t.blockedOn===null&&lc.shift()}var ch=Bl.ReactCurrentBatchConfig,H1=!0;function fG(n,e,t,i){var r=sn,s=ch.transition;ch.transition=null;try{sn=1,kM(n,e,t,i)}finally{sn=r,ch.transition=s}}function dG(n,e,t,i){var r=sn,s=ch.transition;ch.transition=null;try{sn=4,kM(n,e,t,i)}finally{sn=r,ch.transition=s}}function kM(n,e,t,i){if(H1){var r=HS(n,e,t,i);if(r===null)Ab(n,e,i,G1,t),lP(n,i);else if(cG(r,n,e,t,i))i.stopPropagation();else if(lP(n,i),e&4&&-1<lG.indexOf(n)){for(;r!==null;){var s=l0(r);if(s!==null&&X4(s),s=HS(n,e,t,i),s===null&&Ab(n,e,i,G1,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Ab(n,e,i,null,t)}}var G1=null;function HS(n,e,t,i){if(G1=null,n=PM(i),n=Gu(n),n!==null)if(e=Pf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=N4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return G1=n,null}function Q4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZH()){case IM:return 1;case V4:return 4;case N1:case eG:return 16;case W4:return 536870912;default:return 16}default:return 16}}var fc=null,BM=null,a1=null;function Z4(){if(a1)return a1;var n,e=BM,t=e.length,i,r="value"in fc?fc.value:fc.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return a1=r.slice(n,1<i?1-i:void 0)}function l1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Bv(){return!0}function uP(){return!1}function Bs(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bv:uP,this.isPropagationStopped=uP,this}return jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bv)},persist:function(){},isPersistent:Bv}),e}var cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OM=Bs(cp),a0=jn({},cp,{view:0,detail:0}),hG=Bs(a0),db,hb,Zp,Kx=jn({},a0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zp&&(Zp&&n.type==="mousemove"?(db=n.screenX-Zp.screenX,hb=n.screenY-Zp.screenY):hb=db=0,Zp=n),db)},movementY:function(n){return"movementY"in n?n.movementY:hb}}),fP=Bs(Kx),pG=jn({},Kx,{dataTransfer:0}),mG=Bs(pG),gG=jn({},a0,{relatedTarget:0}),pb=Bs(gG),vG=jn({},cp,{animationName:0,elapsedTime:0,pseudoElement:0}),yG=Bs(vG),xG=jn({},cp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_G=Bs(xG),AG=jn({},cp,{data:0}),dP=Bs(AG),bG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EG(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=SG[n])?!!e[n]:!1}function FM(){return EG}var MG=jn({},a0,{key:function(n){if(n.key){var e=bG[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=l1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wG[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FM,charCode:function(n){return n.type==="keypress"?l1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?l1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),CG=Bs(MG),TG=jn({},Kx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hP=Bs(TG),RG=jn({},a0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FM}),PG=Bs(RG),IG=jn({},cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),DG=Bs(IG),LG=jn({},Kx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kG=Bs(LG),BG=[9,13,27,32],UM=bl&&"CompositionEvent"in window,zm=null;bl&&"documentMode"in document&&(zm=document.documentMode);var OG=bl&&"TextEvent"in window&&!zm,e5=bl&&(!UM||zm&&8<zm&&11>=zm),pP=String.fromCharCode(32),mP=!1;function t5(n,e){switch(n){case"keyup":return BG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n5(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fd=!1;function FG(n,e){switch(n){case"compositionend":return n5(e);case"keypress":return e.which!==32?null:(mP=!0,pP);case"textInput":return n=e.data,n===pP&&mP?null:n;default:return null}}function UG(n,e){if(Fd)return n==="compositionend"||!UM&&t5(n,e)?(n=Z4(),a1=BM=fc=null,Fd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e5&&e.locale!=="ko"?null:e.data;default:return null}}var NG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!NG[n.type]:e==="textarea"}function i5(n,e,t,i){k4(i),e=V1(e,"onChange"),0<e.length&&(t=new OM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Hm=null,yg=null;function zG(n){p5(n,0)}function qx(n){var e=zd(n);if(C4(e))return n}function HG(n,e){if(n==="change")return e}var r5=!1;if(bl){var mb;if(bl){var gb="oninput"in document;if(!gb){var vP=document.createElement("div");vP.setAttribute("oninput","return;"),gb=typeof vP.oninput=="function"}mb=gb}else mb=!1;r5=mb&&(!document.documentMode||9<document.documentMode)}function yP(){Hm&&(Hm.detachEvent("onpropertychange",s5),yg=Hm=null)}function s5(n){if(n.propertyName==="value"&&qx(yg)){var e=[];i5(e,yg,n,PM(n)),U4(zG,e)}}function GG(n,e,t){n==="focusin"?(yP(),Hm=e,yg=t,Hm.attachEvent("onpropertychange",s5)):n==="focusout"&&yP()}function VG(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qx(yg)}function WG(n,e){if(n==="click")return qx(e)}function jG(n,e){if(n==="input"||n==="change")return qx(e)}function $G(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var $o=typeof Object.is=="function"?Object.is:$G;function xg(n,e){if($o(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!wS.call(e,r)||!$o(n[r],e[r]))return!1}return!0}function xP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _P(n,e){var t=xP(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=xP(t)}}function o5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?o5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function a5(){for(var n=window,e=O1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=O1(n.document)}return e}function NM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function XG(n){var e=a5(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&o5(t.ownerDocument.documentElement,t)){if(i!==null&&NM(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=_P(t,s);var o=_P(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var YG=bl&&"documentMode"in document&&11>=document.documentMode,Ud=null,GS=null,Gm=null,VS=!1;function AP(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;VS||Ud==null||Ud!==O1(i)||(i=Ud,"selectionStart"in i&&NM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gm&&xg(Gm,i)||(Gm=i,i=V1(GS,"onSelect"),0<i.length&&(e=new OM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ud)))}function Ov(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Nd={animationend:Ov("Animation","AnimationEnd"),animationiteration:Ov("Animation","AnimationIteration"),animationstart:Ov("Animation","AnimationStart"),transitionend:Ov("Transition","TransitionEnd")},vb={},l5={};bl&&(l5=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function Qx(n){if(vb[n])return vb[n];if(!Nd[n])return n;var e=Nd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in l5)return vb[n]=e[t];return n}var c5=Qx("animationend"),u5=Qx("animationiteration"),f5=Qx("animationstart"),d5=Qx("transitionend"),h5=new Map,bP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kc(n,e){h5.set(n,e),Rf(e,[n])}for(var yb=0;yb<bP.length;yb++){var xb=bP[yb],JG=xb.toLowerCase(),KG=xb[0].toUpperCase()+xb.slice(1);Kc(JG,"on"+KG)}Kc(c5,"onAnimationEnd");Kc(u5,"onAnimationIteration");Kc(f5,"onAnimationStart");Kc("dblclick","onDoubleClick");Kc("focusin","onFocus");Kc("focusout","onBlur");Kc(d5,"onTransitionEnd");Mh("onMouseEnter",["mouseout","mouseover"]);Mh("onMouseLeave",["mouseout","mouseover"]);Mh("onPointerEnter",["pointerout","pointerover"]);Mh("onPointerLeave",["pointerout","pointerover"]);Rf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pm));function wP(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,JH(i,e,void 0,n),n.currentTarget=null}function p5(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;wP(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;wP(r,a,c),s=l}}}if(U1)throw n=US,U1=!1,US=null,n}function xn(n,e){var t=e[YS];t===void 0&&(t=e[YS]=new Set);var i=n+"__bubble";t.has(i)||(m5(e,n,2,!1),t.add(i))}function _b(n,e,t){var i=0;e&&(i|=4),m5(t,n,i,e)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function _g(n){if(!n[Fv]){n[Fv]=!0,b4.forEach(function(t){t!=="selectionchange"&&(qG.has(t)||_b(t,!1,n),_b(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Fv]||(e[Fv]=!0,_b("selectionchange",!1,e))}}function m5(n,e,t,i){switch(Q4(e)){case 1:var r=fG;break;case 4:r=dG;break;default:r=kM}t=r.bind(null,e,t,n),r=void 0,!FS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Ab(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Gu(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}U4(function(){var c=s,u=PM(t),f=[];e:{var d=h5.get(n);if(d!==void 0){var p=OM,g=n;switch(n){case"keypress":if(l1(t)===0)break e;case"keydown":case"keyup":p=CG;break;case"focusin":g="focus",p=pb;break;case"focusout":g="blur",p=pb;break;case"beforeblur":case"afterblur":p=pb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PG;break;case c5:case u5:case f5:p=yG;break;case d5:p=DG;break;case"scroll":p=hG;break;case"wheel":p=kG;break;case"copy":case"cut":case"paste":p=_G;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hP}var x=(e&4)!==0,y=!x&&n==="scroll",v=x?d!==null?d+"Capture":null:d;x=[];for(var _=c,A;_!==null;){A=_;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,v!==null&&(w=pg(_,v),w!=null&&x.push(Ag(_,w,A)))),y)break;_=_.return}0<x.length&&(d=new p(d,g,null,t,u),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==BS&&(g=t.relatedTarget||t.fromElement)&&(Gu(g)||g[wl]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Gu(g):null,g!==null&&(y=Pf(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=fP,w="onMouseLeave",v="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(x=hP,w="onPointerLeave",v="onPointerEnter",_="pointer"),y=p==null?d:zd(p),A=g==null?d:zd(g),d=new x(w,_+"leave",p,t,u),d.target=y,d.relatedTarget=A,w=null,Gu(u)===c&&(x=new x(v,_+"enter",g,t,u),x.target=A,x.relatedTarget=y,w=x),y=w,p&&g)t:{for(x=p,v=g,_=0,A=x;A;A=ed(A))_++;for(A=0,w=v;w;w=ed(w))A++;for(;0<_-A;)x=ed(x),_--;for(;0<A-_;)v=ed(v),A--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=ed(x),v=ed(v)}x=null}else x=null;p!==null&&SP(f,d,p,x,!1),g!==null&&y!==null&&SP(f,y,g,x,!0)}}e:{if(d=c?zd(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=HG;else if(gP(d))if(r5)E=jG;else{E=VG;var M=GG}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=WG);if(E&&(E=E(n,c))){i5(f,E,t,u);break e}M&&M(n,d,c),n==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&PS(d,"number",d.value)}switch(M=c?zd(c):window,n){case"focusin":(gP(M)||M.contentEditable==="true")&&(Ud=M,GS=c,Gm=null);break;case"focusout":Gm=GS=Ud=null;break;case"mousedown":VS=!0;break;case"contextmenu":case"mouseup":case"dragend":VS=!1,AP(f,t,u);break;case"selectionchange":if(YG)break;case"keydown":case"keyup":AP(f,t,u)}var C;if(UM)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fd?t5(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(e5&&t.locale!=="ko"&&(Fd||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fd&&(C=Z4()):(fc=u,BM="value"in fc?fc.value:fc.textContent,Fd=!0)),M=V1(c,P),0<M.length&&(P=new dP(P,n,null,t,u),f.push({event:P,listeners:M}),C?P.data=C:(C=n5(t),C!==null&&(P.data=C)))),(C=OG?FG(n,t):UG(n,t))&&(c=V1(c,"onBeforeInput"),0<c.length&&(u=new dP("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=C))}p5(f,e)})}function Ag(n,e,t){return{instance:n,listener:e,currentTarget:t}}function V1(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=pg(n,t),s!=null&&i.unshift(Ag(n,s,r)),s=pg(n,e),s!=null&&i.push(Ag(n,s,r))),n=n.return}return i}function ed(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function SP(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=pg(t,s),l!=null&&o.unshift(Ag(t,l,a))):r||(l=pg(t,s),l!=null&&o.push(Ag(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var QG=/\r\n?/g,ZG=/\u0000|\uFFFD/g;function EP(n){return(typeof n=="string"?n:""+n).replace(QG,`
`).replace(ZG,"")}function Uv(n,e,t){if(e=EP(e),EP(n)!==e&&t)throw Error(je(425))}function W1(){}var WS=null,jS=null;function $S(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var XS=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,MP=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof MP<"u"?function(n){return MP.resolve(null).then(n).catch(nV)}:XS;function nV(n){setTimeout(function(){throw n})}function bb(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),vg(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);vg(e)}function bc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function CP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var up=Math.random().toString(36).slice(2),va="__reactFiber$"+up,bg="__reactProps$"+up,wl="__reactContainer$"+up,YS="__reactEvents$"+up,iV="__reactListeners$"+up,rV="__reactHandles$"+up;function Gu(n){var e=n[va];if(e)return e;for(var t=n.parentNode;t;){if(e=t[wl]||t[va]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=CP(n);n!==null;){if(t=n[va])return t;n=CP(n)}return e}n=t,t=n.parentNode}return null}function l0(n){return n=n[va]||n[wl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function zd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(je(33))}function Zx(n){return n[bg]||null}var JS=[],Hd=-1;function qc(n){return{current:n}}function wn(n){0>Hd||(n.current=JS[Hd],JS[Hd]=null,Hd--)}function vn(n,e){Hd++,JS[Hd]=n.current,n.current=e}var Bc={},Ar=qc(Bc),ns=qc(!1),df=Bc;function Ch(n,e){var t=n.type.contextTypes;if(!t)return Bc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function is(n){return n=n.childContextTypes,n!=null}function j1(){wn(ns),wn(Ar)}function TP(n,e,t){if(Ar.current!==Bc)throw Error(je(168));vn(Ar,e),vn(ns,t)}function g5(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(je(108,GH(n)||"Unknown",r));return jn({},t,i)}function $1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bc,df=Ar.current,vn(Ar,n),vn(ns,ns.current),!0}function RP(n,e,t){var i=n.stateNode;if(!i)throw Error(je(169));t?(n=g5(n,e,df),i.__reactInternalMemoizedMergedChildContext=n,wn(ns),wn(Ar),vn(Ar,n)):wn(ns),vn(ns,t)}var sl=null,e_=!1,wb=!1;function v5(n){sl===null?sl=[n]:sl.push(n)}function sV(n){e_=!0,v5(n)}function Qc(){if(!wb&&sl!==null){wb=!0;var n=0,e=sn;try{var t=sl;for(sn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}sl=null,e_=!1}catch(r){throw sl!==null&&(sl=sl.slice(n+1)),G4(IM,Qc),r}finally{sn=e,wb=!1}}return null}var Gd=[],Vd=0,X1=null,Y1=0,so=[],oo=0,hf=null,fl=1,dl="";function Lu(n,e){Gd[Vd++]=Y1,Gd[Vd++]=X1,X1=n,Y1=e}function y5(n,e,t){so[oo++]=fl,so[oo++]=dl,so[oo++]=hf,hf=n;var i=fl;n=dl;var r=32-No(i)-1;i&=~(1<<r),t+=1;var s=32-No(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,fl=1<<32-No(e)+r|t<<r|i,dl=s+n}else fl=1<<s|t<<r|i,dl=n}function zM(n){n.return!==null&&(Lu(n,1),y5(n,1,0))}function HM(n){for(;n===X1;)X1=Gd[--Vd],Gd[Vd]=null,Y1=Gd[--Vd],Gd[Vd]=null;for(;n===hf;)hf=so[--oo],so[oo]=null,dl=so[--oo],so[oo]=null,fl=so[--oo],so[oo]=null}var Cs=null,ws=null,Pn=!1,Oo=null;function x5(n,e){var t=lo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function PP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Cs=n,ws=bc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Cs=n,ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=hf!==null?{id:fl,overflow:dl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=lo(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Cs=n,ws=null,!0):!1;default:return!1}}function KS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qS(n){if(Pn){var e=ws;if(e){var t=e;if(!PP(n,e)){if(KS(n))throw Error(je(418));e=bc(t.nextSibling);var i=Cs;e&&PP(n,e)?x5(i,t):(n.flags=n.flags&-4097|2,Pn=!1,Cs=n)}}else{if(KS(n))throw Error(je(418));n.flags=n.flags&-4097|2,Pn=!1,Cs=n}}}function IP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Cs=n}function Nv(n){if(n!==Cs)return!1;if(!Pn)return IP(n),Pn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!$S(n.type,n.memoizedProps)),e&&(e=ws)){if(KS(n))throw _5(),Error(je(418));for(;e;)x5(n,e),e=bc(e.nextSibling)}if(IP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(je(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ws=bc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ws=null}}else ws=Cs?bc(n.stateNode.nextSibling):null;return!0}function _5(){for(var n=ws;n;)n=bc(n.nextSibling)}function Th(){ws=Cs=null,Pn=!1}function GM(n){Oo===null?Oo=[n]:Oo.push(n)}var oV=Bl.ReactCurrentBatchConfig;function Lo(n,e){if(n&&n.defaultProps){e=jn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var J1=qc(null),K1=null,Wd=null,VM=null;function WM(){VM=Wd=K1=null}function jM(n){var e=J1.current;wn(J1),n._currentValue=e}function QS(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function uh(n,e){K1=n,VM=Wd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Zr=!0),n.firstContext=null)}function vo(n){var e=n._currentValue;if(VM!==n)if(n={context:n,memoizedValue:e,next:null},Wd===null){if(K1===null)throw Error(je(308));Wd=n,K1.dependencies={lanes:0,firstContext:n}}else Wd=Wd.next=n;return e}var Vu=null;function $M(n){Vu===null?Vu=[n]:Vu.push(n)}function A5(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,$M(e)):(t.next=r.next,r.next=t),e.interleaved=t,Sl(n,i)}function Sl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var sc=!1;function XM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b5(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ml(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function wc(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Yt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Sl(n,t)}return r=i.interleaved,r===null?(e.next=e,$M(i)):(e.next=r.next,r.next=e),i.interleaved=e,Sl(n,t)}function c1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,DM(n,t)}}function DP(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function q1(n,e,t,i){var r=n.updateQueue;sc=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,x=a;switch(d=e,p=t,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=jn({},f,d);break e;case 2:sc=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);mf|=o,n.lanes=o,n.memoizedState=f}}function LP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(je(191,r));r.call(i)}}}var w5=new A4.Component().refs;function ZS(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:jn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var t_={isMounted:function(n){return(n=n._reactInternals)?Pf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Fr(),r=Ec(n),s=ml(i,r);s.payload=e,t!=null&&(s.callback=t),e=wc(n,s,r),e!==null&&(zo(e,n,r,i),c1(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Fr(),r=Ec(n),s=ml(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=wc(n,s,r),e!==null&&(zo(e,n,r,i),c1(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Fr(),i=Ec(n),r=ml(t,i);r.tag=2,e!=null&&(r.callback=e),e=wc(n,r,i),e!==null&&(zo(e,n,i,t),c1(e,n,i))}};function kP(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!xg(t,i)||!xg(r,s):!0}function S5(n,e,t){var i=!1,r=Bc,s=e.contextType;return typeof s=="object"&&s!==null?s=vo(s):(r=is(e)?df:Ar.current,i=e.contextTypes,s=(i=i!=null)?Ch(n,r):Bc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t_,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function BP(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&t_.enqueueReplaceState(e,e.state,null)}function e2(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=w5,XM(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=vo(s):(s=is(e)?df:Ar.current,r.context=Ch(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ZS(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&t_.enqueueReplaceState(r,r.state,null),q1(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function em(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(je(309));var i=t.stateNode}if(!i)throw Error(je(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===w5&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(je(284));if(!t._owner)throw Error(je(290,n))}return n}function zv(n,e){throw n=Object.prototype.toString.call(e),Error(je(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function OP(n){var e=n._init;return e(n._payload)}function E5(n){function e(v,_){if(n){var A=v.deletions;A===null?(v.deletions=[_],v.flags|=16):A.push(_)}}function t(v,_){if(!n)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function r(v,_){return v=Mc(v,_),v.index=0,v.sibling=null,v}function s(v,_,A){return v.index=A,n?(A=v.alternate,A!==null?(A=A.index,A<_?(v.flags|=2,_):A):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,_,A,w){return _===null||_.tag!==6?(_=Pb(A,v.mode,w),_.return=v,_):(_=r(_,A),_.return=v,_)}function l(v,_,A,w){var E=A.type;return E===Od?u(v,_,A.props.children,w,A.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rc&&OP(E)===_.type)?(w=r(_,A.props),w.ref=em(v,_,A),w.return=v,w):(w=m1(A.type,A.key,A.props,null,v.mode,w),w.ref=em(v,_,A),w.return=v,w)}function c(v,_,A,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Ib(A,v.mode,w),_.return=v,_):(_=r(_,A.children||[]),_.return=v,_)}function u(v,_,A,w,E){return _===null||_.tag!==7?(_=ef(A,v.mode,w,E),_.return=v,_):(_=r(_,A),_.return=v,_)}function f(v,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Pb(""+_,v.mode,A),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rv:return A=m1(_.type,_.key,_.props,null,v.mode,A),A.ref=em(v,null,_),A.return=v,A;case Bd:return _=Ib(_,v.mode,A),_.return=v,_;case rc:var w=_._init;return f(v,w(_._payload),A)}if(Tm(_)||Jp(_))return _=ef(_,v.mode,A,null),_.return=v,_;zv(v,_)}return null}function d(v,_,A,w){var E=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return E!==null?null:a(v,_,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Rv:return A.key===E?l(v,_,A,w):null;case Bd:return A.key===E?c(v,_,A,w):null;case rc:return E=A._init,d(v,_,E(A._payload),w)}if(Tm(A)||Jp(A))return E!==null?null:u(v,_,A,w,null);zv(v,A)}return null}function p(v,_,A,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(A)||null,a(_,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rv:return v=v.get(w.key===null?A:w.key)||null,l(_,v,w,E);case Bd:return v=v.get(w.key===null?A:w.key)||null,c(_,v,w,E);case rc:var M=w._init;return p(v,_,A,M(w._payload),E)}if(Tm(w)||Jp(w))return v=v.get(A)||null,u(_,v,w,E,null);zv(_,w)}return null}function g(v,_,A,w){for(var E=null,M=null,C=_,P=_=0,T=null;C!==null&&P<A.length;P++){C.index>P?(T=C,C=null):T=C.sibling;var D=d(v,C,A[P],w);if(D===null){C===null&&(C=T);break}n&&C&&D.alternate===null&&e(v,C),_=s(D,_,P),M===null?E=D:M.sibling=D,M=D,C=T}if(P===A.length)return t(v,C),Pn&&Lu(v,P),E;if(C===null){for(;P<A.length;P++)C=f(v,A[P],w),C!==null&&(_=s(C,_,P),M===null?E=C:M.sibling=C,M=C);return Pn&&Lu(v,P),E}for(C=i(v,C);P<A.length;P++)T=p(C,v,P,A[P],w),T!==null&&(n&&T.alternate!==null&&C.delete(T.key===null?P:T.key),_=s(T,_,P),M===null?E=T:M.sibling=T,M=T);return n&&C.forEach(function(O){return e(v,O)}),Pn&&Lu(v,P),E}function x(v,_,A,w){var E=Jp(A);if(typeof E!="function")throw Error(je(150));if(A=E.call(A),A==null)throw Error(je(151));for(var M=E=null,C=_,P=_=0,T=null,D=A.next();C!==null&&!D.done;P++,D=A.next()){C.index>P?(T=C,C=null):T=C.sibling;var O=d(v,C,D.value,w);if(O===null){C===null&&(C=T);break}n&&C&&O.alternate===null&&e(v,C),_=s(O,_,P),M===null?E=O:M.sibling=O,M=O,C=T}if(D.done)return t(v,C),Pn&&Lu(v,P),E;if(C===null){for(;!D.done;P++,D=A.next())D=f(v,D.value,w),D!==null&&(_=s(D,_,P),M===null?E=D:M.sibling=D,M=D);return Pn&&Lu(v,P),E}for(C=i(v,C);!D.done;P++,D=A.next())D=p(C,v,P,D.value,w),D!==null&&(n&&D.alternate!==null&&C.delete(D.key===null?P:D.key),_=s(D,_,P),M===null?E=D:M.sibling=D,M=D);return n&&C.forEach(function(N){return e(v,N)}),Pn&&Lu(v,P),E}function y(v,_,A,w){if(typeof A=="object"&&A!==null&&A.type===Od&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Rv:e:{for(var E=A.key,M=_;M!==null;){if(M.key===E){if(E=A.type,E===Od){if(M.tag===7){t(v,M.sibling),_=r(M,A.props.children),_.return=v,v=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rc&&OP(E)===M.type){t(v,M.sibling),_=r(M,A.props),_.ref=em(v,M,A),_.return=v,v=_;break e}t(v,M);break}else e(v,M);M=M.sibling}A.type===Od?(_=ef(A.props.children,v.mode,w,A.key),_.return=v,v=_):(w=m1(A.type,A.key,A.props,null,v.mode,w),w.ref=em(v,_,A),w.return=v,v=w)}return o(v);case Bd:e:{for(M=A.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){t(v,_.sibling),_=r(_,A.children||[]),_.return=v,v=_;break e}else{t(v,_);break}else e(v,_);_=_.sibling}_=Ib(A,v.mode,w),_.return=v,v=_}return o(v);case rc:return M=A._init,y(v,_,M(A._payload),w)}if(Tm(A))return g(v,_,A,w);if(Jp(A))return x(v,_,A,w);zv(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(t(v,_.sibling),_=r(_,A),_.return=v,v=_):(t(v,_),_=Pb(A,v.mode,w),_.return=v,v=_),o(v)):t(v,_)}return y}var Rh=E5(!0),M5=E5(!1),c0={},Sa=qc(c0),wg=qc(c0),Sg=qc(c0);function Wu(n){if(n===c0)throw Error(je(174));return n}function YM(n,e){switch(vn(Sg,e),vn(wg,n),vn(Sa,c0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=DS(e,n)}wn(Sa),vn(Sa,e)}function Ph(){wn(Sa),wn(wg),wn(Sg)}function C5(n){Wu(Sg.current);var e=Wu(Sa.current),t=DS(e,n.type);e!==t&&(vn(wg,n),vn(Sa,t))}function JM(n){wg.current===n&&(wn(Sa),wn(wg))}var Nn=qc(0);function Q1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sb=[];function KM(){for(var n=0;n<Sb.length;n++)Sb[n]._workInProgressVersionPrimary=null;Sb.length=0}var u1=Bl.ReactCurrentDispatcher,Eb=Bl.ReactCurrentBatchConfig,pf=0,Wn=null,Ai=null,Oi=null,Z1=!1,Vm=!1,Eg=0,aV=0;function sr(){throw Error(je(321))}function qM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!$o(n[t],e[t]))return!1;return!0}function QM(n,e,t,i,r,s){if(pf=s,Wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,u1.current=n===null||n.memoizedState===null?fV:dV,n=t(i,r),Vm){s=0;do{if(Vm=!1,Eg=0,25<=s)throw Error(je(301));s+=1,Oi=Ai=null,e.updateQueue=null,u1.current=hV,n=t(i,r)}while(Vm)}if(u1.current=ex,e=Ai!==null&&Ai.next!==null,pf=0,Oi=Ai=Wn=null,Z1=!1,e)throw Error(je(300));return n}function ZM(){var n=Eg!==0;return Eg=0,n}function ga(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Wn.memoizedState=Oi=n:Oi=Oi.next=n,Oi}function yo(){if(Ai===null){var n=Wn.alternate;n=n!==null?n.memoizedState:null}else n=Ai.next;var e=Oi===null?Wn.memoizedState:Oi.next;if(e!==null)Oi=e,Ai=n;else{if(n===null)throw Error(je(310));Ai=n,n={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Oi===null?Wn.memoizedState=Oi=n:Oi=Oi.next=n}return Oi}function Mg(n,e){return typeof e=="function"?e(n):e}function Mb(n){var e=yo(),t=e.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=n;var i=Ai,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((pf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Wn.lanes|=u,mf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,$o(i,e.memoizedState)||(Zr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Wn.lanes|=s,mf|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Cb(n){var e=yo(),t=e.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);$o(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function T5(){}function R5(n,e){var t=Wn,i=yo(),r=e(),s=!$o(i.memoizedState,r);if(s&&(i.memoizedState=r,Zr=!0),i=i.queue,eC(D5.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Oi!==null&&Oi.memoizedState.tag&1){if(t.flags|=2048,Cg(9,I5.bind(null,t,i,r,e),void 0,null),Ni===null)throw Error(je(349));pf&30||P5(t,e,r)}return r}function P5(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function I5(n,e,t,i){e.value=t,e.getSnapshot=i,L5(e)&&k5(n)}function D5(n,e,t){return t(function(){L5(e)&&k5(n)})}function L5(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!$o(n,t)}catch{return!0}}function k5(n){var e=Sl(n,1);e!==null&&zo(e,n,1,-1)}function FP(n){var e=ga();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},e.queue=n,n=n.dispatch=uV.bind(null,Wn,n),[e.memoizedState,n]}function Cg(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function B5(){return yo().memoizedState}function f1(n,e,t,i){var r=ga();Wn.flags|=n,r.memoizedState=Cg(1|e,t,void 0,i===void 0?null:i)}function n_(n,e,t,i){var r=yo();i=i===void 0?null:i;var s=void 0;if(Ai!==null){var o=Ai.memoizedState;if(s=o.destroy,i!==null&&qM(i,o.deps)){r.memoizedState=Cg(e,t,s,i);return}}Wn.flags|=n,r.memoizedState=Cg(1|e,t,s,i)}function UP(n,e){return f1(8390656,8,n,e)}function eC(n,e){return n_(2048,8,n,e)}function O5(n,e){return n_(4,2,n,e)}function F5(n,e){return n_(4,4,n,e)}function U5(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function N5(n,e,t){return t=t!=null?t.concat([n]):null,n_(4,4,U5.bind(null,e,n),t)}function tC(){}function z5(n,e){var t=yo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&qM(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function H5(n,e){var t=yo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&qM(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function G5(n,e,t){return pf&21?($o(t,e)||(t=j4(),Wn.lanes|=t,mf|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Zr=!0),n.memoizedState=t)}function lV(n,e){var t=sn;sn=t!==0&&4>t?t:4,n(!0);var i=Eb.transition;Eb.transition={};try{n(!1),e()}finally{sn=t,Eb.transition=i}}function V5(){return yo().memoizedState}function cV(n,e,t){var i=Ec(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},W5(n))j5(e,t);else if(t=A5(n,e,t,i),t!==null){var r=Fr();zo(t,n,i,r),$5(t,e,i)}}function uV(n,e,t){var i=Ec(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(W5(n))j5(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,$o(a,o)){var l=e.interleaved;l===null?(r.next=r,$M(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=A5(n,e,r,i),t!==null&&(r=Fr(),zo(t,n,i,r),$5(t,e,i))}}function W5(n){var e=n.alternate;return n===Wn||e!==null&&e===Wn}function j5(n,e){Vm=Z1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $5(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,DM(n,t)}}var ex={readContext:vo,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},fV={readContext:vo,useCallback:function(n,e){return ga().memoizedState=[n,e===void 0?null:e],n},useContext:vo,useEffect:UP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,f1(4194308,4,U5.bind(null,e,n),t)},useLayoutEffect:function(n,e){return f1(4194308,4,n,e)},useInsertionEffect:function(n,e){return f1(4,2,n,e)},useMemo:function(n,e){var t=ga();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ga();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=cV.bind(null,Wn,n),[i.memoizedState,n]},useRef:function(n){var e=ga();return n={current:n},e.memoizedState=n},useState:FP,useDebugValue:tC,useDeferredValue:function(n){return ga().memoizedState=n},useTransition:function(){var n=FP(!1),e=n[0];return n=lV.bind(null,n[1]),ga().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Wn,r=ga();if(Pn){if(t===void 0)throw Error(je(407));t=t()}else{if(t=e(),Ni===null)throw Error(je(349));pf&30||P5(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,UP(D5.bind(null,i,s,n),[n]),i.flags|=2048,Cg(9,I5.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ga(),e=Ni.identifierPrefix;if(Pn){var t=dl,i=fl;t=(i&~(1<<32-No(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Eg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=aV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},dV={readContext:vo,useCallback:z5,useContext:vo,useEffect:eC,useImperativeHandle:N5,useInsertionEffect:O5,useLayoutEffect:F5,useMemo:H5,useReducer:Mb,useRef:B5,useState:function(){return Mb(Mg)},useDebugValue:tC,useDeferredValue:function(n){var e=yo();return G5(e,Ai.memoizedState,n)},useTransition:function(){var n=Mb(Mg)[0],e=yo().memoizedState;return[n,e]},useMutableSource:T5,useSyncExternalStore:R5,useId:V5,unstable_isNewReconciler:!1},hV={readContext:vo,useCallback:z5,useContext:vo,useEffect:eC,useImperativeHandle:N5,useInsertionEffect:O5,useLayoutEffect:F5,useMemo:H5,useReducer:Cb,useRef:B5,useState:function(){return Cb(Mg)},useDebugValue:tC,useDeferredValue:function(n){var e=yo();return Ai===null?e.memoizedState=n:G5(e,Ai.memoizedState,n)},useTransition:function(){var n=Cb(Mg)[0],e=yo().memoizedState;return[n,e]},useMutableSource:T5,useSyncExternalStore:R5,useId:V5,unstable_isNewReconciler:!1};function Ih(n,e){try{var t="",i=e;do t+=HH(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Tb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function t2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var pV=typeof WeakMap=="function"?WeakMap:Map;function X5(n,e,t){t=ml(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){nx||(nx=!0,f2=i),t2(n,e)},t}function Y5(n,e,t){t=ml(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){t2(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){t2(n,e),typeof i!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function NP(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new pV;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=TV.bind(null,n,e,t),e.then(n,n))}function zP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function HP(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ml(-1,1),e.tag=2,wc(t,e,1))),t.lanes|=1),n)}var mV=Bl.ReactCurrentOwner,Zr=!1;function kr(n,e,t,i){e.child=n===null?M5(e,null,t,i):Rh(e,n.child,t,i)}function GP(n,e,t,i,r){t=t.render;var s=e.ref;return uh(e,r),i=QM(n,e,t,i,s,r),t=ZM(),n!==null&&!Zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,El(n,e,r)):(Pn&&t&&zM(e),e.flags|=1,kr(n,e,i,r),e.child)}function VP(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!cC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,J5(n,e,s,i,r)):(n=m1(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:xg,t(o,i)&&n.ref===e.ref)return El(n,e,r)}return e.flags|=1,n=Mc(s,i),n.ref=e.ref,n.return=e,e.child=n}function J5(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(xg(s,i)&&n.ref===e.ref)if(Zr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Zr=!0);else return e.lanes=n.lanes,El(n,e,r)}return n2(n,e,t,i,r)}function K5(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn($d,_s),_s|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,vn($d,_s),_s|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,vn($d,_s),_s|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,vn($d,_s),_s|=i;return kr(n,e,r,t),e.child}function q5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function n2(n,e,t,i,r){var s=is(t)?df:Ar.current;return s=Ch(e,s),uh(e,r),t=QM(n,e,t,i,s,r),i=ZM(),n!==null&&!Zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,El(n,e,r)):(Pn&&i&&zM(e),e.flags|=1,kr(n,e,t,r),e.child)}function WP(n,e,t,i,r){if(is(t)){var s=!0;$1(e)}else s=!1;if(uh(e,r),e.stateNode===null)d1(n,e),S5(e,t,i),e2(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=vo(c):(c=is(t)?df:Ar.current,c=Ch(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&BP(e,o,i,c),sc=!1;var d=e.memoizedState;o.state=d,q1(e,i,o,r),l=e.memoizedState,a!==i||d!==l||ns.current||sc?(typeof u=="function"&&(ZS(e,t,u,i),l=e.memoizedState),(a=sc||kP(e,t,a,i,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,b5(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lo(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=is(t)?df:Ar.current,l=Ch(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&BP(e,o,i,l),sc=!1,d=e.memoizedState,o.state=d,q1(e,i,o,r);var g=e.memoizedState;a!==f||d!==g||ns.current||sc?(typeof p=="function"&&(ZS(e,t,p,i),g=e.memoizedState),(c=sc||kP(e,t,c,i,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return i2(n,e,t,i,s,r)}function i2(n,e,t,i,r,s){q5(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&RP(e,t,!1),El(n,e,s);i=e.stateNode,mV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Rh(e,n.child,null,s),e.child=Rh(e,null,a,s)):kr(n,e,a,s),e.memoizedState=i.state,r&&RP(e,t,!0),e.child}function Q5(n){var e=n.stateNode;e.pendingContext?TP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&TP(n,e.context,!1),YM(n,e.containerInfo)}function jP(n,e,t,i,r){return Th(),GM(r),e.flags|=256,kr(n,e,t,i),e.child}var r2={dehydrated:null,treeContext:null,retryLane:0};function s2(n){return{baseLanes:n,cachePool:null,transitions:null}}function Z5(n,e,t){var i=e.pendingProps,r=Nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),vn(Nn,r&1),n===null)return qS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=s_(o,i,0,null),n=ef(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=s2(t),e.memoizedState=r2,n):nC(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return gV(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Mc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Mc(a,s):(s=ef(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?s2(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=r2,i}return s=n.child,n=s.sibling,i=Mc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function nC(n,e){return e=s_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Hv(n,e,t,i){return i!==null&&GM(i),Rh(e,n.child,null,t),n=nC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function gV(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Tb(Error(je(422))),Hv(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=s_({mode:"visible",children:i.children},r,0,null),s=ef(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Rh(e,n.child,null,o),e.child.memoizedState=s2(o),e.memoizedState=r2,s);if(!(e.mode&1))return Hv(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(je(419)),i=Tb(s,i,void 0),Hv(n,e,o,i)}if(a=(o&n.childLanes)!==0,Zr||a){if(i=Ni,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Sl(n,r),zo(i,n,r,-1))}return lC(),i=Tb(Error(je(421))),Hv(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=RV.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ws=bc(r.nextSibling),Cs=e,Pn=!0,Oo=null,n!==null&&(so[oo++]=fl,so[oo++]=dl,so[oo++]=hf,fl=n.id,dl=n.overflow,hf=e),e=nC(e,i.children),e.flags|=4096,e)}function $P(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),QS(n.return,e,t)}function Rb(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function eF(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(kr(n,e,i.children,t),i=Nn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$P(n,t,e);else if(n.tag===19)$P(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(vn(Nn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Q1(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Rb(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Q1(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Rb(e,!0,t,null,s);break;case"together":Rb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function d1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function El(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),mf|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(je(153));if(e.child!==null){for(n=e.child,t=Mc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Mc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function vV(n,e,t){switch(e.tag){case 3:Q5(e),Th();break;case 5:C5(e);break;case 1:is(e.type)&&$1(e);break;case 4:YM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;vn(J1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(vn(Nn,Nn.current&1),e.flags|=128,null):t&e.child.childLanes?Z5(n,e,t):(vn(Nn,Nn.current&1),n=El(n,e,t),n!==null?n.sibling:null);vn(Nn,Nn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return eF(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),vn(Nn,Nn.current),i)break;return null;case 22:case 23:return e.lanes=0,K5(n,e,t)}return El(n,e,t)}var tF,o2,nF,iF;tF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};o2=function(){};nF=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Wu(Sa.current);var s=null;switch(t){case"input":r=TS(n,r),i=TS(n,i),s=[];break;case"select":r=jn({},r,{value:void 0}),i=jn({},i,{value:void 0}),s=[];break;case"textarea":r=IS(n,r),i=IS(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=W1)}LS(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iF=function(n,e,t,i){t!==i&&(e.flags|=4)};function tm(n,e){if(!Pn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function or(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function yV(n,e,t){var i=e.pendingProps;switch(HM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return is(e.type)&&j1(),or(e),null;case 3:return i=e.stateNode,Ph(),wn(ns),wn(Ar),KM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Nv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oo!==null&&(p2(Oo),Oo=null))),o2(n,e),or(e),null;case 5:JM(e);var r=Wu(Sg.current);if(t=e.type,n!==null&&e.stateNode!=null)nF(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(je(166));return or(e),null}if(n=Wu(Sa.current),Nv(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[va]=e,i[bg]=s,n=(e.mode&1)!==0,t){case"dialog":xn("cancel",i),xn("close",i);break;case"iframe":case"object":case"embed":xn("load",i);break;case"video":case"audio":for(r=0;r<Pm.length;r++)xn(Pm[r],i);break;case"source":xn("error",i);break;case"img":case"image":case"link":xn("error",i),xn("load",i);break;case"details":xn("toggle",i);break;case"input":tP(i,s),xn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},xn("invalid",i);break;case"textarea":iP(i,s),xn("invalid",i)}LS(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uv(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uv(i.textContent,a,n),r=["children",""+a]):dg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xn("scroll",i)}switch(t){case"input":Pv(i),nP(i,s,!0);break;case"textarea":Pv(i),rP(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=W1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=P4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[va]=e,n[bg]=i,tF(n,e,!1,!1),e.stateNode=n;e:{switch(o=kS(t,i),t){case"dialog":xn("cancel",n),xn("close",n),r=i;break;case"iframe":case"object":case"embed":xn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Pm.length;r++)xn(Pm[r],n);r=i;break;case"source":xn("error",n),r=i;break;case"img":case"image":case"link":xn("error",n),xn("load",n),r=i;break;case"details":xn("toggle",n),r=i;break;case"input":tP(n,i),r=TS(n,i),xn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=jn({},i,{value:void 0}),xn("invalid",n);break;case"textarea":iP(n,i),r=IS(n,i),xn("invalid",n);break;default:r=i}LS(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?L4(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hg(n,l):typeof l=="number"&&hg(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xn("scroll",n):l!=null&&MM(n,s,l,o))}switch(t){case"input":Pv(n),nP(n,i,!1);break;case"textarea":Pv(n),rP(n);break;case"option":i.value!=null&&n.setAttribute("value",""+kc(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?oh(n,!!i.multiple,s,!1):i.defaultValue!=null&&oh(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=W1)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(n&&e.stateNode!=null)iF(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(je(166));if(t=Wu(Sg.current),Wu(Sa.current),Nv(e)){if(i=e.stateNode,t=e.memoizedProps,i[va]=e,(s=i.nodeValue!==t)&&(n=Cs,n!==null))switch(n.tag){case 3:Uv(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Uv(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[va]=e,e.stateNode=i}return or(e),null;case 13:if(wn(Nn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pn&&ws!==null&&e.mode&1&&!(e.flags&128))_5(),Th(),e.flags|=98560,s=!1;else if(s=Nv(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[va]=e}else Th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else Oo!==null&&(p2(Oo),Oo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Nn.current&1?wi===0&&(wi=3):lC())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Ph(),o2(n,e),n===null&&_g(e.stateNode.containerInfo),or(e),null;case 10:return jM(e.type._context),or(e),null;case 17:return is(e.type)&&j1(),or(e),null;case 19:if(wn(Nn),s=e.memoizedState,s===null)return or(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)tm(s,!1);else{if(wi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Q1(n),o!==null){for(e.flags|=128,tm(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return vn(Nn,Nn.current&1|2),e.child}n=n.sibling}s.tail!==null&&si()>Dh&&(e.flags|=128,i=!0,tm(s,!1),e.lanes=4194304)}else{if(!i)if(n=Q1(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return or(e),null}else 2*si()-s.renderingStartTime>Dh&&t!==1073741824&&(e.flags|=128,i=!0,tm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=si(),e.sibling=null,t=Nn.current,vn(Nn,i?t&1|2:t&1),e):(or(e),null);case 22:case 23:return aC(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?_s&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function xV(n,e){switch(HM(e),e.tag){case 1:return is(e.type)&&j1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ph(),wn(ns),wn(Ar),KM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return JM(e),null;case 13:if(wn(Nn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Th()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return wn(Nn),null;case 4:return Ph(),null;case 10:return jM(e.type._context),null;case 22:case 23:return aC(),null;case 24:return null;default:return null}}var Gv=!1,ur=!1,_V=typeof WeakSet=="function"?WeakSet:Set,it=null;function jd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Yn(n,e,i)}else t.current=null}function a2(n,e,t){try{t()}catch(i){Yn(n,e,i)}}var XP=!1;function AV(n,e){if(WS=H1,n=a5(),NM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var p;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(jS={focusedElem:n,selectionRange:t},H1=!1,it=e;it!==null;)if(e=it,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,it=n;else for(;it!==null;){e=it;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Lo(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(w){Yn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,it=n;break}it=e.return}return g=XP,XP=!1,g}function Wm(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&a2(e,t,s)}r=r.next}while(r!==i)}}function i_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function l2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function rF(n){var e=n.alternate;e!==null&&(n.alternate=null,rF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[va],delete e[bg],delete e[YS],delete e[iV],delete e[rV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sF(n){return n.tag===5||n.tag===3||n.tag===4}function YP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function c2(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=W1));else if(i!==4&&(n=n.child,n!==null))for(c2(n,e,t),n=n.sibling;n!==null;)c2(n,e,t),n=n.sibling}function u2(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(u2(n,e,t),n=n.sibling;n!==null;)u2(n,e,t),n=n.sibling}var $i=null,Bo=!1;function Jl(n,e,t){for(t=t.child;t!==null;)oF(n,e,t),t=t.sibling}function oF(n,e,t){if(wa&&typeof wa.onCommitFiberUnmount=="function")try{wa.onCommitFiberUnmount(Jx,t)}catch{}switch(t.tag){case 5:ur||jd(t,e);case 6:var i=$i,r=Bo;$i=null,Jl(n,e,t),$i=i,Bo=r,$i!==null&&(Bo?(n=$i,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):$i.removeChild(t.stateNode));break;case 18:$i!==null&&(Bo?(n=$i,t=t.stateNode,n.nodeType===8?bb(n.parentNode,t):n.nodeType===1&&bb(n,t),vg(n)):bb($i,t.stateNode));break;case 4:i=$i,r=Bo,$i=t.stateNode.containerInfo,Bo=!0,Jl(n,e,t),$i=i,Bo=r;break;case 0:case 11:case 14:case 15:if(!ur&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&a2(t,e,o),r=r.next}while(r!==i)}Jl(n,e,t);break;case 1:if(!ur&&(jd(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Yn(t,e,a)}Jl(n,e,t);break;case 21:Jl(n,e,t);break;case 22:t.mode&1?(ur=(i=ur)||t.memoizedState!==null,Jl(n,e,t),ur=i):Jl(n,e,t);break;default:Jl(n,e,t)}}function JP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new _V),e.forEach(function(i){var r=PV.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function To(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$i=a.stateNode,Bo=!1;break e;case 3:$i=a.stateNode.containerInfo,Bo=!0;break e;case 4:$i=a.stateNode.containerInfo,Bo=!0;break e}a=a.return}if($i===null)throw Error(je(160));oF(s,o,r),$i=null,Bo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Yn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aF(e,n),e=e.sibling}function aF(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(To(e,n),pa(n),i&4){try{Wm(3,n,n.return),i_(3,n)}catch(x){Yn(n,n.return,x)}try{Wm(5,n,n.return)}catch(x){Yn(n,n.return,x)}}break;case 1:To(e,n),pa(n),i&512&&t!==null&&jd(t,t.return);break;case 5:if(To(e,n),pa(n),i&512&&t!==null&&jd(t,t.return),n.flags&32){var r=n.stateNode;try{hg(r,"")}catch(x){Yn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&T4(r,s),kS(a,o);var c=kS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?L4(r,f):u==="dangerouslySetInnerHTML"?I4(r,f):u==="children"?hg(r,f):MM(r,u,f,c)}switch(a){case"input":RS(r,s);break;case"textarea":R4(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?oh(r,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?oh(r,!!s.multiple,s.defaultValue,!0):oh(r,!!s.multiple,s.multiple?[]:"",!1))}r[bg]=s}catch(x){Yn(n,n.return,x)}}break;case 6:if(To(e,n),pa(n),i&4){if(n.stateNode===null)throw Error(je(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Yn(n,n.return,x)}}break;case 3:if(To(e,n),pa(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{vg(e.containerInfo)}catch(x){Yn(n,n.return,x)}break;case 4:To(e,n),pa(n);break;case 13:To(e,n),pa(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(sC=si())),i&4&&JP(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ur=(c=ur)||u,To(e,n),ur=c):To(e,n),pa(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(it=n,u=n.child;u!==null;){for(f=it=u;it!==null;){switch(d=it,p=d.child,d.tag){case 0:case 11:case 14:case 15:Wm(4,d,d.return);break;case 1:jd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Yn(i,t,x)}}break;case 5:jd(d,d.return);break;case 22:if(d.memoizedState!==null){qP(f);continue}}p!==null?(p.return=d,it=p):qP(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D4("display",o))}catch(x){Yn(n,n.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Yn(n,n.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:To(e,n),pa(n),i&4&&JP(n);break;case 21:break;default:To(e,n),pa(n)}}function pa(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(sF(t)){var i=t;break e}t=t.return}throw Error(je(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(hg(r,""),i.flags&=-33);var s=YP(n);u2(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=YP(n);c2(n,a,o);break;default:throw Error(je(161))}}catch(l){Yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function bV(n,e,t){it=n,lF(n)}function lF(n,e,t){for(var i=(n.mode&1)!==0;it!==null;){var r=it,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Gv;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ur;a=Gv;var c=ur;if(Gv=o,(ur=l)&&!c)for(it=r;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?QP(r):l!==null?(l.return=o,it=l):QP(r);for(;s!==null;)it=s,lF(s),s=s.sibling;it=r,Gv=a,ur=c}KP(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,it=s):KP(n)}}function KP(n){for(;it!==null;){var e=it;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ur||i_(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ur)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Lo(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&LP(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}LP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&vg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}ur||e.flags&512&&l2(e)}catch(d){Yn(e,e.return,d)}}if(e===n){it=null;break}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}}function qP(n){for(;it!==null;){var e=it;if(e===n){it=null;break}var t=e.sibling;if(t!==null){t.return=e.return,it=t;break}it=e.return}}function QP(n){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{i_(4,e)}catch(l){Yn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Yn(e,r,l)}}var s=e.return;try{l2(e)}catch(l){Yn(e,s,l)}break;case 5:var o=e.return;try{l2(e)}catch(l){Yn(e,o,l)}}}catch(l){Yn(e,e.return,l)}if(e===n){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var wV=Math.ceil,tx=Bl.ReactCurrentDispatcher,iC=Bl.ReactCurrentOwner,mo=Bl.ReactCurrentBatchConfig,Yt=0,Ni=null,mi=null,Ji=0,_s=0,$d=qc(0),wi=0,Tg=null,mf=0,r_=0,rC=0,jm=null,Xr=null,sC=0,Dh=1/0,il=null,nx=!1,f2=null,Sc=null,Vv=!1,dc=null,ix=0,$m=0,d2=null,h1=-1,p1=0;function Fr(){return Yt&6?si():h1!==-1?h1:h1=si()}function Ec(n){return n.mode&1?Yt&2&&Ji!==0?Ji&-Ji:oV.transition!==null?(p1===0&&(p1=j4()),p1):(n=sn,n!==0||(n=window.event,n=n===void 0?16:Q4(n.type)),n):1}function zo(n,e,t,i){if(50<$m)throw $m=0,d2=null,Error(je(185));o0(n,t,i),(!(Yt&2)||n!==Ni)&&(n===Ni&&(!(Yt&2)&&(r_|=t),wi===4&&cc(n,Ji)),rs(n,i),t===1&&Yt===0&&!(e.mode&1)&&(Dh=si()+500,e_&&Qc()))}function rs(n,e){var t=n.callbackNode;oG(n,e);var i=z1(n,n===Ni?Ji:0);if(i===0)t!==null&&aP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&aP(t),e===1)n.tag===0?sV(ZP.bind(null,n)):v5(ZP.bind(null,n)),tV(function(){!(Yt&6)&&Qc()}),t=null;else{switch($4(i)){case 1:t=IM;break;case 4:t=V4;break;case 16:t=N1;break;case 536870912:t=W4;break;default:t=N1}t=gF(t,cF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function cF(n,e){if(h1=-1,p1=0,Yt&6)throw Error(je(327));var t=n.callbackNode;if(fh()&&n.callbackNode!==t)return null;var i=z1(n,n===Ni?Ji:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=rx(n,i);else{e=i;var r=Yt;Yt|=2;var s=fF();(Ni!==n||Ji!==e)&&(il=null,Dh=si()+500,Zu(n,e));do try{MV();break}catch(a){uF(n,a)}while(1);WM(),tx.current=s,Yt=r,mi!==null?e=0:(Ni=null,Ji=0,e=wi)}if(e!==0){if(e===2&&(r=NS(n),r!==0&&(i=r,e=h2(n,r))),e===1)throw t=Tg,Zu(n,0),cc(n,i),rs(n,si()),t;if(e===6)cc(n,i);else{if(r=n.current.alternate,!(i&30)&&!SV(r)&&(e=rx(n,i),e===2&&(s=NS(n),s!==0&&(i=s,e=h2(n,s))),e===1))throw t=Tg,Zu(n,0),cc(n,i),rs(n,si()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(je(345));case 2:ku(n,Xr,il);break;case 3:if(cc(n,i),(i&130023424)===i&&(e=sC+500-si(),10<e)){if(z1(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Fr(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=XS(ku.bind(null,n,Xr,il),e);break}ku(n,Xr,il);break;case 4:if(cc(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-No(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=si()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wV(i/1960))-i,10<i){n.timeoutHandle=XS(ku.bind(null,n,Xr,il),i);break}ku(n,Xr,il);break;case 5:ku(n,Xr,il);break;default:throw Error(je(329))}}}return rs(n,si()),n.callbackNode===t?cF.bind(null,n):null}function h2(n,e){var t=jm;return n.current.memoizedState.isDehydrated&&(Zu(n,e).flags|=256),n=rx(n,e),n!==2&&(e=Xr,Xr=t,e!==null&&p2(e)),n}function p2(n){Xr===null?Xr=n:Xr.push.apply(Xr,n)}function SV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!$o(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cc(n,e){for(e&=~rC,e&=~r_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-No(e),i=1<<t;n[t]=-1,e&=~i}}function ZP(n){if(Yt&6)throw Error(je(327));fh();var e=z1(n,0);if(!(e&1))return rs(n,si()),null;var t=rx(n,e);if(n.tag!==0&&t===2){var i=NS(n);i!==0&&(e=i,t=h2(n,i))}if(t===1)throw t=Tg,Zu(n,0),cc(n,e),rs(n,si()),t;if(t===6)throw Error(je(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ku(n,Xr,il),rs(n,si()),null}function oC(n,e){var t=Yt;Yt|=1;try{return n(e)}finally{Yt=t,Yt===0&&(Dh=si()+500,e_&&Qc())}}function gf(n){dc!==null&&dc.tag===0&&!(Yt&6)&&fh();var e=Yt;Yt|=1;var t=mo.transition,i=sn;try{if(mo.transition=null,sn=1,n)return n()}finally{sn=i,mo.transition=t,Yt=e,!(Yt&6)&&Qc()}}function aC(){_s=$d.current,wn($d)}function Zu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,eV(t)),mi!==null)for(t=mi.return;t!==null;){var i=t;switch(HM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&j1();break;case 3:Ph(),wn(ns),wn(Ar),KM();break;case 5:JM(i);break;case 4:Ph();break;case 13:wn(Nn);break;case 19:wn(Nn);break;case 10:jM(i.type._context);break;case 22:case 23:aC()}t=t.return}if(Ni=n,mi=n=Mc(n.current,null),Ji=_s=e,wi=0,Tg=null,rC=r_=mf=0,Xr=jm=null,Vu!==null){for(e=0;e<Vu.length;e++)if(t=Vu[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Vu=null}return n}function uF(n,e){do{var t=mi;try{if(WM(),u1.current=ex,Z1){for(var i=Wn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Z1=!1}if(pf=0,Oi=Ai=Wn=null,Vm=!1,Eg=0,iC.current=null,t===null||t.return===null){wi=1,Tg=e,mi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Ji,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zP(o);if(p!==null){p.flags&=-257,HP(p,o,a,s,e),p.mode&1&&NP(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){NP(s,c,e),lC();break e}l=Error(je(426))}}else if(Pn&&a.mode&1){var y=zP(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),HP(y,o,a,s,e),GM(Ih(l,a));break e}}s=l=Ih(l,a),wi!==4&&(wi=2),jm===null?jm=[s]:jm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=X5(s,l,e);DP(s,v);break e;case 1:a=l;var _=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Sc===null||!Sc.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Y5(s,a,e);DP(s,w);break e}}s=s.return}while(s!==null)}hF(t)}catch(E){e=E,mi===t&&t!==null&&(mi=t=t.return);continue}break}while(1)}function fF(){var n=tx.current;return tx.current=ex,n===null?ex:n}function lC(){(wi===0||wi===3||wi===2)&&(wi=4),Ni===null||!(mf&268435455)&&!(r_&268435455)||cc(Ni,Ji)}function rx(n,e){var t=Yt;Yt|=2;var i=fF();(Ni!==n||Ji!==e)&&(il=null,Zu(n,e));do try{EV();break}catch(r){uF(n,r)}while(1);if(WM(),Yt=t,tx.current=i,mi!==null)throw Error(je(261));return Ni=null,Ji=0,wi}function EV(){for(;mi!==null;)dF(mi)}function MV(){for(;mi!==null&&!qH();)dF(mi)}function dF(n){var e=mF(n.alternate,n,_s);n.memoizedProps=n.pendingProps,e===null?hF(n):mi=e,iC.current=null}function hF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=xV(t,e),t!==null){t.flags&=32767,mi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wi=6,mi=null;return}}else if(t=yV(t,e,_s),t!==null){mi=t;return}if(e=e.sibling,e!==null){mi=e;return}mi=e=n}while(e!==null);wi===0&&(wi=5)}function ku(n,e,t){var i=sn,r=mo.transition;try{mo.transition=null,sn=1,CV(n,e,t,i)}finally{mo.transition=r,sn=i}return null}function CV(n,e,t,i){do fh();while(dc!==null);if(Yt&6)throw Error(je(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(je(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(aG(n,s),n===Ni&&(mi=Ni=null,Ji=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Vv||(Vv=!0,gF(N1,function(){return fh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=mo.transition,mo.transition=null;var o=sn;sn=1;var a=Yt;Yt|=4,iC.current=null,AV(n,t),aF(t,n),XG(jS),H1=!!WS,jS=WS=null,n.current=t,bV(t),QH(),Yt=a,sn=o,mo.transition=s}else n.current=t;if(Vv&&(Vv=!1,dc=n,ix=r),s=n.pendingLanes,s===0&&(Sc=null),tG(t.stateNode),rs(n,si()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(nx)throw nx=!1,n=f2,f2=null,n;return ix&1&&n.tag!==0&&fh(),s=n.pendingLanes,s&1?n===d2?$m++:($m=0,d2=n):$m=0,Qc(),null}function fh(){if(dc!==null){var n=$4(ix),e=mo.transition,t=sn;try{if(mo.transition=null,sn=16>n?16:n,dc===null)var i=!1;else{if(n=dc,dc=null,ix=0,Yt&6)throw Error(je(331));var r=Yt;for(Yt|=4,it=n.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:Wm(8,u,s)}var f=u.child;if(f!==null)f.return=u,it=f;else for(;it!==null;){u=it;var d=u.sibling,p=u.return;if(rF(u),u===c){it=null;break}if(d!==null){d.return=p,it=d;break}it=p}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wm(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,it=v;break e}it=s.return}}var _=n.current;for(it=_;it!==null;){o=it;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,it=A;else e:for(o=_;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:i_(9,a)}}catch(E){Yn(a,a.return,E)}if(a===o){it=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,it=w;break e}it=a.return}}if(Yt=r,Qc(),wa&&typeof wa.onPostCommitFiberRoot=="function")try{wa.onPostCommitFiberRoot(Jx,n)}catch{}i=!0}return i}finally{sn=t,mo.transition=e}}return!1}function eI(n,e,t){e=Ih(t,e),e=X5(n,e,1),n=wc(n,e,1),e=Fr(),n!==null&&(o0(n,1,e),rs(n,e))}function Yn(n,e,t){if(n.tag===3)eI(n,n,t);else for(;e!==null;){if(e.tag===3){eI(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sc===null||!Sc.has(i))){n=Ih(t,n),n=Y5(e,n,1),e=wc(e,n,1),n=Fr(),e!==null&&(o0(e,1,n),rs(e,n));break}}e=e.return}}function TV(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Fr(),n.pingedLanes|=n.suspendedLanes&t,Ni===n&&(Ji&t)===t&&(wi===4||wi===3&&(Ji&130023424)===Ji&&500>si()-sC?Zu(n,0):rC|=t),rs(n,e)}function pF(n,e){e===0&&(n.mode&1?(e=Lv,Lv<<=1,!(Lv&130023424)&&(Lv=4194304)):e=1);var t=Fr();n=Sl(n,e),n!==null&&(o0(n,e,t),rs(n,t))}function RV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),pF(n,t)}function PV(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(je(314))}i!==null&&i.delete(e),pF(n,t)}var mF;mF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ns.current)Zr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Zr=!1,vV(n,e,t);Zr=!!(n.flags&131072)}else Zr=!1,Pn&&e.flags&1048576&&y5(e,Y1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;d1(n,e),n=e.pendingProps;var r=Ch(e,Ar.current);uh(e,t),r=QM(null,e,i,n,r,t);var s=ZM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,is(i)?(s=!0,$1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,XM(e),r.updater=t_,e.stateNode=r,r._reactInternals=e,e2(e,i,n,t),e=i2(null,e,i,!0,s,t)):(e.tag=0,Pn&&s&&zM(e),kr(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(d1(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=DV(i),n=Lo(i,n),r){case 0:e=n2(null,e,i,n,t);break e;case 1:e=WP(null,e,i,n,t);break e;case 11:e=GP(null,e,i,n,t);break e;case 14:e=VP(null,e,i,Lo(i.type,n),t);break e}throw Error(je(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lo(i,r),n2(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lo(i,r),WP(n,e,i,r,t);case 3:e:{if(Q5(e),n===null)throw Error(je(387));i=e.pendingProps,s=e.memoizedState,r=s.element,b5(n,e),q1(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ih(Error(je(423)),e),e=jP(n,e,i,t,r);break e}else if(i!==r){r=Ih(Error(je(424)),e),e=jP(n,e,i,t,r);break e}else for(ws=bc(e.stateNode.containerInfo.firstChild),Cs=e,Pn=!0,Oo=null,t=M5(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Th(),i===r){e=El(n,e,t);break e}kr(n,e,i,t)}e=e.child}return e;case 5:return C5(e),n===null&&qS(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,$S(i,r)?o=null:s!==null&&$S(i,s)&&(e.flags|=32),q5(n,e),kr(n,e,o,t),e.child;case 6:return n===null&&qS(e),null;case 13:return Z5(n,e,t);case 4:return YM(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Rh(e,null,i,t):kr(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lo(i,r),GP(n,e,i,r,t);case 7:return kr(n,e,e.pendingProps,t),e.child;case 8:return kr(n,e,e.pendingProps.children,t),e.child;case 12:return kr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,vn(J1,i._currentValue),i._currentValue=o,s!==null)if($o(s.value,o)){if(s.children===r.children&&!ns.current){e=El(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ml(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),QS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),QS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kr(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,uh(e,t),r=vo(r),i=i(r),e.flags|=1,kr(n,e,i,t),e.child;case 14:return i=e.type,r=Lo(i,e.pendingProps),r=Lo(i.type,r),VP(n,e,i,r,t);case 15:return J5(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lo(i,r),d1(n,e),e.tag=1,is(i)?(n=!0,$1(e)):n=!1,uh(e,t),S5(e,i,r),e2(e,i,r,t),i2(null,e,i,!0,n,t);case 19:return eF(n,e,t);case 22:return K5(n,e,t)}throw Error(je(156,e.tag))};function gF(n,e){return G4(n,e)}function IV(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(n,e,t,i){return new IV(n,e,t,i)}function cC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function DV(n){if(typeof n=="function")return cC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===TM)return 11;if(n===RM)return 14}return 2}function Mc(n,e){var t=n.alternate;return t===null?(t=lo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function m1(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")cC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Od:return ef(t.children,r,s,e);case CM:o=8,r|=8;break;case SS:return n=lo(12,t,e,r|2),n.elementType=SS,n.lanes=s,n;case ES:return n=lo(13,t,e,r),n.elementType=ES,n.lanes=s,n;case MS:return n=lo(19,t,e,r),n.elementType=MS,n.lanes=s,n;case E4:return s_(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w4:o=10;break e;case S4:o=9;break e;case TM:o=11;break e;case RM:o=14;break e;case rc:o=16,i=null;break e}throw Error(je(130,n==null?n:typeof n,""))}return e=lo(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ef(n,e,t,i){return n=lo(7,n,i,e),n.lanes=t,n}function s_(n,e,t,i){return n=lo(22,n,i,e),n.elementType=E4,n.lanes=t,n.stateNode={isHidden:!1},n}function Pb(n,e,t){return n=lo(6,n,null,e),n.lanes=t,n}function Ib(n,e,t){return e=lo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function LV(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fb(0),this.expirationTimes=fb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fb(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function uC(n,e,t,i,r,s,o,a,l){return n=new LV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lo(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},XM(s),n}function kV(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function vF(n){if(!n)return Bc;n=n._reactInternals;e:{if(Pf(n)!==n||n.tag!==1)throw Error(je(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(n.tag===1){var t=n.type;if(is(t))return g5(n,t,e)}return e}function yF(n,e,t,i,r,s,o,a,l){return n=uC(t,i,!0,n,r,s,o,a,l),n.context=vF(null),t=n.current,i=Fr(),r=Ec(t),s=ml(i,r),s.callback=e??null,wc(t,s,r),n.current.lanes=r,o0(n,r,i),rs(n,i),n}function o_(n,e,t,i){var r=e.current,s=Fr(),o=Ec(r);return t=vF(t),e.context===null?e.context=t:e.pendingContext=t,e=ml(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=wc(r,e,o),n!==null&&(zo(n,r,o,s),c1(n,r,o)),o}function sx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function tI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function fC(n,e){tI(n,e),(n=n.alternate)&&tI(n,e)}function BV(){return null}var xF=typeof reportError=="function"?reportError:function(n){console.error(n)};function dC(n){this._internalRoot=n}a_.prototype.render=dC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(je(409));o_(n,e,null,null)};a_.prototype.unmount=dC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;gf(function(){o_(null,n,null,null)}),e[wl]=null}};function a_(n){this._internalRoot=n}a_.prototype.unstable_scheduleHydration=function(n){if(n){var e=J4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<lc.length&&e!==0&&e<lc[t].priority;t++);lc.splice(t,0,n),t===0&&q4(n)}};function hC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function nI(){}function OV(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=sx(o);s.call(c)}}var o=yF(e,i,n,0,null,!1,!1,"",nI);return n._reactRootContainer=o,n[wl]=o.current,_g(n.nodeType===8?n.parentNode:n),gf(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=sx(l);a.call(c)}}var l=uC(n,0,!1,null,null,!1,!1,"",nI);return n._reactRootContainer=l,n[wl]=l.current,_g(n.nodeType===8?n.parentNode:n),gf(function(){o_(e,l,t,i)}),l}function c_(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=sx(o);a.call(l)}}o_(e,o,n,r)}else o=OV(t,e,n,r,i);return sx(o)}X4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rm(e.pendingLanes);t!==0&&(DM(e,t|1),rs(e,si()),!(Yt&6)&&(Dh=si()+500,Qc()))}break;case 13:gf(function(){var i=Sl(n,1);if(i!==null){var r=Fr();zo(i,n,1,r)}}),fC(n,1)}};LM=function(n){if(n.tag===13){var e=Sl(n,134217728);if(e!==null){var t=Fr();zo(e,n,134217728,t)}fC(n,134217728)}};Y4=function(n){if(n.tag===13){var e=Ec(n),t=Sl(n,e);if(t!==null){var i=Fr();zo(t,n,e,i)}fC(n,e)}};J4=function(){return sn};K4=function(n,e){var t=sn;try{return sn=n,e()}finally{sn=t}};OS=function(n,e,t){switch(e){case"input":if(RS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Zx(i);if(!r)throw Error(je(90));C4(i),RS(i,r)}}}break;case"textarea":R4(n,t);break;case"select":e=t.value,e!=null&&oh(n,!!t.multiple,e,!1)}};O4=oC;F4=gf;var FV={usingClientEntryPoint:!1,Events:[l0,zd,Zx,k4,B4,oC]},nm={findFiberByHostInstance:Gu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UV={bundleType:nm.bundleType,version:nm.version,rendererPackageName:nm.rendererPackageName,rendererConfig:nm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=z4(n),n===null?null:n.stateNode},findFiberByHostInstance:nm.findFiberByHostInstance||BV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wv.isDisabled&&Wv.supportsFiber)try{Jx=Wv.inject(UV),wa=Wv}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FV;ks.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hC(e))throw Error(je(200));return kV(n,e,null,t)};ks.createRoot=function(n,e){if(!hC(n))throw Error(je(299));var t=!1,i="",r=xF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=uC(n,1,!1,null,null,t,!1,i,r),n[wl]=e.current,_g(n.nodeType===8?n.parentNode:n),new dC(e)};ks.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(je(188)):(n=Object.keys(n).join(","),Error(je(268,n)));return n=z4(e),n=n===null?null:n.stateNode,n};ks.flushSync=function(n){return gf(n)};ks.hydrate=function(n,e,t){if(!l_(e))throw Error(je(200));return c_(null,n,e,!0,t)};ks.hydrateRoot=function(n,e,t){if(!hC(n))throw Error(je(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=xF;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=yF(e,null,n,1,t??null,r,!1,s,o),n[wl]=e.current,_g(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new a_(e)};ks.render=function(n,e,t){if(!l_(e))throw Error(je(200));return c_(null,n,e,!1,t)};ks.unmountComponentAtNode=function(n){if(!l_(n))throw Error(je(40));return n._reactRootContainer?(gf(function(){c_(null,null,n,!1,function(){n._reactRootContainer=null,n[wl]=null})}),!0):!1};ks.unstable_batchedUpdates=oC;ks.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!l_(t))throw Error(je(200));if(n==null||n._reactInternals===void 0)throw Error(je(38));return c_(n,e,t,!1,i)};ks.version="18.2.0-next-9e3b772b8-20220608";function _F(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_F)}catch(n){console.error(n)}}_F(),y4.exports=ks;var u0=y4.exports;const AF=Ba(u0);var u_,iI=u0;u_=bS.createRoot=iI.createRoot,bS.hydrateRoot=iI.hydrateRoot;/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ox.apply(this,arguments)}var hc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(hc||(hc={}));const rI="popstate";function NV(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return m2("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:bF(r)}return HV(e,t,null,n)}function ls(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zV(){return Math.random().toString(36).substr(2,8)}function sI(n,e){return{usr:n.state,key:n.key,idx:e}}function m2(n,e,t,i){return t===void 0&&(t=null),ox({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?f_(e):e,{state:t,key:e&&e.key||i||zV()})}function bF(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function f_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function HV(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=hc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ox({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=hc.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:v})}function d(y,v){a=hc.Push;let _=m2(x.location,y,v);t&&t(_,y),c=u()+1;let A=sI(_,c),w=x.createHref(_);try{o.pushState(A,"",w)}catch{r.location.assign(w)}s&&l&&l({action:a,location:x.location,delta:1})}function p(y,v){a=hc.Replace;let _=m2(x.location,y,v);t&&t(_,y),c=u();let A=sI(_,c),w=x.createHref(_);o.replaceState(A,"",w),s&&l&&l({action:a,location:x.location,delta:0})}function g(y){let v=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof y=="string"?y:bF(y);return ls(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let x={get action(){return a},get location(){return n(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(rI,f),l=y,()=>{r.removeEventListener(rI,f),l=null}},createHref(y){return e(r,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(y){return o.go(y)}};return x}var oI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(oI||(oI={}));function GV(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?f_(e):e,r=EF(i.pathname||"/",t);if(r==null)return null;let s=wF(n);VV(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=QV(s[a],tW(r));return o}function wF(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ls(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=dh([i,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ls(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wF(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KV(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of SF(s.path))r(s,o,l)}),e}function SF(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=SF(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function VV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qV(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const WV=/^:\w+$/,jV=3,$V=2,XV=1,YV=10,JV=-2,aI=n=>n==="*";function KV(n,e){let t=n.split("/"),i=t.length;return t.some(aI)&&(i+=JV),e&&(i+=$V),t.filter(r=>!aI(r)).reduce((r,s)=>r+(WV.test(s)?jV:s===""?XV:YV),i)}function qV(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function QV(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=ZV({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let f=a.route;s.push({params:i,pathname:dh([r,u.pathname]),pathnameBase:iW(dh([r,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(r=dh([r,u.pathnameBase]))}return s}function ZV(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=eW(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,f)=>{if(u==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=nW(a[f]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function eW(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function tW(n){try{return decodeURI(n)}catch(e){return pC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function nW(n,e){try{return decodeURIComponent(n)}catch(t){return pC(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function EF(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const dh=n=>n.join("/").replace(/\/\/+/g,"/"),iW=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function rW(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const MF=["post","put","patch","delete"];new Set(MF);const sW=["get",...MF];new Set(sW);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g2(){return g2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},g2.apply(this,arguments)}const oW=I.createContext(null),aW=I.createContext(null),CF=I.createContext(null),d_=I.createContext(null),h_=I.createContext({outlet:null,matches:[],isDataRoute:!1}),TF=I.createContext(null);function mC(){return I.useContext(d_)!=null}function lW(){return mC()||ls(!1),I.useContext(d_).location}function cW(n,e){return uW(n,e)}function uW(n,e,t){mC()||ls(!1);let{navigator:i}=I.useContext(CF),{matches:r}=I.useContext(h_),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=lW(),c;if(e){var u;let x=typeof e=="string"?f_(e):e;a==="/"||(u=x.pathname)!=null&&u.startsWith(a)||ls(!1),c=x}else c=l;let f=c.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",p=GV(n,{pathname:d}),g=mW(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:dh([a,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:dh([a,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),r,t);return e&&g?I.createElement(d_.Provider,{value:{location:g2({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hc.Pop}},g):g}function fW(){let n=xW(),e=rW(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,s)}const dW=I.createElement(fW,null);class hW extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?I.createElement(h_.Provider,{value:this.props.routeContext},I.createElement(TF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pW(n){let{routeContext:e,match:t,children:i}=n,r=I.useContext(oW);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(h_.Provider,{value:e},i)}function mW(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ls(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;t&&(f=l.route.errorElement||dW);let d=e.concat(s.slice(0,c+1)),p=()=>{let g;return u?g=f:l.route.Component?g=I.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,I.createElement(pW,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:t!=null},children:g})};return t&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?I.createElement(hW,{location:t.location,revalidation:t.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var lI;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(lI||(lI={}));var ax;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(ax||(ax={}));function gW(n){let e=I.useContext(aW);return e||ls(!1),e}function vW(n){let e=I.useContext(h_);return e||ls(!1),e}function yW(n){let e=vW(),t=e.matches[e.matches.length-1];return t.route.id||ls(!1),t.route.id}function xW(){var n;let e=I.useContext(TF),t=gW(ax.UseRouteError),i=yW(ax.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function Im(n){ls(!1)}function _W(n){let{basename:e="/",children:t=null,location:i,navigationType:r=hc.Pop,navigator:s,static:o=!1}=n;mC()&&ls(!1);let a=e.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=f_(i));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:p="default"}=i,g=I.useMemo(()=>{let x=EF(c,a);return x==null?null:{location:{pathname:x,search:u,hash:f,state:d,key:p},navigationType:r}},[a,c,u,f,d,p,r]);return g==null?null:I.createElement(CF.Provider,{value:l},I.createElement(d_.Provider,{children:t,value:g}))}function AW(n){let{children:e,location:t}=n;return cW(v2(e),t)}var cI;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(cI||(cI={}));new Promise(()=>{});function v2(n,e){e===void 0&&(e=[]);let t=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let s=[...e,r];if(i.type===I.Fragment){t.push.apply(t,v2(i.props.children,s));return}i.type!==Im&&ls(!1),!i.props.index||!i.props.children||ls(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=v2(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bW(n){let{basename:e,children:t,window:i}=n,r=I.useRef();r.current==null&&(r.current=NV({window:i,v5Compat:!0}));let s=r.current,[o,a]=I.useState({action:s.action,location:s.location});return I.useLayoutEffect(()=>s.listen(a),[s]),I.createElement(_W,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var uI;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(uI||(uI={}));var fI;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fI||(fI={}));function Db({label:n}){return k.jsxs("fieldset",{children:[k.jsxs("label",{htmlFor:"InputIdFor"+n,children:[n,":"]}),k.jsx("input",{id:"InputIdFor"+n})]})}function wW(){function n(){console.log("handled")}return k.jsxs("div",{className:"ContactFormContainer",children:[k.jsxs("form",{className:"MainForm",onSubmit:n,children:[k.jsx(Db,{label:"Name"}),k.jsx(Db,{label:"Email"}),k.jsx(Db,{label:"Subject"}),k.jsxs("fieldset",{children:[k.jsx("label",{htmlFor:"InputIdForMessage",children:"Message:"}),k.jsx("textarea",{id:"InputIdForMessage"})]})]}),k.jsx("div",{className:"SocialIcons"})]})}function SW(){return k.jsx("div",{className:"ContactMeHeading",children:"Contact Me"})}function RF(){return k.jsxs("section",{id:"contact",children:[k.jsx(SW,{}),k.jsx(wW,{})]})}function dI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(t),!0).forEach(function(i){Mi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lx(n){return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(n)}function EW(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function MW(n,e,t){return e&&hI(n.prototype,e),t&&hI(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Mi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gC(n,e){return TW(n)||PW(n,e)||PF(n,e)||DW()}function f0(n){return CW(n)||RW(n)||PF(n)||IW()}function CW(n){if(Array.isArray(n))return y2(n)}function TW(n){if(Array.isArray(n))return n}function RW(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PW(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function PF(n,e){if(n){if(typeof n=="string")return y2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y2(n,e)}}function y2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function IW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pI=function(){},vC={},IF={},DF=null,LF={mark:pI,measure:pI};try{typeof window<"u"&&(vC=window),typeof document<"u"&&(IF=document),typeof MutationObserver<"u"&&(DF=MutationObserver),typeof performance<"u"&&(LF=performance)}catch{}var LW=vC.navigator||{},mI=LW.userAgent,gI=mI===void 0?"":mI,Oc=vC,Sn=IF,vI=DF,jv=LF;Oc.document;var Ol=!!Sn.documentElement&&!!Sn.head&&typeof Sn.addEventListener=="function"&&typeof Sn.createElement=="function",kF=~gI.indexOf("MSIE")||~gI.indexOf("Trident/"),$v,Xv,Yv,Jv,Kv,Ml="___FONT_AWESOME___",x2=16,BF="fa",OF="svg-inline--fa",vf="data-fa-i2svg",_2="data-fa-pseudo-element",kW="data-fa-pseudo-element-pending",yC="data-prefix",xC="data-icon",yI="fontawesome-i2svg",BW="async",OW=["HTML","HEAD","STYLE","SCRIPT"],FF=function(){try{return!0}catch{return!1}}(),An="classic",Jn="sharp",_C=[An,Jn];function d0(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[An]}})}var Rg=d0(($v={},Mi($v,An,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Mi($v,Jn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),$v)),Pg=d0((Xv={},Mi(Xv,An,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Mi(Xv,Jn,{solid:"fass",regular:"fasr",light:"fasl"}),Xv)),Ig=d0((Yv={},Mi(Yv,An,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Mi(Yv,Jn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Yv)),FW=d0((Jv={},Mi(Jv,An,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Mi(Jv,Jn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Jv)),UW=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,UF="fa-layers-text",NW=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,zW=d0((Kv={},Mi(Kv,An,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Mi(Kv,Jn,{900:"fass",400:"fasr",300:"fasl"}),Kv)),NF=[1,2,3,4,5,6,7,8,9,10],HW=NF.concat([11,12,13,14,15,16,17,18,19,20]),GW=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ju={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Dg=new Set;Object.keys(Pg[An]).map(Dg.add.bind(Dg));Object.keys(Pg[Jn]).map(Dg.add.bind(Dg));var VW=[].concat(_C,f0(Dg),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ju.GROUP,ju.SWAP_OPACITY,ju.PRIMARY,ju.SECONDARY]).concat(NF.map(function(n){return"".concat(n,"x")})).concat(HW.map(function(n){return"w-".concat(n)})),Xm=Oc.FontAwesomeConfig||{};function WW(n){var e=Sn.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function jW(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(Sn&&typeof Sn.querySelector=="function"){var $W=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];$W.forEach(function(n){var e=gC(n,2),t=e[0],i=e[1],r=jW(WW(t));r!=null&&(Xm[i]=r)})}var zF={styleDefault:"solid",familyDefault:"classic",cssPrefix:BF,replacementClass:OF,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Xm.familyPrefix&&(Xm.cssPrefix=Xm.familyPrefix);var Lh=nt(nt({},zF),Xm);Lh.autoReplaceSvg||(Lh.observeMutations=!1);var lt={};Object.keys(zF).forEach(function(n){Object.defineProperty(lt,n,{enumerable:!0,set:function(t){Lh[n]=t,Ym.forEach(function(i){return i(lt)})},get:function(){return Lh[n]}})});Object.defineProperty(lt,"familyPrefix",{enumerable:!0,set:function(e){Lh.cssPrefix=e,Ym.forEach(function(t){return t(lt)})},get:function(){return Lh.cssPrefix}});Oc.FontAwesomeConfig=lt;var Ym=[];function XW(n){return Ym.push(n),function(){Ym.splice(Ym.indexOf(n),1)}}var Kl=x2,xa={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function YW(n){if(!(!n||!Ol)){var e=Sn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Sn.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return Sn.head.insertBefore(e,i),n}}var JW="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Lg(){for(var n=12,e="";n-- >0;)e+=JW[Math.random()*62|0];return e}function fp(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function AC(n){return n.classList?fp(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function HF(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function KW(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(HF(n[t]),'" ')},"").trim()}function p_(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function bC(n){return n.size!==xa.size||n.x!==xa.x||n.y!==xa.y||n.rotate!==xa.rotate||n.flipX||n.flipY}function qW(n){var e=n.transform,t=n.containerWidth,i=n.iconWidth,r={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:c}}function QW(n){var e=n.transform,t=n.width,i=t===void 0?x2:t,r=n.height,s=r===void 0?x2:r,o=n.startCentered,a=o===void 0?!1:o,l="";return a&&kF?l+="translate(".concat(e.x/Kl-i/2,"em, ").concat(e.y/Kl-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Kl,"em), calc(-50% + ").concat(e.y/Kl,"em)) "):l+="translate(".concat(e.x/Kl,"em, ").concat(e.y/Kl,"em) "),l+="scale(".concat(e.size/Kl*(e.flipX?-1:1),", ").concat(e.size/Kl*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var ZW=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function GF(){var n=BF,e=OF,t=lt.cssPrefix,i=lt.replacementClass,r=ZW;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(i))}return r}var xI=!1;function Lb(){lt.autoAddCss&&!xI&&(YW(GF()),xI=!0)}var ej={mixout:function(){return{dom:{css:GF,insertCss:Lb}}},hooks:function(){return{beforeDOMElementCreation:function(){Lb()},beforeI2svg:function(){Lb()}}}},Cl=Oc||{};Cl[Ml]||(Cl[Ml]={});Cl[Ml].styles||(Cl[Ml].styles={});Cl[Ml].hooks||(Cl[Ml].hooks={});Cl[Ml].shims||(Cl[Ml].shims=[]);var Uo=Cl[Ml],VF=[],tj=function n(){Sn.removeEventListener("DOMContentLoaded",n),cx=1,VF.map(function(e){return e()})},cx=!1;Ol&&(cx=(Sn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Sn.readyState),cx||Sn.addEventListener("DOMContentLoaded",tj));function nj(n){Ol&&(cx?setTimeout(n,0):VF.push(n))}function h0(n){var e=n.tag,t=n.attributes,i=t===void 0?{}:t,r=n.children,s=r===void 0?[]:r;return typeof n=="string"?HF(n):"<".concat(e," ").concat(KW(i),">").concat(s.map(h0).join(""),"</").concat(e,">")}function _I(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var ij=function(e,t){return function(i,r,s,o){return e.call(t,i,r,s,o)}},kb=function(e,t,i,r){var s=Object.keys(e),o=s.length,a=r!==void 0?ij(t,r):t,l,c,u;for(i===void 0?(l=1,u=e[s[0]]):(l=0,u=i);l<o;l++)c=s[l],u=a(u,e[c],c,e);return u};function rj(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function A2(n){var e=rj(n);return e.length===1?e[0].toString(16):null}function sj(n,e){var t=n.length,i=n.charCodeAt(e),r;return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function AI(n){return Object.keys(n).reduce(function(e,t){var i=n[t],r=!!i.icon;return r?e[i.iconName]=i.icon:e[t]=i,e},{})}function b2(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.skipHooks,r=i===void 0?!1:i,s=AI(e);typeof Uo.hooks.addPack=="function"&&!r?Uo.hooks.addPack(n,AI(e)):Uo.styles[n]=nt(nt({},Uo.styles[n]||{}),s),n==="fas"&&b2("fa",e)}var qv,Qv,Zv,Xd=Uo.styles,oj=Uo.shims,aj=(qv={},Mi(qv,An,Object.values(Ig[An])),Mi(qv,Jn,Object.values(Ig[Jn])),qv),wC=null,WF={},jF={},$F={},XF={},YF={},lj=(Qv={},Mi(Qv,An,Object.keys(Rg[An])),Mi(Qv,Jn,Object.keys(Rg[Jn])),Qv);function cj(n){return~VW.indexOf(n)}function uj(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!cj(r)?r:null}var JF=function(){var e=function(s){return kb(Xd,function(o,a,l){return o[l]=kb(a,s,{}),o},{})};WF=e(function(r,s,o){if(s[3]&&(r[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){r[l.toString(16)]=o})}return r}),jF=e(function(r,s,o){if(r[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){r[l]=o})}return r}),YF=e(function(r,s,o){var a=s[2];return r[o]=o,a.forEach(function(l){r[l]=o}),r});var t="far"in Xd||lt.autoFetchSvg,i=kb(oj,function(r,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});$F=i.names,XF=i.unicodes,wC=m_(lt.styleDefault,{family:lt.familyDefault})};XW(function(n){wC=m_(n.styleDefault,{family:lt.familyDefault})});JF();function SC(n,e){return(WF[n]||{})[e]}function fj(n,e){return(jF[n]||{})[e]}function $u(n,e){return(YF[n]||{})[e]}function KF(n){return $F[n]||{prefix:null,iconName:null}}function dj(n){var e=XF[n],t=SC("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Fc(){return wC}var EC=function(){return{prefix:null,iconName:null,rest:[]}};function m_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.family,i=t===void 0?An:t,r=Rg[i][n],s=Pg[i][n]||Pg[i][r],o=n in Uo.styles?n:null;return s||o||null}var bI=(Zv={},Mi(Zv,An,Object.keys(Ig[An])),Mi(Zv,Jn,Object.keys(Ig[Jn])),Zv);function g_(n){var e,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.skipLookups,r=i===void 0?!1:i,s=(e={},Mi(e,An,"".concat(lt.cssPrefix,"-").concat(An)),Mi(e,Jn,"".concat(lt.cssPrefix,"-").concat(Jn)),e),o=null,a=An;(n.includes(s[An])||n.some(function(c){return bI[An].includes(c)}))&&(a=An),(n.includes(s[Jn])||n.some(function(c){return bI[Jn].includes(c)}))&&(a=Jn);var l=n.reduce(function(c,u){var f=uj(lt.cssPrefix,u);if(Xd[u]?(u=aj[a].includes(u)?FW[a][u]:u,o=u,c.prefix=u):lj[a].indexOf(u)>-1?(o=u,c.prefix=m_(u,{family:a})):f?c.iconName=f:u!==lt.replacementClass&&u!==s[An]&&u!==s[Jn]&&c.rest.push(u),!r&&c.prefix&&c.iconName){var d=o==="fa"?KF(c.iconName):{},p=$u(c.prefix,c.iconName);d.prefix&&(o=null),c.iconName=d.iconName||p||c.iconName,c.prefix=d.prefix||c.prefix,c.prefix==="far"&&!Xd.far&&Xd.fas&&!lt.autoFetchSvg&&(c.prefix="fas")}return c},EC());return(n.includes("fa-brands")||n.includes("fab"))&&(l.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Jn&&(Xd.fass||lt.autoFetchSvg)&&(l.prefix="fass",l.iconName=$u(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Fc()||"fas"),l}var hj=function(){function n(){EW(this,n),this.definitions={}}return MW(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=nt(nt({},t.definitions[a]||{}),o[a]),b2(a,o[a]);var l=Ig[An][a];l&&b2(l,o[a]),JF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];t[a]||(t[a]={}),u.length>0&&u.forEach(function(f){typeof f=="string"&&(t[a][f]=c)}),t[a][l]=c}),t}}]),n}(),wI=[],Yd={},hh={},pj=Object.keys(hh);function mj(n,e){var t=e.mixoutsTo;return wI=n,Yd={},Object.keys(hh).forEach(function(i){pj.indexOf(i)===-1&&delete hh[i]}),wI.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(o){typeof r[o]=="function"&&(t[o]=r[o]),lx(r[o])==="object"&&Object.keys(r[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=r[o][a]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(o){Yd[o]||(Yd[o]=[]),Yd[o].push(s[o])})}i.provides&&i.provides(hh)}),t}function w2(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=Yd[n]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(i))}),e}function yf(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=Yd[n]||[];r.forEach(function(s){s.apply(null,t)})}function Tl(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return hh[n]?hh[n].apply(null,e):void 0}function S2(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Fc();if(e)return e=$u(t,e)||e,_I(qF.definitions,t,e)||_I(Uo.styles,t,e)}var qF=new hj,gj=function(){lt.autoReplaceSvg=!1,lt.observeMutations=!1,yf("noAuto")},vj={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ol?(yf("beforeI2svg",e),Tl("pseudoElements2svg",e),Tl("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot;lt.autoReplaceSvg===!1&&(lt.autoReplaceSvg=!0),lt.observeMutations=!0,nj(function(){xj({autoReplaceSvgRoot:t}),yf("watch",e)})}},yj={icon:function(e){if(e===null)return null;if(lx(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:$u(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],i=m_(e[0]);return{prefix:i,iconName:$u(i,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(lt.cssPrefix,"-"))>-1||e.match(UW))){var r=g_(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Fc(),iconName:$u(r.prefix,r.iconName)||r.iconName}}if(typeof e=="string"){var s=Fc();return{prefix:s,iconName:$u(s,e)||e}}}},Os={noAuto:gj,config:lt,dom:vj,parse:yj,library:qF,findIconDefinition:S2,toHtml:h0},xj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot,i=t===void 0?Sn:t;(Object.keys(Uo.styles).length>0||lt.autoFetchSvg)&&Ol&&lt.autoReplaceSvg&&Os.dom.i2svg({node:i})};function v_(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return h0(i)})}}),Object.defineProperty(n,"node",{get:function(){if(Ol){var i=Sn.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function _j(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,o=n.transform;if(bC(o)&&t.found&&!i.found){var a=t.width,l=t.height,c={x:a/l/2,y:.5};r.style=p_(nt(nt({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function Aj(n){var e=n.prefix,t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,o=s===!0?"".concat(e,"-").concat(lt.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:nt(nt({},r),{},{id:o}),children:i}]}]}function MC(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,l=n.title,c=n.maskId,u=n.titleId,f=n.extra,d=n.watchable,p=d===void 0?!1:d,g=i.found?i:t,x=g.width,y=g.height,v=r==="fak",_=[lt.replacementClass,s?"".concat(lt.cssPrefix,"-").concat(s):""].filter(function(T){return f.classes.indexOf(T)===-1}).filter(function(T){return T!==""||!!T}).concat(f.classes).join(" "),A={children:[],attributes:nt(nt({},f.attributes),{},{"data-prefix":r,"data-icon":s,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(x," ").concat(y)})},w=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(x/y*16*.0625,"em")}:{};p&&(A.attributes[vf]=""),l&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(u||Lg())},children:[l]}),delete A.attributes.title);var E=nt(nt({},A),{},{prefix:r,iconName:s,main:t,mask:i,maskId:c,transform:o,symbol:a,styles:nt(nt({},w),f.styles)}),M=i.found&&t.found?Tl("generateAbstractMask",E)||{children:[],attributes:{}}:Tl("generateAbstractIcon",E)||{children:[],attributes:{}},C=M.children,P=M.attributes;return E.children=C,E.attributes=P,a?Aj(E):_j(E)}function SI(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,o=n.extra,a=n.watchable,l=a===void 0?!1:a,c=nt(nt(nt({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[vf]="");var u=nt({},o.styles);bC(r)&&(u.transform=QW({transform:r,startCentered:!0,width:t,height:i}),u["-webkit-transform"]=u.transform);var f=p_(u);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function bj(n){var e=n.content,t=n.title,i=n.extra,r=nt(nt(nt({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=p_(i.styles);s.length>0&&(r.style=s);var o=[];return o.push({tag:"span",attributes:r,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var Bb=Uo.styles;function E2(n){var e=n[0],t=n[1],i=n.slice(4),r=gC(i,1),s=r[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(lt.cssPrefix,"-").concat(ju.GROUP)},children:[{tag:"path",attributes:{class:"".concat(lt.cssPrefix,"-").concat(ju.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(lt.cssPrefix,"-").concat(ju.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:t,icon:o}}var wj={found:!1,width:512,height:512};function Sj(n,e){!FF&&!lt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function M2(n,e){var t=e;return e==="fa"&&lt.styleDefault!==null&&(e=Fc()),new Promise(function(i,r){if(Tl("missingIconAbstract"),t==="fa"){var s=KF(n)||{};n=s.iconName||n,e=s.prefix||e}if(n&&e&&Bb[e]&&Bb[e][n]){var o=Bb[e][n];return i(E2(o))}Sj(n,e),i(nt(nt({},wj),{},{icon:lt.showMissingIcons&&n?Tl("missingIconAbstract")||{}:{}}))})}var EI=function(){},C2=lt.measurePerformance&&jv&&jv.mark&&jv.measure?jv:{mark:EI,measure:EI},Dm='FA "6.4.0"',Ej=function(e){return C2.mark("".concat(Dm," ").concat(e," begins")),function(){return QF(e)}},QF=function(e){C2.mark("".concat(Dm," ").concat(e," ends")),C2.measure("".concat(Dm," ").concat(e),"".concat(Dm," ").concat(e," begins"),"".concat(Dm," ").concat(e," ends"))},CC={begin:Ej,end:QF},g1=function(){};function MI(n){var e=n.getAttribute?n.getAttribute(vf):null;return typeof e=="string"}function Mj(n){var e=n.getAttribute?n.getAttribute(yC):null,t=n.getAttribute?n.getAttribute(xC):null;return e&&t}function Cj(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(lt.replacementClass)}function Tj(){if(lt.autoReplaceSvg===!0)return v1.replace;var n=v1[lt.autoReplaceSvg];return n||v1.replace}function Rj(n){return Sn.createElementNS("http://www.w3.org/2000/svg",n)}function Pj(n){return Sn.createElement(n)}function ZF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.ceFn,i=t===void 0?n.tag==="svg"?Rj:Pj:t;if(typeof n=="string")return Sn.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(o){r.setAttribute(o,n.attributes[o])});var s=n.children||[];return s.forEach(function(o){r.appendChild(ZF(o,{ceFn:i}))}),r}function Ij(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var v1={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(ZF(r),t)}),t.getAttribute(vf)===null&&lt.keepOriginalSource){var i=Sn.createComment(Ij(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~AC(t).indexOf(lt.replacementClass))return v1.replace(e);var r=new RegExp("".concat(lt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(a,l){return l===lt.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=i.map(function(a){return h0(a)}).join(`
`);t.setAttribute(vf,""),t.innerHTML=o}};function CI(n){n()}function e9(n,e){var t=typeof e=="function"?e:g1;if(n.length===0)t();else{var i=CI;lt.mutateApproach===BW&&(i=Oc.requestAnimationFrame||CI),i(function(){var r=Tj(),s=CC.begin("mutate");n.map(r),s(),t()})}}var TC=!1;function t9(){TC=!0}function T2(){TC=!1}var ux=null;function TI(n){if(vI&&lt.observeMutations){var e=n.treeCallback,t=e===void 0?g1:e,i=n.nodeCallback,r=i===void 0?g1:i,s=n.pseudoElementsCallback,o=s===void 0?g1:s,a=n.observeMutationsRoot,l=a===void 0?Sn:a;ux=new vI(function(c){if(!TC){var u=Fc();fp(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!MI(f.addedNodes[0])&&(lt.searchPseudoElements&&o(f.target),t(f.target)),f.type==="attributes"&&f.target.parentNode&&lt.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&MI(f.target)&&~GW.indexOf(f.attributeName))if(f.attributeName==="class"&&Mj(f.target)){var d=g_(AC(f.target)),p=d.prefix,g=d.iconName;f.target.setAttribute(yC,p||u),g&&f.target.setAttribute(xC,g)}else Cj(f.target)&&r(f.target)})}}),Ol&&ux.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Dj(){ux&&ux.disconnect()}function Lj(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),t}function kj(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=g_(AC(n));return r.prefix||(r.prefix=Fc()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=fj(r.prefix,n.innerText)||SC(r.prefix,A2(n.innerText))),!r.iconName&&lt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Bj(n){var e=fp(n.attributes).reduce(function(r,s){return r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return lt.autoA11y&&(t?e["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(i||Lg()):(e["aria-hidden"]="true",e.focusable="false")),e}function Oj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:xa,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function RI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},t=kj(n),i=t.iconName,r=t.prefix,s=t.rest,o=Bj(n),a=w2("parseNodeAttributes",{},n),l=e.styleParser?Lj(n):[];return nt({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:xa,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Fj=Uo.styles;function n9(n){var e=lt.autoReplaceSvg==="nest"?RI(n,{styleParser:!1}):RI(n);return~e.extra.classes.indexOf(UF)?Tl("generateLayersText",n,e):Tl("generateSvgReplacementMutation",n,e)}var Uc=new Set;_C.map(function(n){Uc.add("fa-".concat(n))});Object.keys(Rg[An]).map(Uc.add.bind(Uc));Object.keys(Rg[Jn]).map(Uc.add.bind(Uc));Uc=f0(Uc);function PI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ol)return Promise.resolve();var t=Sn.documentElement.classList,i=function(f){return t.add("".concat(yI,"-").concat(f))},r=function(f){return t.remove("".concat(yI,"-").concat(f))},s=lt.autoFetchSvg?Uc:_C.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Fj));s.includes("fa")||s.push("fa");var o=[".".concat(UF,":not([").concat(vf,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(vf,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=fp(n.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),r("complete");else return Promise.resolve();var l=CC.begin("onTree"),c=a.reduce(function(u,f){try{var d=n9(f);d&&u.push(d)}catch(p){FF||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise(function(u,f){Promise.all(c).then(function(d){e9(d,function(){i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(d){l(),f(d)})})}function Uj(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n9(n).then(function(t){t&&e9([t],e)})}function Nj(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:S2(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:S2(r||{})),n(i,nt(nt({},t),{},{mask:r}))}}var zj=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transform,r=i===void 0?xa:i,s=t.symbol,o=s===void 0?!1:s,a=t.mask,l=a===void 0?null:a,c=t.maskId,u=c===void 0?null:c,f=t.title,d=f===void 0?null:f,p=t.titleId,g=p===void 0?null:p,x=t.classes,y=x===void 0?[]:x,v=t.attributes,_=v===void 0?{}:v,A=t.styles,w=A===void 0?{}:A;if(e){var E=e.prefix,M=e.iconName,C=e.icon;return v_(nt({type:"icon"},e),function(){return yf("beforeDOMElementCreation",{iconDefinition:e,params:t}),lt.autoA11y&&(d?_["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(g||Lg()):(_["aria-hidden"]="true",_.focusable="false")),MC({icons:{main:E2(C),mask:l?E2(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:M,transform:nt(nt({},xa),r),symbol:o,title:d,maskId:u,titleId:g,extra:{attributes:_,styles:w,classes:y}})})}},Hj={mixout:function(){return{icon:Nj(zj)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=PI,t.nodeCallback=Uj,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,r=i===void 0?Sn:i,s=t.callback,o=s===void 0?function(){}:s;return PI(r,o)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,f=i.maskId,d=i.extra;return new Promise(function(p,g){Promise.all([M2(r,a),u.iconName?M2(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(x){var y=gC(x,2),v=y[0],_=y[1];p([t,MC({icons:{main:v,mask:_},prefix:a,iconName:r,transform:l,symbol:c,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(g)})},e.generateAbstractIcon=function(t){var i=t.children,r=t.attributes,s=t.main,o=t.transform,a=t.styles,l=p_(a);l.length>0&&(r.style=l);var c;return bC(o)&&(c=Tl("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),i.push(c||s.icon),{children:i,attributes:r}}}},Gj={mixout:function(){return{layer:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,s=r===void 0?[]:r;return v_({type:"layer"},function(){yf("beforeDOMElementCreation",{assembler:t,params:i});var o=[];return t(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(lt.cssPrefix,"-layers")].concat(f0(s)).join(" ")},children:o}]})}}}},Vj={mixout:function(){return{counter:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.title,s=r===void 0?null:r,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,f=u===void 0?{}:u;return v_({type:"counter",content:t},function(){return yf("beforeDOMElementCreation",{content:t,params:i}),bj({content:t.toString(),title:s,extra:{attributes:c,styles:f,classes:["".concat(lt.cssPrefix,"-layers-counter")].concat(f0(a))}})})}}}},Wj={mixout:function(){return{text:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,s=r===void 0?xa:r,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,f=u===void 0?{}:u,d=i.styles,p=d===void 0?{}:d;return v_({type:"text",content:t},function(){return yf("beforeDOMElementCreation",{content:t,params:i}),SI({content:t,transform:nt(nt({},xa),s),title:a,extra:{attributes:f,styles:p,classes:["".concat(lt.cssPrefix,"-layers-text")].concat(f0(c))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,o=i.extra,a=null,l=null;if(kF){var c=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();a=u.width/c,l=u.height/c}return lt.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,SI({content:t.innerHTML,width:a,height:l,transform:s,title:r,extra:o,watchable:!0})])}}},jj=new RegExp('"',"ug"),II=[1105920,1112319];function $j(n){var e=n.replace(jj,""),t=sj(e,0),i=t>=II[0]&&t<=II[1],r=e.length===2?e[0]===e[1]:!1;return{value:A2(r?e[0]:e),isSecondary:i||r}}function DI(n,e){var t="".concat(kW).concat(e.replace(":","-"));return new Promise(function(i,r){if(n.getAttribute(t)!==null)return i();var s=fp(n.children),o=s.filter(function(C){return C.getAttribute(_2)===e})[0],a=Oc.getComputedStyle(n,e),l=a.getPropertyValue("font-family").match(NW),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return n.removeChild(o),i();if(l&&u!=="none"&&u!==""){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?Jn:An,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Pg[d][l[2].toLowerCase()]:zW[d][c],g=$j(f),x=g.value,y=g.isSecondary,v=l[0].startsWith("FontAwesome"),_=SC(p,x),A=_;if(v){var w=dj(x);w.iconName&&w.prefix&&(_=w.iconName,p=w.prefix)}if(_&&!y&&(!o||o.getAttribute(yC)!==p||o.getAttribute(xC)!==A)){n.setAttribute(t,A),o&&n.removeChild(o);var E=Oj(),M=E.extra;M.attributes[_2]=e,M2(_,p).then(function(C){var P=MC(nt(nt({},E),{},{icons:{main:C,mask:EC()},prefix:p,iconName:A,extra:M,watchable:!0})),T=Sn.createElement("svg");e==="::before"?n.insertBefore(T,n.firstChild):n.appendChild(T),T.outerHTML=P.map(function(D){return h0(D)}).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function Xj(n){return Promise.all([DI(n,"::before"),DI(n,"::after")])}function Yj(n){return n.parentNode!==document.head&&!~OW.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(_2)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function LI(n){if(Ol)return new Promise(function(e,t){var i=fp(n.querySelectorAll("*")).filter(Yj).map(Xj),r=CC.begin("searchPseudoElements");t9(),Promise.all(i).then(function(){r(),T2(),e()}).catch(function(){r(),T2(),t()})})}var Jj={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=LI,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node,r=i===void 0?Sn:i;lt.searchPseudoElements&&LI(r)}}},kI=!1,Kj={mixout:function(){return{dom:{unwatch:function(){t9(),kI=!0}}}},hooks:function(){return{bootstrap:function(){TI(w2("mutationObserverCallbacks",{}))},noAuto:function(){Dj()},watch:function(t){var i=t.observeMutationsRoot;kI?T2():TI(w2("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},BI=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},t)},qj={mixout:function(){return{parse:{transform:function(t){return BI(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=BI(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,s=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(u)},d={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:f,path:d};return{tag:"g",attributes:nt({},p.outer),children:[{tag:"g",attributes:nt({},p.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:nt(nt({},i.icon.attributes),p.path)}]}]}}}},Ob={x:0,y:0,width:"100%",height:"100%"};function OI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function Qj(n){return n.tag==="g"?n.children:[n]}var Zj={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?g_(r.split(" ").map(function(o){return o.trim()})):EC();return s.prefix||(s.prefix=Fc()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,o=t.mask,a=t.maskId,l=t.transform,c=s.width,u=s.icon,f=o.width,d=o.icon,p=qW({transform:l,containerWidth:f,iconWidth:c}),g={tag:"rect",attributes:nt(nt({},Ob),{},{fill:"white"})},x=u.children?{children:u.children.map(OI)}:{},y={tag:"g",attributes:nt({},p.inner),children:[OI(nt({tag:u.tag,attributes:nt(nt({},u.attributes),p.path)},x))]},v={tag:"g",attributes:nt({},p.outer),children:[y]},_="mask-".concat(a||Lg()),A="clip-".concat(a||Lg()),w={tag:"mask",attributes:nt(nt({},Ob),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,v]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:Qj(d)},w]};return i.push(E,{tag:"rect",attributes:nt({fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(_,")")},Ob)}),{children:i,attributes:r}}}},e$={provides:function(e){var t=!1;Oc.matchMedia&&(t=Oc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:nt(nt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=nt(nt({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:nt(nt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:nt(nt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:nt(nt({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:nt(nt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:nt(nt({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:nt(nt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:nt(nt({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},t$={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol"),s=r===null?!1:r===""?!0:r;return t.symbol=s,t}}}},n$=[ej,Hj,Gj,Vj,Wj,Jj,Kj,qj,Zj,e$,t$];mj(n$,{mixoutsTo:Os});Os.noAuto;Os.config;Os.library;Os.dom;var R2=Os.parse;Os.findIconDefinition;Os.toHtml;var i$=Os.icon;Os.layer;Os.text;Os.counter;var i9={exports:{}},r$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s$=r$,o$=s$;function r9(){}function s9(){}s9.resetWarningCache=r9;var a$=function(){function n(i,r,s,o,a,l){if(l!==o$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s9,resetWarningCache:r9};return t.PropTypes=t,t};i9.exports=a$();var l$=i9.exports;const ot=Ba(l$);function FI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(t),!0).forEach(function(i){Jd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fx(n){return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(n)}function Jd(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c$(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function u$(n,e){if(n==null)return{};var t=c$(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function P2(n){return f$(n)||d$(n)||h$(n)||p$()}function f$(n){if(Array.isArray(n))return I2(n)}function d$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function h$(n,e){if(n){if(typeof n=="string")return I2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I2(n,e)}}function I2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function p$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$(n){var e,t=n.beat,i=n.fade,r=n.beatFade,s=n.bounce,o=n.shake,a=n.flash,l=n.spin,c=n.spinPulse,u=n.spinReverse,f=n.pulse,d=n.fixedWidth,p=n.inverse,g=n.border,x=n.listItem,y=n.flip,v=n.size,_=n.rotation,A=n.pull,w=(e={"fa-beat":t,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":p,"fa-border":g,"fa-li":x,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},Jd(e,"fa-".concat(v),typeof v<"u"&&v!==null),Jd(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Jd(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),Jd(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(w).map(function(E){return w[E]?E:null}).filter(function(E){return E})}function g$(n){return n=n-0,n===n}function o9(n){return g$(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var v$=["style"];function y$(n){return n.charAt(0).toUpperCase()+n.slice(1)}function x$(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var i=t.indexOf(":"),r=o9(t.slice(0,i)),s=t.slice(i+1).trim();return r.startsWith("webkit")?e[y$(r)]=s:e[r]=s,e},{})}function a9(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return a9(n,l)}),r=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.attrs.className=u,delete e.attributes.class;break;case"style":l.attrs.style=x$(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=u:l.attrs[o9(c)]=u}return l},{attrs:{}}),s=t.style,o=s===void 0?{}:s,a=u$(t,v$);return r.attrs.style=pc(pc({},r.attrs.style),o),n.apply(void 0,[e.tag,pc(pc({},r.attrs),a)].concat(P2(i)))}var l9=!1;try{l9=!0}catch{}function _$(){if(!l9&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function UI(n){if(n&&fx(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(R2.icon)return R2.icon(n);if(n===null)return null;if(n&&fx(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Fb(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Jd({},n,e):{}}var kh=te.forwardRef(function(n,e){var t=n.icon,i=n.mask,r=n.symbol,s=n.className,o=n.title,a=n.titleId,l=n.maskId,c=UI(t),u=Fb("classes",[].concat(P2(m$(n)),P2(s.split(" ")))),f=Fb("transform",typeof n.transform=="string"?R2.transform(n.transform):n.transform),d=Fb("mask",UI(i)),p=i$(c,pc(pc(pc(pc({},u),f),d),{},{symbol:r,title:o,titleId:a,maskId:l}));if(!p)return _$("Could not find icon",c),null;var g=p.abstract,x={ref:e};return Object.keys(n).forEach(function(y){kh.defaultProps.hasOwnProperty(y)||(x[y]=n[y])}),A$(g[0],x)});kh.displayName="FontAwesomeIcon";kh.propTypes={beat:ot.bool,border:ot.bool,beatFade:ot.bool,bounce:ot.bool,className:ot.string,fade:ot.bool,flash:ot.bool,mask:ot.oneOfType([ot.object,ot.array,ot.string]),maskId:ot.string,fixedWidth:ot.bool,inverse:ot.bool,flip:ot.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ot.oneOfType([ot.object,ot.array,ot.string]),listItem:ot.bool,pull:ot.oneOf(["right","left"]),pulse:ot.bool,rotation:ot.oneOf([0,90,180,270]),shake:ot.bool,size:ot.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ot.bool,spinPulse:ot.bool,spinReverse:ot.bool,symbol:ot.oneOfType([ot.bool,ot.string]),title:ot.string,titleId:ot.string,transform:ot.oneOfType([ot.string,ot.object]),swapOpacity:ot.bool};kh.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var A$=a9.bind(null,te.createElement),b$={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},w$={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"]};const NI=1,zI=2,HI=10.5,GI=13.5;function S$({state:n,fun:e}){return k.jsx("div",{className:"ResNavBars",children:k.jsx("div",{onClick:()=>e(!n),className:"iconContainer",children:n?k.jsx(kh,{icon:w$,style:{color:"#000000"}}):k.jsx(kh,{icon:b$,style:{color:"#000000"}})})})}function E$({pages:n}){const e=I.useRef(null),[t,i]=I.useState(!1);function r(){}function s(o){const a=document.getElementById("MAINDIVSCROLLCONTAINER"),l=document.getElementById("MAINHEIGHTSETTINGCONTAINER").clientHeight/n*o;a.scrollTop=l+e.current.clientHeight}return k.jsx(k.Fragment,{children:k.jsxs("div",{ref:e,children:[k.jsx("nav",{className:"NavMain",children:k.jsxs("div",{className:"NavContainer",children:[k.jsx("button",{className:"NavLinkContiner",onClick:()=>{s(NI)},children:"About Me"}),k.jsx("button",{className:"NavLinkContiner",onClick:()=>{s(zI)},children:"Skills"}),k.jsx("button",{className:"NavLinkContiner",onClick:()=>{s(HI)},children:"Projects"}),k.jsx("button",{className:"NavLinkContiner",onClick:()=>{s(GI)},children:"Contact Me"})]})}),k.jsx(S$,{state:t,fun:i}),k.jsx("nav",{className:`NavRes ${t?"NavResInView":""}`,children:k.jsxs("div",{className:"NavContainerRes",children:[k.jsx("div",{children:k.jsx("button",{className:"NavLinkContiner NavLinkContainerRes",onClick:()=>{s(NI)},children:"About Me"})}),k.jsx("div",{children:k.jsx("button",{className:"NavLinkContiner NavLinkContainerRes",onClick:()=>{s(zI)},children:"Skills"})}),k.jsx("div",{children:k.jsx("button",{className:"NavLinkContiner NavLinkContainerRes",onClick:()=>{s(HI)},children:"Projects"})}),k.jsx("div",{children:k.jsx("button",{className:"NavLinkContiner NavLinkContainerRes",onClick:()=>{s(GI)},children:"Contact Me"})}),k.jsx("div",{children:k.jsx("button",{className:"NavLinkContiner NavLinkContainerRes",onClick:r,children:"Resume"})})]})})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p0="154",Bu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ou={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},c9=0,D2=1,u9=2,M$=3,f9=0,y_=1,Jm=2,ko=3,Xo=0,mr=1,Kr=2,C$=2,gl=0,vl=1,L2=2,k2=3,B2=4,d9=5,zu=100,h9=101,p9=102,O2=103,F2=104,m9=200,g9=201,v9=202,y9=203,RC=204,PC=205,x9=206,_9=207,A9=208,b9=209,w9=210,S9=0,E9=1,M9=2,dx=3,C9=4,T9=5,R9=6,P9=7,m0=0,I9=1,D9=2,Ho=0,L9=1,k9=2,B9=3,IC=4,O9=5,x_=300,Nc=301,zc=302,kg=303,Bg=304,dp=306,Hc=1e3,Yi=1001,Bh=1002,Kn=1003,Og=1004,T$=1004,ph=1005,R$=1005,bn=1006,__=1007,P$=1007,Pa=1008,I$=1008,Ea=1009,F9=1010,U9=1011,A_=1012,DC=1013,hl=1014,_a=1015,Oh=1016,LC=1017,kC=1018,Cc=1020,N9=1021,qr=1023,z9=1024,H9=1025,Tc=1026,xf=1027,G9=1028,BC=1029,V9=1030,OC=1031,FC=1033,y1=33776,x1=33777,_1=33778,A1=33779,U2=35840,N2=35841,z2=35842,H2=35843,W9=36196,G2=37492,V2=37496,W2=37808,j2=37809,$2=37810,X2=37811,Y2=37812,J2=37813,K2=37814,q2=37815,Q2=37816,Z2=37817,eE=37818,tE=37819,nE=37820,iE=37821,b1=36492,j9=36283,rE=36284,sE=36285,oE=36286,$9=2200,X9=2201,Y9=2202,Fh=2300,_f=2301,w1=2302,Xu=2400,Yu=2401,Fg=2402,b_=2500,UC=2501,J9=0,NC=1,hx=2,zC=3e3,Rc=3001,K9=3200,HC=3201,Zc=0,q9=1,Pc="",It="srgb",Yo="srgb-linear",GC="display-p3",D$=0,S1=7680,L$=7681,k$=7682,B$=7683,O$=34055,F$=34056,U$=5386,N$=512,z$=513,H$=514,G$=515,V$=516,W$=517,j$=518,Q9=519,Z9=512,eU=513,tU=514,nU=515,iU=516,rU=517,sU=518,oU=519,Ug=35044,E1=35048,$$=35040,X$=35045,Y$=35049,J$=35041,K$=35046,q$=35050,Q$=35042,Z$="100",aE="300 es",px=1035,Aa=2e3,Ng=2001;let Oa=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const ar=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let VI=1234567;const tf=Math.PI/180,Uh=180/Math.PI;function Ts(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ar[n&255]+ar[n>>8&255]+ar[n>>16&255]+ar[n>>24&255]+"-"+ar[e&255]+ar[e>>8&255]+"-"+ar[e>>16&15|64]+ar[e>>24&255]+"-"+ar[t&63|128]+ar[t>>8&255]+"-"+ar[t>>16&255]+ar[t>>24&255]+ar[i&255]+ar[i>>8&255]+ar[i>>16&255]+ar[i>>24&255]).toLowerCase()}function qn(n,e,t){return Math.max(e,Math.min(t,n))}function VC(n,e){return(n%e+e)%e}function eX(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function tX(n,e,t){return n!==e?(t-n)/(e-n):0}function Km(n,e,t){return(1-t)*n+t*e}function nX(n,e,t,i){return Km(n,e,1-Math.exp(-t*i))}function iX(n,e=1){return e-Math.abs(VC(n,e*2)-e)}function rX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function sX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function oX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function aX(n,e){return n+Math.random()*(e-n)}function lX(n){return n*(.5-Math.random())}function cX(n){n!==void 0&&(VI=n);let e=VI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function uX(n){return n*tf}function fX(n){return n*Uh}function lE(n){return(n&n-1)===0&&n!==0}function aU(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function mx(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function dX(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),f=s((e-i)/2),d=o((e-i)/2),p=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ss(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ot(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Nh={DEG2RAD:tf,RAD2DEG:Uh,generateUUID:Ts,clamp:qn,euclideanModulo:VC,mapLinear:eX,inverseLerp:tX,lerp:Km,damp:nX,pingpong:iX,smoothstep:rX,smootherstep:sX,randInt:oX,randFloat:aX,randFloatSpread:lX,seededRandom:cX,degToRad:uX,radToDeg:fX,isPowerOfTwo:lE,ceilPowerOfTwo:aU,floorPowerOfTwo:mx,setQuaternionFromProperEuler:dX,normalize:Ot,denormalize:Ss};class Be{constructor(e=0,t=0){Be.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(qn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dt{constructor(e,t,i,r,s,o,a,l,c){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],f=i[7],d=i[2],p=i[5],g=i[8],x=r[0],y=r[3],v=r[6],_=r[1],A=r[4],w=r[7],E=r[2],M=r[5],C=r[8];return s[0]=o*x+a*_+l*E,s[3]=o*y+a*A+l*M,s[6]=o*v+a*w+l*C,s[1]=c*x+u*_+f*E,s[4]=c*y+u*A+f*M,s[7]=c*v+u*w+f*C,s[2]=d*x+p*_+g*E,s[5]=d*y+p*A+g*M,s[8]=d*v+p*w+g*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,p=c*s-o*l,g=t*f+i*d+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(r*c-u*i)*x,e[2]=(a*i-r*o)*x,e[3]=d*x,e[4]=(u*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=p*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ub.makeScale(e,t)),this}rotate(e){return this.premultiply(Ub.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ub.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ub=new Dt;function lU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const hX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Kd(n,e){return new hX[n](e)}function zg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const WI={};function qm(n){n in WI||(WI[n]=!0,console.warn(n))}function mh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Nb(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const pX=new Dt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),mX=new Dt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function gX(n){return n.convertSRGBToLinear().applyMatrix3(mX)}function vX(n){return n.applyMatrix3(pX).convertLinearToSRGB()}const yX={[Yo]:n=>n,[It]:n=>n.convertSRGBToLinear(),[GC]:gX},xX={[Yo]:n=>n,[It]:n=>n.convertLinearToSRGB(),[GC]:vX},Zs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Yo},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=yX[e],r=xX[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let td;class WC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{td===void 0&&(td=zg("canvas")),td.width=e.width,td.height=e.height;const i=td.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=td}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zg("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=mh(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(mh(t[i]/255)*255):t[i]=mh(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _X=0;class Ju{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_X++}),this.uuid=Ts(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(zb(r[o].image)):s.push(zb(r[o]))}else s=zb(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function zb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?WC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let AX=0;class Mn extends Oa{constructor(e=Mn.DEFAULT_IMAGE,t=Mn.DEFAULT_MAPPING,i=Yi,r=Yi,s=bn,o=Pa,a=qr,l=Ea,c=Mn.DEFAULT_ANISOTROPY,u=Pc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:AX++}),this.uuid=Ts(),this.name="",this.source=new Ju(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Be(0,0),this.repeat=new Be(1,1),this.center=new Be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(qm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Rc?It:Pc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==x_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hc:e.x=e.x-Math.floor(e.x);break;case Yi:e.x=e.x<0?0:1;break;case Bh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hc:e.y=e.y-Math.floor(e.y);break;case Yi:e.y=e.y<0?0:1;break;case Bh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===It?Rc:zC}set encoding(e){qm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Rc?It:Pc}}Mn.DEFAULT_IMAGE=null;Mn.DEFAULT_MAPPING=x_;Mn.DEFAULT_ANISOTROPY=1;class Wt{constructor(e=0,t=0,i=0,r=1){Wt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],p=l[5],g=l[9],x=l[2],y=l[6],v=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-x)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+x)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(c+1)/2,w=(p+1)/2,E=(v+1)/2,M=(u+d)/4,C=(f+x)/4,P=(g+y)/4;return A>w&&A>E?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=M/i,s=C/i):w>E?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=M/r,s=P/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=C/s,r=P/s),this.set(i,r,s,t),this}let _=Math.sqrt((y-g)*(y-g)+(f-x)*(f-x)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-x)/_,this.z=(d-u)/_,this.w=Math.acos((c+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Jo extends Oa{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Wt(0,0,e,t),this.scissorTest=!1,this.viewport=new Wt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(qm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Rc?It:Pc),this.texture=new Mn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:bn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ju(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class w_ extends Mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bX extends Jo{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new w_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class jC extends Mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wX extends Jo{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new jC(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class SX extends Jo{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class oi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const d=s[o+0],p=s[o+1],g=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=x;return}if(f!==x||l!==d||c!==p||u!==g){let y=1-a;const v=l*d+c*p+u*g+f*x,_=v>=0?1:-1,A=1-v*v;if(A>Number.EPSILON){const E=Math.sqrt(A),M=Math.atan2(E,v*_);y=Math.sin(y*M)/E,a=Math.sin(a*M)/E}const w=a*_;if(l=l*y+d*w,c=c*y+p*w,u=u*y+g*w,f=f*y+x*w,y===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=s[o],d=s[o+1],p=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*p-c*d,e[t+1]=l*g+u*d+c*f-a*p,e[t+2]=c*g+u*p+a*d-l*f,e[t+3]=u*g-a*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),f=a(s/2),d=l(i/2),p=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"YXZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"ZXY":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"ZYX":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"YZX":this._x=d*u*f+c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f-d*p*g;break;case"XZY":this._x=d*u*f-c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=i+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>f){const p=2*Math.sqrt(1+i-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-i-f);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=i*f+this._x*d,this._y=r*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Y{constructor(e=0,t=0,i=0){Y.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(jI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(jI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,f=l*r+s*i-o*t,d=-s*t-o*i-a*r;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Hb.copy(this).projectOnVector(e),this.sub(Hb)}reflect(e){return this.sub(Hb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(qn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Hb=new Y,jI=new oi;class bo{constructor(e=new Y(1/0,1/0,1/0),t=new Y(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ja.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ja.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ja.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),nd.copy(e.boundingBox),nd.applyMatrix4(e.matrixWorld),this.union(nd);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ja.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ja)}else r.boundingBox===null&&r.computeBoundingBox(),nd.copy(r.boundingBox),nd.applyMatrix4(e.matrixWorld),this.union(nd)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ja),Ja.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(im),ey.subVectors(this.max,im),id.subVectors(e.a,im),rd.subVectors(e.b,im),sd.subVectors(e.c,im),ql.subVectors(rd,id),Ql.subVectors(sd,rd),xu.subVectors(id,sd);let t=[0,-ql.z,ql.y,0,-Ql.z,Ql.y,0,-xu.z,xu.y,ql.z,0,-ql.x,Ql.z,0,-Ql.x,xu.z,0,-xu.x,-ql.y,ql.x,0,-Ql.y,Ql.x,0,-xu.y,xu.x,0];return!Gb(t,id,rd,sd,ey)||(t=[1,0,0,0,1,0,0,0,1],!Gb(t,id,rd,sd,ey))?!1:(ty.crossVectors(ql,Ql),t=[ty.x,ty.y,ty.z],Gb(t,id,rd,sd,ey))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ja).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ja).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ya),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ya=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],Ja=new Y,nd=new bo,id=new Y,rd=new Y,sd=new Y,ql=new Y,Ql=new Y,xu=new Y,im=new Y,ey=new Y,ty=new Y,_u=new Y;function Gb(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){_u.fromArray(n,s);const a=r.x*Math.abs(_u.x)+r.y*Math.abs(_u.y)+r.z*Math.abs(_u.z),l=e.dot(_u),c=t.dot(_u),u=i.dot(_u);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const EX=new bo,rm=new Y,Vb=new Y;class Fs{constructor(e=new Y,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):EX.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;rm.subVectors(e,this.center);const t=rm.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(rm,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Vb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(rm.copy(e.center).add(Vb)),this.expandByPoint(rm.copy(e.center).sub(Vb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ka=new Y,Wb=new Y,ny=new Y,Zl=new Y,jb=new Y,iy=new Y,$b=new Y;class hp{constructor(e=new Y,t=new Y(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ka)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ka.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ka.copy(this.origin).addScaledVector(this.direction,t),Ka.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Wb.copy(e).add(t).multiplyScalar(.5),ny.copy(t).sub(e).normalize(),Zl.copy(this.origin).sub(Wb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(ny),a=Zl.dot(this.direction),l=-Zl.dot(ny),c=Zl.lengthSq(),u=Math.abs(1-o*o);let f,d,p,g;if(u>0)if(f=o*l-a,d=o*a-l,g=s*u,f>=0)if(d>=-g)if(d<=g){const x=1/u;f*=x,d*=x,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(Wb).addScaledVector(ny,d),p}intersectSphere(e,t){Ka.subVectors(e.center,this.origin);const i=Ka.dot(this.direction),r=Ka.dot(Ka)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(i=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(i=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ka)!==null}intersectTriangle(e,t,i,r,s){jb.subVectors(t,e),iy.subVectors(i,e),$b.crossVectors(jb,iy);let o=this.direction.dot($b),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Zl.subVectors(this.origin,e);const l=a*this.direction.dot(iy.crossVectors(Zl,iy));if(l<0)return null;const c=a*this.direction.dot(jb.cross(Zl));if(c<0||l+c>o)return null;const u=-a*Zl.dot($b);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(e,t,i,r,s,o,a,l,c,u,f,d,p,g,x,y){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,f,d,p,g,x,y)}set(e,t,i,r,s,o,a,l,c,u,f,d,p,g,x,y){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=d,v[3]=p,v[7]=g,v[11]=x,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/od.setFromMatrixColumn(e,0).length(),s=1/od.setFromMatrixColumn(e,1).length(),o=1/od.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*f,g=a*u,x=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+g*c,t[5]=d-x*c,t[9]=-a*l,t[2]=x-d*c,t[6]=g+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,g=c*u,x=c*f;t[0]=d+x*a,t[4]=g*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-g,t[6]=x+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,g=c*u,x=c*f;t[0]=d-x*a,t[4]=-o*f,t[8]=g+p*a,t[1]=p+g*a,t[5]=o*u,t[9]=x-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*f,g=a*u,x=a*f;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+x,t[1]=l*f,t[5]=x*c+d,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,g=a*l,x=a*c;t[0]=l*u,t[4]=x-d*f,t[8]=g*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+g,t[10]=d-x*f}else if(e.order==="XZY"){const d=o*l,p=o*c,g=a*l,x=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+x,t[5]=o*u,t[9]=p*f-g,t[2]=g*f-p,t[6]=a*u,t[10]=x*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(MX,e,CX)}lookAt(e,t,i){const r=this.elements;return gs.subVectors(e,t),gs.lengthSq()===0&&(gs.z=1),gs.normalize(),ec.crossVectors(i,gs),ec.lengthSq()===0&&(Math.abs(i.z)===1?gs.x+=1e-4:gs.z+=1e-4,gs.normalize(),ec.crossVectors(i,gs)),ec.normalize(),ry.crossVectors(gs,ec),r[0]=ec.x,r[4]=ry.x,r[8]=gs.x,r[1]=ec.y,r[5]=ry.y,r[9]=gs.y,r[2]=ec.z,r[6]=ry.z,r[10]=gs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],f=i[5],d=i[9],p=i[13],g=i[2],x=i[6],y=i[10],v=i[14],_=i[3],A=i[7],w=i[11],E=i[15],M=r[0],C=r[4],P=r[8],T=r[12],D=r[1],O=r[5],N=r[9],z=r[13],G=r[2],W=r[6],J=r[10],Z=r[14],H=r[3],$=r[7],X=r[11],F=r[15];return s[0]=o*M+a*D+l*G+c*H,s[4]=o*C+a*O+l*W+c*$,s[8]=o*P+a*N+l*J+c*X,s[12]=o*T+a*z+l*Z+c*F,s[1]=u*M+f*D+d*G+p*H,s[5]=u*C+f*O+d*W+p*$,s[9]=u*P+f*N+d*J+p*X,s[13]=u*T+f*z+d*Z+p*F,s[2]=g*M+x*D+y*G+v*H,s[6]=g*C+x*O+y*W+v*$,s[10]=g*P+x*N+y*J+v*X,s[14]=g*T+x*z+y*Z+v*F,s[3]=_*M+A*D+w*G+E*H,s[7]=_*C+A*O+w*W+E*$,s[11]=_*P+A*N+w*J+E*X,s[15]=_*T+A*z+w*Z+E*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],g=e[3],x=e[7],y=e[11],v=e[15];return g*(+s*l*f-r*c*f-s*a*d+i*c*d+r*a*p-i*l*p)+x*(+t*l*p-t*c*d+s*o*d-r*o*p+r*c*u-s*l*u)+y*(+t*c*f-t*a*p-s*o*f+i*o*p+s*a*u-i*c*u)+v*(-r*a*u-t*l*f+t*a*d+r*o*f-i*o*d+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],g=e[12],x=e[13],y=e[14],v=e[15],_=f*y*c-x*d*c+x*l*p-a*y*p-f*l*v+a*d*v,A=g*d*c-u*y*c-g*l*p+o*y*p+u*l*v-o*d*v,w=u*x*c-g*f*c+g*a*p-o*x*p-u*a*v+o*f*v,E=g*f*l-u*x*l-g*a*d+o*x*d+u*a*y-o*f*y,M=t*_+i*A+r*w+s*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/M;return e[0]=_*C,e[1]=(x*d*s-f*y*s-x*r*p+i*y*p+f*r*v-i*d*v)*C,e[2]=(a*y*s-x*l*s+x*r*c-i*y*c-a*r*v+i*l*v)*C,e[3]=(f*l*s-a*d*s-f*r*c+i*d*c+a*r*p-i*l*p)*C,e[4]=A*C,e[5]=(u*y*s-g*d*s+g*r*p-t*y*p-u*r*v+t*d*v)*C,e[6]=(g*l*s-o*y*s-g*r*c+t*y*c+o*r*v-t*l*v)*C,e[7]=(o*d*s-u*l*s+u*r*c-t*d*c-o*r*p+t*l*p)*C,e[8]=w*C,e[9]=(g*f*s-u*x*s-g*i*p+t*x*p+u*i*v-t*f*v)*C,e[10]=(o*x*s-g*a*s+g*i*c-t*x*c-o*i*v+t*a*v)*C,e[11]=(u*a*s-o*f*s-u*i*c+t*f*c+o*i*p-t*a*p)*C,e[12]=E*C,e[13]=(u*x*r-g*f*r+g*i*d-t*x*d-u*i*y+t*f*y)*C,e[14]=(g*a*r-o*x*r-g*i*l+t*x*l+o*i*y-t*a*y)*C,e[15]=(o*f*r-u*a*r+u*i*l-t*f*l-o*i*d+t*a*d)*C,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,p=s*u,g=s*f,x=o*u,y=o*f,v=a*f,_=l*c,A=l*u,w=l*f,E=i.x,M=i.y,C=i.z;return r[0]=(1-(x+v))*E,r[1]=(p+w)*E,r[2]=(g-A)*E,r[3]=0,r[4]=(p-w)*M,r[5]=(1-(d+v))*M,r[6]=(y+_)*M,r[7]=0,r[8]=(g+A)*C,r[9]=(y-_)*C,r[10]=(1-(d+x))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=od.set(r[0],r[1],r[2]).length();const o=od.set(r[4],r[5],r[6]).length(),a=od.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ro.copy(this);const c=1/s,u=1/o,f=1/a;return Ro.elements[0]*=c,Ro.elements[1]*=c,Ro.elements[2]*=c,Ro.elements[4]*=u,Ro.elements[5]*=u,Ro.elements[6]*=u,Ro.elements[8]*=f,Ro.elements[9]*=f,Ro.elements[10]*=f,t.setFromRotationMatrix(Ro),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Aa){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),d=(i+r)/(i-r);let p,g;if(a===Aa)p=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Ng)p=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Aa){const l=this.elements,c=1/(t-e),u=1/(i-r),f=1/(o-s),d=(t+e)*c,p=(i+r)*u;let g,x;if(a===Aa)g=(o+s)*f,x=-2*f;else if(a===Ng)g=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const od=new Y,Ro=new At,MX=new Y(0,0,0),CX=new Y(1,1,1),ec=new Y,ry=new Y,gs=new Y,$I=new At,XI=new oi;class pp{constructor(e=0,t=0,i=0,r=pp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],d=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return $I.makeRotationFromQuaternion(e),this.setFromRotationMatrix($I,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XI.setFromEuler(this),this.setFromQuaternion(XI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}pp.DEFAULT_ORDER="XYZ";class nf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let TX=0;const YI=new Y,ad=new oi,qa=new At,sy=new Y,sm=new Y,RX=new Y,PX=new oi,JI=new Y(1,0,0),KI=new Y(0,1,0),qI=new Y(0,0,1),IX={type:"added"},QI={type:"removed"};class Lt extends Oa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:TX++}),this.uuid=Ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new Y,t=new pp,i=new oi,r=new Y(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new At},normalMatrix:{value:new Dt}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new nf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ad.setFromAxisAngle(e,t),this.quaternion.multiply(ad),this}rotateOnWorldAxis(e,t){return ad.setFromAxisAngle(e,t),this.quaternion.premultiply(ad),this}rotateX(e){return this.rotateOnAxis(JI,e)}rotateY(e){return this.rotateOnAxis(KI,e)}rotateZ(e){return this.rotateOnAxis(qI,e)}translateOnAxis(e,t){return YI.copy(e).applyQuaternion(this.quaternion),this.position.add(YI.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(JI,e)}translateY(e){return this.translateOnAxis(KI,e)}translateZ(e){return this.translateOnAxis(qI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qa.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sy.copy(e):sy.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),sm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qa.lookAt(sm,sy,this.up):qa.lookAt(sy,sm,this.up),this.quaternion.setFromRotationMatrix(qa),r&&(qa.extractRotation(r.matrixWorld),ad.setFromRotationMatrix(qa),this.quaternion.premultiply(ad.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(IX)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(QI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(QI)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),qa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),qa.multiply(e.parent.matrixWorld)),e.applyMatrix4(qa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sm,e,RX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sm,PX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),d.length>0&&(i.skeletons=d),p.length>0&&(i.animations=p),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Lt.DEFAULT_UP=new Y(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Po=new Y,Qa=new Y,Xb=new Y,Za=new Y,ld=new Y,cd=new Y,ZI=new Y,Yb=new Y,Jb=new Y,Kb=new Y;let oy=!1;class Yr{constructor(e=new Y,t=new Y,i=new Y){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Po.subVectors(e,t),r.cross(Po);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Po.subVectors(r,t),Qa.subVectors(i,t),Xb.subVectors(e,t);const o=Po.dot(Po),a=Po.dot(Qa),l=Po.dot(Xb),c=Qa.dot(Qa),u=Qa.dot(Xb),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-p-g,g,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Za),Za.x>=0&&Za.y>=0&&Za.x+Za.y<=1}static getUV(e,t,i,r,s,o,a,l){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Za),l.setScalar(0),l.addScaledVector(s,Za.x),l.addScaledVector(o,Za.y),l.addScaledVector(a,Za.z),l}static isFrontFacing(e,t,i,r){return Po.subVectors(i,t),Qa.subVectors(e,t),Po.cross(Qa).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Po.subVectors(this.c,this.b),Qa.subVectors(this.a,this.b),Po.cross(Qa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),Yr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Yr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Yr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;ld.subVectors(r,i),cd.subVectors(s,i),Yb.subVectors(e,i);const l=ld.dot(Yb),c=cd.dot(Yb);if(l<=0&&c<=0)return t.copy(i);Jb.subVectors(e,r);const u=ld.dot(Jb),f=cd.dot(Jb);if(u>=0&&f<=u)return t.copy(r);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(ld,o);Kb.subVectors(e,s);const p=ld.dot(Kb),g=cd.dot(Kb);if(g>=0&&p<=g)return t.copy(s);const x=p*c-l*g;if(x<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(i).addScaledVector(cd,a);const y=u*g-p*f;if(y<=0&&f-u>=0&&p-g>=0)return ZI.subVectors(s,r),a=(f-u)/(f-u+(p-g)),t.copy(r).addScaledVector(ZI,a);const v=1/(y+x+d);return o=x*v,a=d*v,t.copy(i).addScaledVector(ld,o).addScaledVector(cd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let DX=0;class gi extends Oa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DX++}),this.uuid=Ts(),this.name="",this.type="Material",this.blending=vl,this.side=Xo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=RC,this.blendDst=PC,this.blendEquation=zu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=dx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Q9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=S1,this.stencilZFail=S1,this.stencilZPass=S1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==vl&&(i.blending=this.blending),this.side!==Xo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const cU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Io={h:0,s:0,l:0},ay={h:0,s:0,l:0};function qb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Ke=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=It){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Zs.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Zs.workingColorSpace){return this.r=e,this.g=t,this.b=i,Zs.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Zs.workingColorSpace){if(e=VC(e,1),t=qn(t,0,1),i=qn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=qb(o,s,e+1/3),this.g=qb(o,s,e),this.b=qb(o,s,e-1/3)}return Zs.toWorkingColorSpace(this,r),this}setStyle(e,t=It){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=It){const i=cU[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mh(e.r),this.g=mh(e.g),this.b=mh(e.b),this}copyLinearToSRGB(e){return this.r=Nb(e.r),this.g=Nb(e.g),this.b=Nb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=It){return Zs.fromWorkingColorSpace(lr.copy(this),e),Math.round(qn(lr.r*255,0,255))*65536+Math.round(qn(lr.g*255,0,255))*256+Math.round(qn(lr.b*255,0,255))}getHexString(e=It){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Zs.workingColorSpace){Zs.fromWorkingColorSpace(lr.copy(this),t);const i=lr.r,r=lr.g,s=lr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Zs.workingColorSpace){return Zs.fromWorkingColorSpace(lr.copy(this),t),e.r=lr.r,e.g=lr.g,e.b=lr.b,e}getStyle(e=It){Zs.fromWorkingColorSpace(lr.copy(this),e);const t=lr.r,i=lr.g,r=lr.b;return e!==It?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Io),Io.h+=e,Io.s+=t,Io.l+=i,this.setHSL(Io.h,Io.s,Io.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Io),e.getHSL(ay);const i=Km(Io.h,ay.h,t),r=Km(Io.s,ay.s,t),s=Km(Io.l,ay.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const lr=new Ke;Ke.NAMES=cU;class es extends gi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ll=LX();function LX(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function jr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=qn(n,-65504,65504),ll.floatView[0]=n;const e=ll.uint32View[0],t=e>>23&511;return ll.baseTable[t]+((e&8388607)>>ll.shiftTable[t])}function Lm(n){const e=n>>10;return ll.uint32View[0]=ll.mantissaTable[ll.offsetTable[e]+(n&1023)]+ll.exponentTable[e],ll.floatView[0]}const kX={toHalfFloat:jr,fromHalfFloat:Lm},hi=new Y,ly=new Be;class en{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ug,this.updateRange={offset:0,count:-1},this.gpuType=_a,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ly.fromBufferAttribute(this,t),ly.applyMatrix3(e),this.setXY(t,ly.x,ly.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix3(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix4(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.applyNormalMatrix(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.transformDirection(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ss(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ss(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ss(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ss(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ug&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class BX extends en{constructor(e,t,i){super(new Int8Array(e),t,i)}}class OX extends en{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class FX extends en{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class UX extends en{constructor(e,t,i){super(new Int16Array(e),t,i)}}class $C extends en{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class NX extends en{constructor(e,t,i){super(new Int32Array(e),t,i)}}class XC extends en{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class zX extends en{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Lm(this.array[e*this.itemSize]);return this.normalized&&(t=Ss(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=jr(t),this}getY(e){let t=Lm(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ss(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=jr(t),this}getZ(e){let t=Lm(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ss(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=jr(t),this}getW(e){let t=Lm(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ss(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=jr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.array[e+0]=jr(t),this.array[e+1]=jr(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.array[e+0]=jr(t),this.array[e+1]=jr(i),this.array[e+2]=jr(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.array[e+0]=jr(t),this.array[e+1]=jr(i),this.array[e+2]=jr(r),this.array[e+3]=jr(s),this}}class at extends en{constructor(e,t,i){super(new Float32Array(e),t,i)}}class HX extends en{constructor(e,t,i){super(new Float64Array(e),t,i)}}let GX=0;const Js=new At,Qb=new Lt,ud=new Y,vs=new bo,om=new bo,Bi=new Y;class Rt extends Oa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GX++}),this.uuid=Ts(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lU(e)?XC:$C)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Dt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Js.makeRotationFromQuaternion(e),this.applyMatrix4(Js),this}rotateX(e){return Js.makeRotationX(e),this.applyMatrix4(Js),this}rotateY(e){return Js.makeRotationY(e),this.applyMatrix4(Js),this}rotateZ(e){return Js.makeRotationZ(e),this.applyMatrix4(Js),this}translate(e,t,i){return Js.makeTranslation(e,t,i),this.applyMatrix4(Js),this}scale(e,t,i){return Js.makeScale(e,t,i),this.applyMatrix4(Js),this}lookAt(e){return Qb.lookAt(e),Qb.updateMatrix(),this.applyMatrix4(Qb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ud).negate(),this.translate(ud.x,ud.y,ud.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Y(-1/0,-1/0,-1/0),new Y(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];vs.setFromBufferAttribute(s),this.morphTargetsRelative?(Bi.addVectors(this.boundingBox.min,vs.min),this.boundingBox.expandByPoint(Bi),Bi.addVectors(this.boundingBox.max,vs.max),this.boundingBox.expandByPoint(Bi)):(this.boundingBox.expandByPoint(vs.min),this.boundingBox.expandByPoint(vs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Y,1/0);return}if(e){const i=this.boundingSphere.center;if(vs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];om.setFromBufferAttribute(a),this.morphTargetsRelative?(Bi.addVectors(vs.min,om.min),vs.expandByPoint(Bi),Bi.addVectors(vs.max,om.max),vs.expandByPoint(Bi)):(vs.expandByPoint(om.min),vs.expandByPoint(om.max))}vs.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Bi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Bi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Bi.fromBufferAttribute(a,c),l&&(ud.fromBufferAttribute(e,c),Bi.add(ud)),r=Math.max(r,i.distanceToSquared(Bi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new en(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new Y,u[D]=new Y;const f=new Y,d=new Y,p=new Y,g=new Be,x=new Be,y=new Be,v=new Y,_=new Y;function A(D,O,N){f.fromArray(r,D*3),d.fromArray(r,O*3),p.fromArray(r,N*3),g.fromArray(o,D*2),x.fromArray(o,O*2),y.fromArray(o,N*2),d.sub(f),p.sub(f),x.sub(g),y.sub(g);const z=1/(x.x*y.y-y.x*x.y);isFinite(z)&&(v.copy(d).multiplyScalar(y.y).addScaledVector(p,-x.y).multiplyScalar(z),_.copy(p).multiplyScalar(x.x).addScaledVector(d,-y.x).multiplyScalar(z),c[D].add(v),c[O].add(v),c[N].add(v),u[D].add(_),u[O].add(_),u[N].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let D=0,O=w.length;D<O;++D){const N=w[D],z=N.start,G=N.count;for(let W=z,J=z+G;W<J;W+=3)A(i[W+0],i[W+1],i[W+2])}const E=new Y,M=new Y,C=new Y,P=new Y;function T(D){C.fromArray(s,D*3),P.copy(C);const O=c[D];E.copy(O),E.sub(C.multiplyScalar(C.dot(O))).normalize(),M.crossVectors(P,O);const z=M.dot(u[D])<0?-1:1;l[D*4]=E.x,l[D*4+1]=E.y,l[D*4+2]=E.z,l[D*4+3]=z}for(let D=0,O=w.length;D<O;++D){const N=w[D],z=N.start,G=N.count;for(let W=z,J=z+G;W<J;W+=3)T(i[W+0]),T(i[W+1]),T(i[W+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new en(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,p=i.count;d<p;d++)i.setXYZ(d,0,0,0);const r=new Y,s=new Y,o=new Y,a=new Y,l=new Y,c=new Y,u=new Y,f=new Y;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),x=e.getX(d+1),y=e.getX(d+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,y),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),i.setXYZ(d+0,u.x,u.y,u.z),i.setXYZ(d+1,u.x,u.y,u.z),i.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Bi.fromBufferAttribute(e,t),Bi.normalize(),e.setXYZ(t,Bi.x,Bi.y,Bi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?p=l[x]*a.data.stride+a.offset:p=l[x]*u;for(let v=0;v<u;v++)d[g++]=c[p++]}return new en(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Rt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,i);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eD=new At,Au=new hp,cy=new Fs,tD=new Y,fd=new Y,dd=new Y,hd=new Y,Zb=new Y,uy=new Y,fy=new Be,dy=new Be,hy=new Be,nD=new Y,iD=new Y,rD=new Y,py=new Y,my=new Y;class Qn extends Lt{constructor(e=new Rt,t=new es){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){uy.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(Zb.fromBufferAttribute(f,e),o?uy.addScaledVector(Zb,u):uy.addScaledVector(Zb.sub(t),u))}t.add(uy)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),cy.copy(i.boundingSphere),cy.applyMatrix4(s),Au.copy(e.ray).recast(e.near),!(cy.containsPoint(Au.origin)===!1&&(Au.intersectSphere(cy,tD)===null||Au.origin.distanceToSquared(tD)>(e.far-e.near)**2))&&(eD.copy(s).invert(),Au.copy(e.ray).applyMatrix4(eD),!(i.boundingBox!==null&&Au.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Au)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,d=s.groups,p=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,x=d.length;g<x;g++){const y=d[g],v=o[y.materialIndex],_=Math.max(y.start,p.start),A=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,E=A;w<E;w+=3){const M=a.getX(w),C=a.getX(w+1),P=a.getX(w+2);r=gy(this,v,e,i,c,u,f,M,C,P),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),x=Math.min(a.count,p.start+p.count);for(let y=g,v=x;y<v;y+=3){const _=a.getX(y),A=a.getX(y+1),w=a.getX(y+2);r=gy(this,o,e,i,c,u,f,_,A,w),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,x=d.length;g<x;g++){const y=d[g],v=o[y.materialIndex],_=Math.max(y.start,p.start),A=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,E=A;w<E;w+=3){const M=w,C=w+1,P=w+2;r=gy(this,v,e,i,c,u,f,M,C,P),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),x=Math.min(l.count,p.start+p.count);for(let y=g,v=x;y<v;y+=3){const _=y,A=y+1,w=y+2;r=gy(this,o,e,i,c,u,f,_,A,w),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}}function VX(n,e,t,i,r,s,o,a){let l;if(e.side===mr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Xo,a),l===null)return null;my.copy(a),my.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(my);return c<t.near||c>t.far?null:{distance:c,point:my.clone(),object:n}}function gy(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,fd),n.getVertexPosition(l,dd),n.getVertexPosition(c,hd);const u=VX(n,e,t,i,fd,dd,hd,py);if(u){r&&(fy.fromBufferAttribute(r,a),dy.fromBufferAttribute(r,l),hy.fromBufferAttribute(r,c),u.uv=Yr.getInterpolation(py,fd,dd,hd,fy,dy,hy,new Be)),s&&(fy.fromBufferAttribute(s,a),dy.fromBufferAttribute(s,l),hy.fromBufferAttribute(s,c),u.uv1=Yr.getInterpolation(py,fd,dd,hd,fy,dy,hy,new Be),u.uv2=u.uv1),o&&(nD.fromBufferAttribute(o,a),iD.fromBufferAttribute(o,l),rD.fromBufferAttribute(o,c),u.normal=Yr.getInterpolation(py,fd,dd,hd,nD,iD,rD,new Y),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Y,materialIndex:0};Yr.getNormal(fd,dd,hd,f.normal),u.face=f}return u}class If extends Rt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,p=0;g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2));function g(x,y,v,_,A,w,E,M,C,P,T){const D=w/C,O=E/P,N=w/2,z=E/2,G=M/2,W=C+1,J=P+1;let Z=0,H=0;const $=new Y;for(let X=0;X<J;X++){const F=X*O-z;for(let j=0;j<W;j++){const se=j*D-N;$[x]=se*_,$[y]=F*A,$[v]=G,c.push($.x,$.y,$.z),$[x]=0,$[y]=0,$[v]=M>0?1:-1,u.push($.x,$.y,$.z),f.push(j/C),f.push(1-X/P),Z+=1}}for(let X=0;X<P;X++)for(let F=0;F<C;F++){const j=d+F+W*X,se=d+F+W*(X+1),ne=d+(F+1)+W*(X+1),ie=d+(F+1)+W*X;l.push(j,se,ie),l.push(se,ne,ie),H+=6}a.addGroup(p,H,T),p+=H,d+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new If(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Lr(n){const e={};for(let t=0;t<n.length;t++){const i=zh(n[t]);for(const r in i)e[r]=i[r]}return e}function WX(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function uU(n){return n.getRenderTarget()===null?n.outputColorSpace:Yo}const YC={clone:zh,merge:Lr};var jX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$X=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ia extends gi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jX,this.fragmentShader=$X,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zh(e.uniforms),this.uniformsGroups=WX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class g0 extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Aa}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class In extends g0{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Uh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(tf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Uh*2*Math.atan(Math.tan(tf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(tf*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const pd=-90,md=1;class fU extends Lt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new In(pd,md,e,t);r.layers=this.layers,this.add(r);const s=new In(pd,md,e,t);s.layers=this.layers,this.add(s);const o=new In(pd,md,e,t);o.layers=this.layers,this.add(o);const a=new In(pd,md,e,t);a.layers=this.layers,this.add(a);const l=new In(pd,md,e,t);l.layers=this.layers,this.add(l);const c=new In(pd,md,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Aa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ng)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Ho,e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class v0 extends Mn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Nc,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dU extends Jo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(qm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Rc?It:Pc),this.texture=new v0(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:bn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new If(5,5,5),s=new Ia({name:"CubemapFromEquirect",uniforms:zh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:mr,blending:gl});s.uniforms.tEquirect.value=t;const o=new Qn(r,s),a=t.minFilter;return t.minFilter===Pa&&(t.minFilter=bn),new fU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const ew=new Y,XX=new Y,YX=new Dt;class oc{constructor(e=new Y(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=ew.subVectors(i,t).cross(XX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(ew),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||YX.getNormalMatrix(e),r=this.coplanarPoint(ew).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bu=new Fs,vy=new Y;class S_{constructor(e=new oc,t=new oc,i=new oc,r=new oc,s=new oc,o=new oc){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Aa){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],f=r[6],d=r[7],p=r[8],g=r[9],x=r[10],y=r[11],v=r[12],_=r[13],A=r[14],w=r[15];if(i[0].setComponents(l-s,d-c,y-p,w-v).normalize(),i[1].setComponents(l+s,d+c,y+p,w+v).normalize(),i[2].setComponents(l+o,d+u,y+g,w+_).normalize(),i[3].setComponents(l-o,d-u,y-g,w-_).normalize(),i[4].setComponents(l-a,d-f,y-x,w-A).normalize(),t===Aa)i[5].setComponents(l+a,d+f,y+x,w+A).normalize();else if(t===Ng)i[5].setComponents(a,f,x,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),bu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bu)}intersectsSprite(e){return bu.center.set(0,0,0),bu.radius=.7071067811865476,bu.applyMatrix4(e.matrixWorld),this.intersectsSphere(bu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(vy.x=r.normal.x>0?e.max.x:e.min.x,vy.y=r.normal.y>0?e.max.y:e.min.y,vy.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(vy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function hU(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function JX(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const f=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=n.SHORT;else if(f instanceof Uint32Array)g=n.UNSIGNED_INT;else if(f instanceof Int32Array)g=n.INT;else if(f instanceof Int8Array)g=n.BYTE;else if(f instanceof Uint8Array)g=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;n.bindBuffer(f,c),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=i.get(c);(!d||d.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class eu extends Rt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,f=e/a,d=t/l,p=[],g=[],x=[],y=[];for(let v=0;v<u;v++){const _=v*d-o;for(let A=0;A<c;A++){const w=A*f-s;g.push(w,-_,0),x.push(0,0,1),y.push(A/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let _=0;_<a;_++){const A=_+c*v,w=_+c*(v+1),E=_+1+c*(v+1),M=_+1+c*v;p.push(A,w,M),p.push(w,E,M)}this.setIndex(p),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(x,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eu(e.width,e.height,e.widthSegments,e.heightSegments)}}var KX=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,qX=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,QX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ZX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,tY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,aY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,uY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,fY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,gY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xY=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_Y=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,AY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,wY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SY="gl_FragColor = linearToOutputTexel( gl_FragColor );",EY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,MY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,RY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,PY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,IY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,LY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,BY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,OY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,FY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,UY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,NY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,zY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,GY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,WY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$Y=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,XY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,YY=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,JY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,qY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,QY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,eJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,tJ=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,nJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,rJ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aJ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,lJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,cJ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,uJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,fJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,dJ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,gJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,vJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,yJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,_J=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,AJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,wJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,SJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,EJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,MJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,CJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,RJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,PJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,IJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,DJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,LJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,BJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,OJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,UJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,NJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,HJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,GJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,VJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,WJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$J=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const XJ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,YJ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KJ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,QJ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZJ=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,tK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,iK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,rK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aK=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_K=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wK=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,EK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,MK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Pt={alphahash_fragment:KX,alphahash_pars_fragment:qX,alphamap_fragment:QX,alphamap_pars_fragment:ZX,alphatest_fragment:eY,alphatest_pars_fragment:tY,aomap_fragment:nY,aomap_pars_fragment:iY,begin_vertex:rY,beginnormal_vertex:sY,bsdfs:oY,iridescence_fragment:aY,bumpmap_pars_fragment:lY,clipping_planes_fragment:cY,clipping_planes_pars_fragment:uY,clipping_planes_pars_vertex:fY,clipping_planes_vertex:dY,color_fragment:hY,color_pars_fragment:pY,color_pars_vertex:mY,color_vertex:gY,common:vY,cube_uv_reflection_fragment:yY,defaultnormal_vertex:xY,displacementmap_pars_vertex:_Y,displacementmap_vertex:AY,emissivemap_fragment:bY,emissivemap_pars_fragment:wY,colorspace_fragment:SY,colorspace_pars_fragment:EY,envmap_fragment:MY,envmap_common_pars_fragment:CY,envmap_pars_fragment:TY,envmap_pars_vertex:RY,envmap_physical_pars_fragment:HY,envmap_vertex:PY,fog_vertex:IY,fog_pars_vertex:DY,fog_fragment:LY,fog_pars_fragment:kY,gradientmap_pars_fragment:BY,lightmap_fragment:OY,lightmap_pars_fragment:FY,lights_lambert_fragment:UY,lights_lambert_pars_fragment:NY,lights_pars_begin:zY,lights_toon_fragment:GY,lights_toon_pars_fragment:VY,lights_phong_fragment:WY,lights_phong_pars_fragment:jY,lights_physical_fragment:$Y,lights_physical_pars_fragment:XY,lights_fragment_begin:YY,lights_fragment_maps:JY,lights_fragment_end:KY,logdepthbuf_fragment:qY,logdepthbuf_pars_fragment:QY,logdepthbuf_pars_vertex:ZY,logdepthbuf_vertex:eJ,map_fragment:tJ,map_pars_fragment:nJ,map_particle_fragment:iJ,map_particle_pars_fragment:rJ,metalnessmap_fragment:sJ,metalnessmap_pars_fragment:oJ,morphcolor_vertex:aJ,morphnormal_vertex:lJ,morphtarget_pars_vertex:cJ,morphtarget_vertex:uJ,normal_fragment_begin:fJ,normal_fragment_maps:dJ,normal_pars_fragment:hJ,normal_pars_vertex:pJ,normal_vertex:mJ,normalmap_pars_fragment:gJ,clearcoat_normal_fragment_begin:vJ,clearcoat_normal_fragment_maps:yJ,clearcoat_pars_fragment:xJ,iridescence_pars_fragment:_J,opaque_fragment:AJ,packing:bJ,premultiplied_alpha_fragment:wJ,project_vertex:SJ,dithering_fragment:EJ,dithering_pars_fragment:MJ,roughnessmap_fragment:CJ,roughnessmap_pars_fragment:TJ,shadowmap_pars_fragment:RJ,shadowmap_pars_vertex:PJ,shadowmap_vertex:IJ,shadowmask_pars_fragment:DJ,skinbase_vertex:LJ,skinning_pars_vertex:kJ,skinning_vertex:BJ,skinnormal_vertex:OJ,specularmap_fragment:FJ,specularmap_pars_fragment:UJ,tonemapping_fragment:NJ,tonemapping_pars_fragment:zJ,transmission_fragment:HJ,transmission_pars_fragment:GJ,uv_pars_fragment:VJ,uv_pars_vertex:WJ,uv_vertex:jJ,worldpos_vertex:$J,background_vert:XJ,background_frag:YJ,backgroundCube_vert:JJ,backgroundCube_frag:KJ,cube_vert:qJ,cube_frag:QJ,depth_vert:ZJ,depth_frag:eK,distanceRGBA_vert:tK,distanceRGBA_frag:nK,equirect_vert:iK,equirect_frag:rK,linedashed_vert:sK,linedashed_frag:oK,meshbasic_vert:aK,meshbasic_frag:lK,meshlambert_vert:cK,meshlambert_frag:uK,meshmatcap_vert:fK,meshmatcap_frag:dK,meshnormal_vert:hK,meshnormal_frag:pK,meshphong_vert:mK,meshphong_frag:gK,meshphysical_vert:vK,meshphysical_frag:yK,meshtoon_vert:xK,meshtoon_frag:_K,points_vert:AK,points_frag:bK,shadow_vert:wK,shadow_frag:SK,sprite_vert:EK,sprite_frag:MK},qe={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Be(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new Be(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},Fo={basic:{uniforms:Lr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Pt.meshbasic_vert,fragmentShader:Pt.meshbasic_frag},lambert:{uniforms:Lr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Pt.meshlambert_vert,fragmentShader:Pt.meshlambert_frag},phong:{uniforms:Lr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:Pt.meshphong_vert,fragmentShader:Pt.meshphong_frag},standard:{uniforms:Lr([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Pt.meshphysical_vert,fragmentShader:Pt.meshphysical_frag},toon:{uniforms:Lr([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Pt.meshtoon_vert,fragmentShader:Pt.meshtoon_frag},matcap:{uniforms:Lr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Pt.meshmatcap_vert,fragmentShader:Pt.meshmatcap_frag},points:{uniforms:Lr([qe.points,qe.fog]),vertexShader:Pt.points_vert,fragmentShader:Pt.points_frag},dashed:{uniforms:Lr([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pt.linedashed_vert,fragmentShader:Pt.linedashed_frag},depth:{uniforms:Lr([qe.common,qe.displacementmap]),vertexShader:Pt.depth_vert,fragmentShader:Pt.depth_frag},normal:{uniforms:Lr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Pt.meshnormal_vert,fragmentShader:Pt.meshnormal_frag},sprite:{uniforms:Lr([qe.sprite,qe.fog]),vertexShader:Pt.sprite_vert,fragmentShader:Pt.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Pt.background_vert,fragmentShader:Pt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Pt.backgroundCube_vert,fragmentShader:Pt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Pt.cube_vert,fragmentShader:Pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Pt.equirect_vert,fragmentShader:Pt.equirect_frag},distanceRGBA:{uniforms:Lr([qe.common,qe.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Pt.distanceRGBA_vert,fragmentShader:Pt.distanceRGBA_frag},shadow:{uniforms:Lr([qe.lights,qe.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:Pt.shadow_vert,fragmentShader:Pt.shadow_frag}};Fo.physical={uniforms:Lr([Fo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Be(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new Be},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:Pt.meshphysical_vert,fragmentShader:Pt.meshphysical_frag};const yy={r:0,b:0,g:0};function CK(n,e,t,i,r,s,o){const a=new Ke(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function g(y,v){let _=!1,A=v.isScene===!0?v.background:null;switch(A&&A.isTexture&&(A=(v.backgroundBlurriness>0?t:e).get(A)),A===null?x(a,l):A&&A.isColor&&(x(A,1),_=!0),n.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),_=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),_=!0;break}(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===dp)?(u===void 0&&(u=new Qn(new If(1,1,1),new Ia({name:"BackgroundCubeMaterial",uniforms:zh(Fo.backgroundCube.uniforms),vertexShader:Fo.backgroundCube.vertexShader,fragmentShader:Fo.backgroundCube.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=A,u.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=A.colorSpace!==It,(f!==A||d!==A.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=A,d=A.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Qn(new eu(2,2),new Ia({name:"BackgroundMaterial",uniforms:zh(Fo.background.uniforms),vertexShader:Fo.background.vertexShader,fragmentShader:Fo.background.fragmentShader,side:Xo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=A.colorSpace!==It,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||d!==A.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=A,d=A.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function x(y,v){y.getRGB(yy,uU(n)),i.buffers.color.setClear(yy.r,yy.g,yy.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(y,v=1){a.set(y),l=v,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:g}}function TK(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(G,W,J,Z,H){let $=!1;if(o){const X=x(Z,J,W);c!==X&&(c=X,p(c.object)),$=v(G,Z,J,H),$&&_(G,Z,J,H)}else{const X=W.wireframe===!0;(c.geometry!==Z.id||c.program!==J.id||c.wireframe!==X)&&(c.geometry=Z.id,c.program=J.id,c.wireframe=X,$=!0)}H!==null&&t.update(H,n.ELEMENT_ARRAY_BUFFER),($||u)&&(u=!1,P(G,W,J,Z),H!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(H).buffer))}function d(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(G){return i.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function g(G){return i.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function x(G,W,J){const Z=J.wireframe===!0;let H=a[G.id];H===void 0&&(H={},a[G.id]=H);let $=H[W.id];$===void 0&&($={},H[W.id]=$);let X=$[Z];return X===void 0&&(X=y(d()),$[Z]=X),X}function y(G){const W=[],J=[],Z=[];for(let H=0;H<r;H++)W[H]=0,J[H]=0,Z[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:J,attributeDivisors:Z,object:G,attributes:{},index:null}}function v(G,W,J,Z){const H=c.attributes,$=W.attributes;let X=0;const F=J.getAttributes();for(const j in F)if(F[j].location>=0){const ne=H[j];let ie=$[j];if(ie===void 0&&(j==="instanceMatrix"&&G.instanceMatrix&&(ie=G.instanceMatrix),j==="instanceColor"&&G.instanceColor&&(ie=G.instanceColor)),ne===void 0||ne.attribute!==ie||ie&&ne.data!==ie.data)return!0;X++}return c.attributesNum!==X||c.index!==Z}function _(G,W,J,Z){const H={},$=W.attributes;let X=0;const F=J.getAttributes();for(const j in F)if(F[j].location>=0){let ne=$[j];ne===void 0&&(j==="instanceMatrix"&&G.instanceMatrix&&(ne=G.instanceMatrix),j==="instanceColor"&&G.instanceColor&&(ne=G.instanceColor));const ie={};ie.attribute=ne,ne&&ne.data&&(ie.data=ne.data),H[j]=ie,X++}c.attributes=H,c.attributesNum=X,c.index=Z}function A(){const G=c.newAttributes;for(let W=0,J=G.length;W<J;W++)G[W]=0}function w(G){E(G,0)}function E(G,W){const J=c.newAttributes,Z=c.enabledAttributes,H=c.attributeDivisors;J[G]=1,Z[G]===0&&(n.enableVertexAttribArray(G),Z[G]=1),H[G]!==W&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,W),H[G]=W)}function M(){const G=c.newAttributes,W=c.enabledAttributes;for(let J=0,Z=W.length;J<Z;J++)W[J]!==G[J]&&(n.disableVertexAttribArray(J),W[J]=0)}function C(G,W,J,Z,H,$,X){X===!0?n.vertexAttribIPointer(G,W,J,H,$):n.vertexAttribPointer(G,W,J,Z,H,$)}function P(G,W,J,Z){if(i.isWebGL2===!1&&(G.isInstancedMesh||Z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const H=Z.attributes,$=J.getAttributes(),X=W.defaultAttributeValues;for(const F in $){const j=$[F];if(j.location>=0){let se=H[F];if(se===void 0&&(F==="instanceMatrix"&&G.instanceMatrix&&(se=G.instanceMatrix),F==="instanceColor"&&G.instanceColor&&(se=G.instanceColor)),se!==void 0){const ne=se.normalized,ie=se.itemSize,ce=t.get(se);if(ce===void 0)continue;const le=ce.buffer,ue=ce.type,Fe=ce.bytesPerElement,He=i.isWebGL2===!0&&(ue===n.INT||ue===n.UNSIGNED_INT||se.gpuType===DC);if(se.isInterleavedBufferAttribute){const ge=se.data,V=ge.stride,_e=se.offset;if(ge.isInstancedInterleavedBuffer){for(let de=0;de<j.locationSize;de++)E(j.location+de,ge.meshPerAttribute);G.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let de=0;de<j.locationSize;de++)w(j.location+de);n.bindBuffer(n.ARRAY_BUFFER,le);for(let de=0;de<j.locationSize;de++)C(j.location+de,ie/j.locationSize,ue,ne,V*Fe,(_e+ie/j.locationSize*de)*Fe,He)}else{if(se.isInstancedBufferAttribute){for(let ge=0;ge<j.locationSize;ge++)E(j.location+ge,se.meshPerAttribute);G.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ge=0;ge<j.locationSize;ge++)w(j.location+ge);n.bindBuffer(n.ARRAY_BUFFER,le);for(let ge=0;ge<j.locationSize;ge++)C(j.location+ge,ie/j.locationSize,ue,ne,ie*Fe,ie/j.locationSize*ge*Fe,He)}}else if(X!==void 0){const ne=X[F];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(j.location,ne);break;case 3:n.vertexAttrib3fv(j.location,ne);break;case 4:n.vertexAttrib4fv(j.location,ne);break;default:n.vertexAttrib1fv(j.location,ne)}}}}M()}function T(){N();for(const G in a){const W=a[G];for(const J in W){const Z=W[J];for(const H in Z)g(Z[H].object),delete Z[H];delete W[J]}delete a[G]}}function D(G){if(a[G.id]===void 0)return;const W=a[G.id];for(const J in W){const Z=W[J];for(const H in Z)g(Z[H].object),delete Z[H];delete W[J]}delete a[G.id]}function O(G){for(const W in a){const J=a[W];if(J[G.id]===void 0)continue;const Z=J[G.id];for(const H in Z)g(Z[H].object),delete Z[H];delete J[G.id]}}function N(){z(),u=!0,c!==l&&(c=l,p(c.object))}function z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:N,resetDefaultState:z,dispose:T,releaseStatesOfGeometry:D,releaseStatesOfProgram:O,initAttributes:A,enableAttribute:w,disableUnusedAttributes:M}}function RK(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(r)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function PK(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),A=d>0,w=o||e.has("OES_texture_float"),E=A&&w,M=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:x,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:_,vertexTextures:A,floatFragmentTextures:w,floatVertexTextures:E,maxSamples:M}}function IK(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new oc,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const p=f.length!==0||d||i!==0||r;return r=d,i=f.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){t=u(f,d,0)},this.setState=function(f,d,p){const g=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,v=n.get(f);if(!r||g===null||g.length===0||s&&!y)s?u(null):c();else{const _=s?0:i,A=_*4;let w=v.clippingState||null;l.value=w,w=u(g,d,A,p);for(let E=0;E!==A;++E)w[E]=t[E];v.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,d,p,g){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,g!==!0||y===null){const v=p+x*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<v)&&(y=new Float32Array(v));for(let A=0,w=p;A!==x;++A,w+=4)o.copy(f[A]).applyMatrix4(_,a),o.normal.toArray(y,w),y[w+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function DK(n){let e=new WeakMap;function t(o,a){return a===kg?o.mapping=Nc:a===Bg&&(o.mapping=zc),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===kg||a===Bg)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new dU(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Go extends g0{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const qd=4,sD=[.125,.215,.35,.446,.526,.582],Hu=20,tw=new Go,oD=new Ke;let nw=null;const Fu=(1+Math.sqrt(5))/2,gd=1/Fu,aD=[new Y(1,1,1),new Y(-1,1,1),new Y(1,1,-1),new Y(-1,1,-1),new Y(0,Fu,gd),new Y(0,Fu,-gd),new Y(gd,0,Fu),new Y(-gd,0,Fu),new Y(Fu,gd,0),new Y(-Fu,gd,0)];class cE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){nw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nw),e.scissorTest=!1,xy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Nc||e.mapping===zc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nw=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:bn,minFilter:bn,generateMipmaps:!1,type:Oh,format:qr,colorSpace:Yo,depthBuffer:!1},r=lD(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lD(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=LK(s)),this._blurMaterial=kK(s,e,t)}return r}_compileMaterial(e){const t=new Qn(this._lodPlanes[0],e);this._renderer.compile(t,tw)}_sceneToCubeUV(e,t,i,r){const a=new In(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(oD),u.toneMapping=Ho,u.autoClear=!1;const p=new es({name:"PMREM.Background",side:mr,depthWrite:!1,depthTest:!1}),g=new Qn(new If,p);let x=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,x=!0):(p.color.copy(oD),x=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):_===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const A=this._cubeSize;xy(r,_*A,v>2?A:0,A,A),u.setRenderTarget(r),x&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Nc||e.mapping===zc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=uD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cD());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;xy(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,tw)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=aD[(r-1)%aD.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Qn(this._lodPlanes[r],c),d=c.uniforms,p=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Hu-1),x=s/g,y=isFinite(s)?1+Math.floor(u*x):Hu;y>Hu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Hu}`);const v=[];let _=0;for(let C=0;C<Hu;++C){const P=C/x,T=Math.exp(-P*P/2);v.push(T),C===0?_+=T:C<y&&(_+=2*T)}for(let C=0;C<v.length;C++)v[C]=v[C]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=v,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:A}=this;d.dTheta.value=g,d.mipInt.value=A-i;const w=this._sizeLods[r],E=3*w*(r>A-qd?r-A+qd:0),M=4*(this._cubeSize-w);xy(t,E,M,3*w,2*w),l.setRenderTarget(t),l.render(f,tw)}}function LK(n){const e=[],t=[],i=[];let r=n;const s=n-qd+1+sD.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-qd?l=sD[o-n+qd-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,g=6,x=3,y=2,v=1,_=new Float32Array(x*g*p),A=new Float32Array(y*g*p),w=new Float32Array(v*g*p);for(let M=0;M<p;M++){const C=M%3*2/3-1,P=M>2?0:-1,T=[C,P,0,C+2/3,P,0,C+2/3,P+1,0,C,P,0,C+2/3,P+1,0,C,P+1,0];_.set(T,x*g*M),A.set(d,y*g*M);const D=[M,M,M,M,M,M];w.set(D,v*g*M)}const E=new Rt;E.setAttribute("position",new en(_,x)),E.setAttribute("uv",new en(A,y)),E.setAttribute("faceIndex",new en(w,v)),e.push(E),r>qd&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function lD(n,e,t){const i=new Jo(n,e,t);return i.texture.mapping=dp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function xy(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function kK(n,e,t){const i=new Float32Array(Hu),r=new Y(0,1,0);return new Ia({name:"SphericalGaussianBlur",defines:{n:Hu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:JC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:gl,depthTest:!1,depthWrite:!1})}function cD(){return new Ia({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:JC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:gl,depthTest:!1,depthWrite:!1})}function uD(){return new Ia({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:JC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:gl,depthTest:!1,depthWrite:!1})}function JC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function BK(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===kg||l===Bg,u=l===Nc||l===zc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new cE(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&r(f)){t===null&&(t=new cE(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function OK(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function FK(n,e,t,i){const r={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const x=d.morphAttributes[g];for(let y=0,v=x.length;y<v;y++)e.remove(x[y])}d.removeEventListener("dispose",o),delete r[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return r[d.id]===!0||(d.addEventListener("dispose",o),r[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],n.ARRAY_BUFFER);const p=f.morphAttributes;for(const g in p){const x=p[g];for(let y=0,v=x.length;y<v;y++)e.update(x[y],n.ARRAY_BUFFER)}}function c(f){const d=[],p=f.index,g=f.attributes.position;let x=0;if(p!==null){const _=p.array;x=p.version;for(let A=0,w=_.length;A<w;A+=3){const E=_[A+0],M=_[A+1],C=_[A+2];d.push(E,M,M,C,C,E)}}else{const _=g.array;x=g.version;for(let A=0,w=_.length/3-1;A<w;A+=3){const E=A+0,M=A+1,C=A+2;d.push(E,M,M,C,C,E)}}const y=new(lU(d)?XC:$C)(d,1);y.version=x;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function UK(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,g){if(g===0)return;let x,y;if(r)x=n,y="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[y](s,p,a,d*l,g),t.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function NK(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function zK(n,e){return n[0]-e[0]}function HK(n,e){return Math.abs(e[1])-Math.abs(n[1])}function GK(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Wt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=g!==void 0?g.length:0;let y=s.get(u);if(y===void 0||y.count!==x){let W=function(){z.dispose(),s.delete(u),u.removeEventListener("dispose",W)};var p=W;y!==void 0&&y.texture.dispose();const A=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],P=u.morphAttributes.color||[];let T=0;A===!0&&(T=1),w===!0&&(T=2),E===!0&&(T=3);let D=u.attributes.position.count*T,O=1;D>e.maxTextureSize&&(O=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const N=new Float32Array(D*O*4*x),z=new w_(N,D,O,x);z.type=_a,z.needsUpdate=!0;const G=T*4;for(let J=0;J<x;J++){const Z=M[J],H=C[J],$=P[J],X=D*O*4*J;for(let F=0;F<Z.count;F++){const j=F*G;A===!0&&(o.fromBufferAttribute(Z,F),N[X+j+0]=o.x,N[X+j+1]=o.y,N[X+j+2]=o.z,N[X+j+3]=0),w===!0&&(o.fromBufferAttribute(H,F),N[X+j+4]=o.x,N[X+j+5]=o.y,N[X+j+6]=o.z,N[X+j+7]=0),E===!0&&(o.fromBufferAttribute($,F),N[X+j+8]=o.x,N[X+j+9]=o.y,N[X+j+10]=o.z,N[X+j+11]=$.itemSize===4?o.w:1)}}y={count:x,texture:z,size:new Be(D,O)},s.set(u,y),u.addEventListener("dispose",W)}let v=0;for(let A=0;A<d.length;A++)v+=d[A];const _=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",d),f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=d===void 0?0:d.length;let x=i[u.id];if(x===void 0||x.length!==g){x=[];for(let w=0;w<g;w++)x[w]=[w,0];i[u.id]=x}for(let w=0;w<g;w++){const E=x[w];E[0]=w,E[1]=d[w]}x.sort(HK);for(let w=0;w<8;w++)w<g&&x[w][1]?(a[w][0]=x[w][0],a[w][1]=x[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(zK);const y=u.morphAttributes.position,v=u.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const E=a[w],M=E[0],C=E[1];M!==Number.MAX_SAFE_INTEGER&&C?(y&&u.getAttribute("morphTarget"+w)!==y[M]&&u.setAttribute("morphTarget"+w,y[M]),v&&u.getAttribute("morphNormal"+w)!==v[M]&&u.setAttribute("morphNormal"+w,v[M]),r[w]=C,_+=C):(y&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),v&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const A=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",A),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function VK(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const pU=new Mn,mU=new w_,gU=new jC,vU=new v0,fD=[],dD=[],hD=new Float32Array(16),pD=new Float32Array(9),mD=new Float32Array(4);function mp(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=fD[r];if(s===void 0&&(s=new Float32Array(r),fD[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ci(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ti(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function E_(n,e){let t=dD[e];t===void 0&&(t=new Int32Array(e),dD[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function WK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function jK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2fv(this.addr,e),Ti(t,e)}}function $K(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ci(t,e))return;n.uniform3fv(this.addr,e),Ti(t,e)}}function XK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4fv(this.addr,e),Ti(t,e)}}function YK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ti(t,e)}else{if(Ci(t,i))return;mD.set(i),n.uniformMatrix2fv(this.addr,!1,mD),Ti(t,i)}}function JK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ti(t,e)}else{if(Ci(t,i))return;pD.set(i),n.uniformMatrix3fv(this.addr,!1,pD),Ti(t,i)}}function KK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ti(t,e)}else{if(Ci(t,i))return;hD.set(i),n.uniformMatrix4fv(this.addr,!1,hD),Ti(t,i)}}function qK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function QK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2iv(this.addr,e),Ti(t,e)}}function ZK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3iv(this.addr,e),Ti(t,e)}}function eq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4iv(this.addr,e),Ti(t,e)}}function tq(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function nq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2uiv(this.addr,e),Ti(t,e)}}function iq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3uiv(this.addr,e),Ti(t,e)}}function rq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4uiv(this.addr,e),Ti(t,e)}}function sq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||pU,r)}function oq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||gU,r)}function aq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||vU,r)}function lq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||mU,r)}function cq(n){switch(n){case 5126:return WK;case 35664:return jK;case 35665:return $K;case 35666:return XK;case 35674:return YK;case 35675:return JK;case 35676:return KK;case 5124:case 35670:return qK;case 35667:case 35671:return QK;case 35668:case 35672:return ZK;case 35669:case 35673:return eq;case 5125:return tq;case 36294:return nq;case 36295:return iq;case 36296:return rq;case 35678:case 36198:case 36298:case 36306:case 35682:return sq;case 35679:case 36299:case 36307:return oq;case 35680:case 36300:case 36308:case 36293:return aq;case 36289:case 36303:case 36311:case 36292:return lq}}function uq(n,e){n.uniform1fv(this.addr,e)}function fq(n,e){const t=mp(e,this.size,2);n.uniform2fv(this.addr,t)}function dq(n,e){const t=mp(e,this.size,3);n.uniform3fv(this.addr,t)}function hq(n,e){const t=mp(e,this.size,4);n.uniform4fv(this.addr,t)}function pq(n,e){const t=mp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function mq(n,e){const t=mp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function gq(n,e){const t=mp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function vq(n,e){n.uniform1iv(this.addr,e)}function yq(n,e){n.uniform2iv(this.addr,e)}function xq(n,e){n.uniform3iv(this.addr,e)}function _q(n,e){n.uniform4iv(this.addr,e)}function Aq(n,e){n.uniform1uiv(this.addr,e)}function bq(n,e){n.uniform2uiv(this.addr,e)}function wq(n,e){n.uniform3uiv(this.addr,e)}function Sq(n,e){n.uniform4uiv(this.addr,e)}function Eq(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Ti(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||pU,s[o])}function Mq(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Ti(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||gU,s[o])}function Cq(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Ti(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||vU,s[o])}function Tq(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Ti(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||mU,s[o])}function Rq(n){switch(n){case 5126:return uq;case 35664:return fq;case 35665:return dq;case 35666:return hq;case 35674:return pq;case 35675:return mq;case 35676:return gq;case 5124:case 35670:return vq;case 35667:case 35671:return yq;case 35668:case 35672:return xq;case 35669:case 35673:return _q;case 5125:return Aq;case 36294:return bq;case 36295:return wq;case 36296:return Sq;case 35678:case 36198:case 36298:case 36306:case 35682:return Eq;case 35679:case 36299:case 36307:return Mq;case 35680:case 36300:case 36308:case 36293:return Cq;case 36289:case 36303:case 36311:case 36292:return Tq}}class Pq{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=cq(t.type)}}class Iq{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Rq(t.type)}}class Dq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const iw=/(\w+)(\])?(\[|\.)?/g;function gD(n,e){n.seq.push(e),n.map[e.id]=e}function Lq(n,e,t){const i=n.name,r=i.length;for(iw.lastIndex=0;;){const s=iw.exec(i),o=iw.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){gD(t,c===void 0?new Pq(a,n,e):new Iq(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new Dq(a),gD(t,f)),t=f}}}class M1{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Lq(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function vD(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let kq=0;function Bq(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function Oq(n){switch(n){case Yo:return["Linear","( value )"];case It:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function yD(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Bq(n.getShaderSource(e),o)}else return r}function Fq(n,e){const t=Oq(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Uq(n,e){let t;switch(e){case L9:t="Linear";break;case k9:t="Reinhard";break;case B9:t="OptimizedCineon";break;case IC:t="ACESFilmic";break;case O9:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Nq(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(km).join(`
`)}function zq(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Hq(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function km(n){return n!==""}function xD(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _D(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Gq=/^[ \t]*#include +<([\w\d./]+)>/gm;function uE(n){return n.replace(Gq,Wq)}const Vq=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Wq(n,e){let t=Pt[e];if(t===void 0){const i=Vq.get(e);if(i!==void 0)t=Pt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return uE(t)}const jq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AD(n){return n.replace(jq,$q)}function $q(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function bD(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Xq(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===y_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ko&&(e="SHADOWMAP_TYPE_VSM"),e}function Yq(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Nc:case zc:e="ENVMAP_TYPE_CUBE";break;case dp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Jq(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case zc:e="ENVMAP_MODE_REFRACTION";break}return e}function Kq(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case m0:e="ENVMAP_BLENDING_MULTIPLY";break;case I9:e="ENVMAP_BLENDING_MIX";break;case D9:e="ENVMAP_BLENDING_ADD";break}return e}function qq(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Qq(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Xq(t),c=Yq(t),u=Jq(t),f=Kq(t),d=qq(t),p=t.isWebGL2?"":Nq(t),g=zq(s),x=r.createProgram();let y,v,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(km).join(`
`),y.length>0&&(y+=`
`),v=[p,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(km).join(`
`),v.length>0&&(v+=`
`)):(y=[bD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(km).join(`
`),v=[p,bD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ho?"#define TONE_MAPPING":"",t.toneMapping!==Ho?Pt.tonemapping_pars_fragment:"",t.toneMapping!==Ho?Uq("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Pt.colorspace_pars_fragment,Fq("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(km).join(`
`)),o=uE(o),o=xD(o,t),o=_D(o,t),a=uE(a),a=xD(a,t),a=_D(a,t),o=AD(o),a=AD(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",t.glslVersion===aE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===aE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const A=_+y+o,w=_+v+a,E=vD(r,r.VERTEX_SHADER,A),M=vD(r,r.FRAGMENT_SHADER,w);if(r.attachShader(x,E),r.attachShader(x,M),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x),n.debug.checkShaderErrors){const T=r.getProgramInfoLog(x).trim(),D=r.getShaderInfoLog(E).trim(),O=r.getShaderInfoLog(M).trim();let N=!0,z=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(N=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,E,M);else{const G=yD(r,E,"vertex"),W=yD(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+T+`
`+G+`
`+W)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(D===""||O==="")&&(z=!1);z&&(this.diagnostics={runnable:N,programLog:T,vertexShader:{log:D,prefix:y},fragmentShader:{log:O,prefix:v}})}r.deleteShader(E),r.deleteShader(M);let C;this.getUniforms=function(){return C===void 0&&(C=new M1(r,x)),C};let P;return this.getAttributes=function(){return P===void 0&&(P=Hq(r,x)),P},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=kq++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=E,this.fragmentShader=M,this}let Zq=0;class eQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new tQ(e),t.set(e,i)),i}}class tQ{constructor(e){this.id=Zq++,this.code=e,this.usedTimes=0}}function nQ(n,e,t,i,r,s,o){const a=new nf,l=new eQ,c=[],u=r.isWebGL2,f=r.logarithmicDepthBuffer,d=r.vertexTextures;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(T){return T===0?"uv":`uv${T}`}function y(T,D,O,N,z){const G=N.fog,W=z.geometry,J=T.isMeshStandardMaterial?N.environment:null,Z=(T.isMeshStandardMaterial?t:e).get(T.envMap||J),H=Z&&Z.mapping===dp?Z.image.height:null,$=g[T.type];T.precision!==null&&(p=r.getMaxPrecision(T.precision),p!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",p,"instead."));const X=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,F=X!==void 0?X.length:0;let j=0;W.morphAttributes.position!==void 0&&(j=1),W.morphAttributes.normal!==void 0&&(j=2),W.morphAttributes.color!==void 0&&(j=3);let se,ne,ie,ce;if($){const zt=Fo[$];se=zt.vertexShader,ne=zt.fragmentShader}else se=T.vertexShader,ne=T.fragmentShader,l.update(T),ie=l.getVertexShaderID(T),ce=l.getFragmentShaderID(T);const le=n.getRenderTarget(),ue=z.isInstancedMesh===!0,Fe=!!T.map,He=!!T.matcap,ge=!!Z,V=!!T.aoMap,_e=!!T.lightMap,de=!!T.bumpMap,ye=!!T.normalMap,pe=!!T.displacementMap,Ge=!!T.emissiveMap,ve=!!T.metalnessMap,Pe=!!T.roughnessMap,Le=T.anisotropy>0,Ee=T.clearcoat>0,$e=T.iridescence>0,U=T.sheen>0,B=T.transmission>0,re=Le&&!!T.anisotropyMap,Te=Ee&&!!T.clearcoatMap,Se=Ee&&!!T.clearcoatNormalMap,Re=Ee&&!!T.clearcoatRoughnessMap,ze=$e&&!!T.iridescenceMap,Ne=$e&&!!T.iridescenceThicknessMap,xe=U&&!!T.sheenColorMap,Q=U&&!!T.sheenRoughnessMap,he=!!T.specularMap,Me=!!T.specularColorMap,we=!!T.specularIntensityMap,Oe=B&&!!T.transmissionMap,Ye=B&&!!T.thicknessMap,dt=!!T.gradientMap,ee=!!T.alphaMap,Ue=T.alphaTest>0,me=!!T.alphaHash,We=!!T.extensions,Je=!!W.attributes.uv1,wt=!!W.attributes.uv2,Ft=!!W.attributes.uv3;return{isWebGL2:u,shaderID:$,shaderType:T.type,shaderName:T.name,vertexShader:se,fragmentShader:ne,defines:T.defines,customVertexShaderID:ie,customFragmentShaderID:ce,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:p,instancing:ue,instancingColor:ue&&z.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:le===null?n.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:Yo,map:Fe,matcap:He,envMap:ge,envMapMode:ge&&Z.mapping,envMapCubeUVHeight:H,aoMap:V,lightMap:_e,bumpMap:de,normalMap:ye,displacementMap:d&&pe,emissiveMap:Ge,normalMapObjectSpace:ye&&T.normalMapType===q9,normalMapTangentSpace:ye&&T.normalMapType===Zc,metalnessMap:ve,roughnessMap:Pe,anisotropy:Le,anisotropyMap:re,clearcoat:Ee,clearcoatMap:Te,clearcoatNormalMap:Se,clearcoatRoughnessMap:Re,iridescence:$e,iridescenceMap:ze,iridescenceThicknessMap:Ne,sheen:U,sheenColorMap:xe,sheenRoughnessMap:Q,specularMap:he,specularColorMap:Me,specularIntensityMap:we,transmission:B,transmissionMap:Oe,thicknessMap:Ye,gradientMap:dt,opaque:T.transparent===!1&&T.blending===vl,alphaMap:ee,alphaTest:Ue,alphaHash:me,combine:T.combine,mapUv:Fe&&x(T.map.channel),aoMapUv:V&&x(T.aoMap.channel),lightMapUv:_e&&x(T.lightMap.channel),bumpMapUv:de&&x(T.bumpMap.channel),normalMapUv:ye&&x(T.normalMap.channel),displacementMapUv:pe&&x(T.displacementMap.channel),emissiveMapUv:Ge&&x(T.emissiveMap.channel),metalnessMapUv:ve&&x(T.metalnessMap.channel),roughnessMapUv:Pe&&x(T.roughnessMap.channel),anisotropyMapUv:re&&x(T.anisotropyMap.channel),clearcoatMapUv:Te&&x(T.clearcoatMap.channel),clearcoatNormalMapUv:Se&&x(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&x(T.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&x(T.iridescenceMap.channel),iridescenceThicknessMapUv:Ne&&x(T.iridescenceThicknessMap.channel),sheenColorMapUv:xe&&x(T.sheenColorMap.channel),sheenRoughnessMapUv:Q&&x(T.sheenRoughnessMap.channel),specularMapUv:he&&x(T.specularMap.channel),specularColorMapUv:Me&&x(T.specularColorMap.channel),specularIntensityMapUv:we&&x(T.specularIntensityMap.channel),transmissionMapUv:Oe&&x(T.transmissionMap.channel),thicknessMapUv:Ye&&x(T.thicknessMap.channel),alphaMapUv:ee&&x(T.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(ye||Le),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:wt,vertexUv3s:Ft,pointsUvs:z.isPoints===!0&&!!W.attributes.uv&&(Fe||ee),fog:!!G,useFog:T.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:z.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:j,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Ho,useLegacyLights:n.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Kr,flipSided:T.side===mr,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:We&&T.extensions.derivatives===!0,extensionFragDepth:We&&T.extensions.fragDepth===!0,extensionDrawBuffers:We&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:We&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function v(T){const D=[];if(T.shaderID?D.push(T.shaderID):(D.push(T.customVertexShaderID),D.push(T.customFragmentShaderID)),T.defines!==void 0)for(const O in T.defines)D.push(O),D.push(T.defines[O]);return T.isRawShaderMaterial===!1&&(_(D,T),A(D,T),D.push(n.outputColorSpace)),D.push(T.customProgramCacheKey),D.join()}function _(T,D){T.push(D.precision),T.push(D.outputColorSpace),T.push(D.envMapMode),T.push(D.envMapCubeUVHeight),T.push(D.mapUv),T.push(D.alphaMapUv),T.push(D.lightMapUv),T.push(D.aoMapUv),T.push(D.bumpMapUv),T.push(D.normalMapUv),T.push(D.displacementMapUv),T.push(D.emissiveMapUv),T.push(D.metalnessMapUv),T.push(D.roughnessMapUv),T.push(D.anisotropyMapUv),T.push(D.clearcoatMapUv),T.push(D.clearcoatNormalMapUv),T.push(D.clearcoatRoughnessMapUv),T.push(D.iridescenceMapUv),T.push(D.iridescenceThicknessMapUv),T.push(D.sheenColorMapUv),T.push(D.sheenRoughnessMapUv),T.push(D.specularMapUv),T.push(D.specularColorMapUv),T.push(D.specularIntensityMapUv),T.push(D.transmissionMapUv),T.push(D.thicknessMapUv),T.push(D.combine),T.push(D.fogExp2),T.push(D.sizeAttenuation),T.push(D.morphTargetsCount),T.push(D.morphAttributeCount),T.push(D.numDirLights),T.push(D.numPointLights),T.push(D.numSpotLights),T.push(D.numSpotLightMaps),T.push(D.numHemiLights),T.push(D.numRectAreaLights),T.push(D.numDirLightShadows),T.push(D.numPointLightShadows),T.push(D.numSpotLightShadows),T.push(D.numSpotLightShadowsWithMaps),T.push(D.shadowMapType),T.push(D.toneMapping),T.push(D.numClippingPlanes),T.push(D.numClipIntersection),T.push(D.depthPacking)}function A(T,D){a.disableAll(),D.isWebGL2&&a.enable(0),D.supportsVertexTextures&&a.enable(1),D.instancing&&a.enable(2),D.instancingColor&&a.enable(3),D.matcap&&a.enable(4),D.envMap&&a.enable(5),D.normalMapObjectSpace&&a.enable(6),D.normalMapTangentSpace&&a.enable(7),D.clearcoat&&a.enable(8),D.iridescence&&a.enable(9),D.alphaTest&&a.enable(10),D.vertexColors&&a.enable(11),D.vertexAlphas&&a.enable(12),D.vertexUv1s&&a.enable(13),D.vertexUv2s&&a.enable(14),D.vertexUv3s&&a.enable(15),D.vertexTangents&&a.enable(16),D.anisotropy&&a.enable(17),T.push(a.mask),a.disableAll(),D.fog&&a.enable(0),D.useFog&&a.enable(1),D.flatShading&&a.enable(2),D.logarithmicDepthBuffer&&a.enable(3),D.skinning&&a.enable(4),D.morphTargets&&a.enable(5),D.morphNormals&&a.enable(6),D.morphColors&&a.enable(7),D.premultipliedAlpha&&a.enable(8),D.shadowMapEnabled&&a.enable(9),D.useLegacyLights&&a.enable(10),D.doubleSided&&a.enable(11),D.flipSided&&a.enable(12),D.useDepthPacking&&a.enable(13),D.dithering&&a.enable(14),D.transmission&&a.enable(15),D.sheen&&a.enable(16),D.opaque&&a.enable(17),D.pointsUvs&&a.enable(18),T.push(a.mask)}function w(T){const D=g[T.type];let O;if(D){const N=Fo[D];O=YC.clone(N.uniforms)}else O=T.uniforms;return O}function E(T,D){let O;for(let N=0,z=c.length;N<z;N++){const G=c[N];if(G.cacheKey===D){O=G,++O.usedTimes;break}}return O===void 0&&(O=new Qq(n,D,T,s),c.push(O)),O}function M(T){if(--T.usedTimes===0){const D=c.indexOf(T);c[D]=c[c.length-1],c.pop(),T.destroy()}}function C(T){l.remove(T)}function P(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:w,acquireProgram:E,releaseProgram:M,releaseShaderCache:C,programs:c,dispose:P}}function iQ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function rQ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function wD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function SD(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(f,d,p,g,x,y){let v=n[e];return v===void 0?(v={id:f.id,object:f,geometry:d,material:p,groupOrder:g,renderOrder:f.renderOrder,z:x,group:y},n[e]=v):(v.id=f.id,v.object=f,v.geometry=d,v.material=p,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=x,v.group=y),e++,v}function a(f,d,p,g,x,y){const v=o(f,d,p,g,x,y);p.transmission>0?i.push(v):p.transparent===!0?r.push(v):t.push(v)}function l(f,d,p,g,x,y){const v=o(f,d,p,g,x,y);p.transmission>0?i.unshift(v):p.transparent===!0?r.unshift(v):t.unshift(v)}function c(f,d){t.length>1&&t.sort(f||rQ),i.length>1&&i.sort(d||wD),r.length>1&&r.sort(d||wD)}function u(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function sQ(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new SD,n.set(i,[o])):r>=s.length?(o=new SD,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function oQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Y,color:new Ke};break;case"SpotLight":t={position:new Y,direction:new Y,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Y,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Y,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":t={color:new Ke,position:new Y,halfWidth:new Y,halfHeight:new Y};break}return n[e.id]=t,t}}}function aQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let lQ=0;function cQ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function uQ(n,e){const t=new oQ,i=aQ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new Y);const s=new Y,o=new At,a=new At;function l(u,f){let d=0,p=0,g=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let x=0,y=0,v=0,_=0,A=0,w=0,E=0,M=0,C=0,P=0;u.sort(cQ);const T=f===!0?Math.PI:1;for(let O=0,N=u.length;O<N;O++){const z=u[O],G=z.color,W=z.intensity,J=z.distance,Z=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)d+=G.r*W*T,p+=G.g*W*T,g+=G.b*W*T;else if(z.isLightProbe)for(let H=0;H<9;H++)r.probe[H].addScaledVector(z.sh.coefficients[H],W);else if(z.isDirectionalLight){const H=t.get(z);if(H.color.copy(z.color).multiplyScalar(z.intensity*T),z.castShadow){const $=z.shadow,X=i.get(z);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,r.directionalShadow[x]=X,r.directionalShadowMap[x]=Z,r.directionalShadowMatrix[x]=z.shadow.matrix,w++}r.directional[x]=H,x++}else if(z.isSpotLight){const H=t.get(z);H.position.setFromMatrixPosition(z.matrixWorld),H.color.copy(G).multiplyScalar(W*T),H.distance=J,H.coneCos=Math.cos(z.angle),H.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),H.decay=z.decay,r.spot[v]=H;const $=z.shadow;if(z.map&&(r.spotLightMap[C]=z.map,C++,$.updateMatrices(z),z.castShadow&&P++),r.spotLightMatrix[v]=$.matrix,z.castShadow){const X=i.get(z);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,r.spotShadow[v]=X,r.spotShadowMap[v]=Z,M++}v++}else if(z.isRectAreaLight){const H=t.get(z);H.color.copy(G).multiplyScalar(W),H.halfWidth.set(z.width*.5,0,0),H.halfHeight.set(0,z.height*.5,0),r.rectArea[_]=H,_++}else if(z.isPointLight){const H=t.get(z);if(H.color.copy(z.color).multiplyScalar(z.intensity*T),H.distance=z.distance,H.decay=z.decay,z.castShadow){const $=z.shadow,X=i.get(z);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,X.shadowCameraNear=$.camera.near,X.shadowCameraFar=$.camera.far,r.pointShadow[y]=X,r.pointShadowMap[y]=Z,r.pointShadowMatrix[y]=z.shadow.matrix,E++}r.point[y]=H,y++}else if(z.isHemisphereLight){const H=t.get(z);H.skyColor.copy(z.color).multiplyScalar(W*T),H.groundColor.copy(z.groundColor).multiplyScalar(W*T),r.hemi[A]=H,A++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_FLOAT_1,r.rectAreaLTC2=qe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_HALF_1,r.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=p,r.ambient[2]=g;const D=r.hash;(D.directionalLength!==x||D.pointLength!==y||D.spotLength!==v||D.rectAreaLength!==_||D.hemiLength!==A||D.numDirectionalShadows!==w||D.numPointShadows!==E||D.numSpotShadows!==M||D.numSpotMaps!==C)&&(r.directional.length=x,r.spot.length=v,r.rectArea.length=_,r.point.length=y,r.hemi.length=A,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=M+C-P,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=P,D.directionalLength=x,D.pointLength=y,D.spotLength=v,D.rectAreaLength=_,D.hemiLength=A,D.numDirectionalShadows=w,D.numPointShadows=E,D.numSpotShadows=M,D.numSpotMaps=C,r.version=lQ++)}function c(u,f){let d=0,p=0,g=0,x=0,y=0;const v=f.matrixWorldInverse;for(let _=0,A=u.length;_<A;_++){const w=u[_];if(w.isDirectionalLight){const E=r.directional[d];E.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(v),d++}else if(w.isSpotLight){const E=r.spot[g];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(v),E.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(v),g++}else if(w.isRectAreaLight){const E=r.rectArea[x];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(v),a.identity(),o.copy(w.matrixWorld),o.premultiply(v),a.extractRotation(o),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),x++}else if(w.isPointLight){const E=r.point[p];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(v),p++}else if(w.isHemisphereLight){const E=r.hemi[y];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(v),y++}}}return{setup:l,setupView:c,state:r}}function ED(n,e){const t=new uQ(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(f){t.setup(i,f)}function c(f){t.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function fQ(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new ED(n,e),t.set(s,[l])):o>=a.length?(l=new ED(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class M_ extends gi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=K9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C_ extends gi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pQ(n,e,t){let i=new S_;const r=new Be,s=new Be,o=new Wt,a=new M_({depthPacking:HC}),l=new C_,c={},u=t.maxTextureSize,f={[Xo]:mr,[mr]:Xo,[Kr]:Kr},d=new Ia({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Be},radius:{value:4}},vertexShader:dQ,fragmentShader:hQ}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new Rt;g.setAttribute("position",new en(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Qn(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=y_;let v=this.type;this.render=function(E,M,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const P=n.getRenderTarget(),T=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),O=n.state;O.setBlending(gl),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const N=v!==ko&&this.type===ko,z=v===ko&&this.type!==ko;for(let G=0,W=E.length;G<W;G++){const J=E[G],Z=J.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;r.copy(Z.mapSize);const H=Z.getFrameExtents();if(r.multiply(H),s.copy(Z.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/H.x),r.x=s.x*H.x,Z.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/H.y),r.y=s.y*H.y,Z.mapSize.y=s.y)),Z.map===null||N===!0||z===!0){const X=this.type!==ko?{minFilter:Kn,magFilter:Kn}:{};Z.map!==null&&Z.map.dispose(),Z.map=new Jo(r.x,r.y,X),Z.map.texture.name=J.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const $=Z.getViewportCount();for(let X=0;X<$;X++){const F=Z.getViewport(X);o.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),O.viewport(o),Z.updateMatrices(J,X),i=Z.getFrustum(),w(M,C,Z.camera,J,this.type)}Z.isPointLightShadow!==!0&&this.type===ko&&_(Z,C),Z.needsUpdate=!1}v=this.type,y.needsUpdate=!1,n.setRenderTarget(P,T,D)};function _(E,M){const C=e.update(x);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Jo(r.x,r.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(M,null,C,d,x,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(M,null,C,p,x,null)}function A(E,M,C,P){let T=null;const D=C.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(D!==void 0)T=D;else if(T=C.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const O=T.uuid,N=M.uuid;let z=c[O];z===void 0&&(z={},c[O]=z);let G=z[N];G===void 0&&(G=T.clone(),z[N]=G),T=G}if(T.visible=M.visible,T.wireframe=M.wireframe,P===ko?T.side=M.shadowSide!==null?M.shadowSide:M.side:T.side=M.shadowSide!==null?M.shadowSide:f[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,C.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const O=n.properties.get(T);O.light=C}return T}function w(E,M,C,P,T){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&T===ko)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,E.matrixWorld);const N=e.update(E),z=E.material;if(Array.isArray(z)){const G=N.groups;for(let W=0,J=G.length;W<J;W++){const Z=G[W],H=z[Z.materialIndex];if(H&&H.visible){const $=A(E,H,P,T);n.renderBufferDirect(C,null,N,$,E,Z)}}}else if(z.visible){const G=A(E,z,P,T);n.renderBufferDirect(C,null,N,G,E,null)}}const O=E.children;for(let N=0,z=O.length;N<z;N++)w(O[N],M,C,P,T)}}function mQ(n,e,t){const i=t.isWebGL2;function r(){let ee=!1;const Ue=new Wt;let me=null;const We=new Wt(0,0,0,0);return{setMask:function(Je){me!==Je&&!ee&&(n.colorMask(Je,Je,Je,Je),me=Je)},setLocked:function(Je){ee=Je},setClear:function(Je,wt,Ft,$t,zt){zt===!0&&(Je*=$t,wt*=$t,Ft*=$t),Ue.set(Je,wt,Ft,$t),We.equals(Ue)===!1&&(n.clearColor(Je,wt,Ft,$t),We.copy(Ue))},reset:function(){ee=!1,me=null,We.set(-1,0,0,0)}}}function s(){let ee=!1,Ue=null,me=null,We=null;return{setTest:function(Je){Je?le(n.DEPTH_TEST):ue(n.DEPTH_TEST)},setMask:function(Je){Ue!==Je&&!ee&&(n.depthMask(Je),Ue=Je)},setFunc:function(Je){if(me!==Je){switch(Je){case S9:n.depthFunc(n.NEVER);break;case E9:n.depthFunc(n.ALWAYS);break;case M9:n.depthFunc(n.LESS);break;case dx:n.depthFunc(n.LEQUAL);break;case C9:n.depthFunc(n.EQUAL);break;case T9:n.depthFunc(n.GEQUAL);break;case R9:n.depthFunc(n.GREATER);break;case P9:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}me=Je}},setLocked:function(Je){ee=Je},setClear:function(Je){We!==Je&&(n.clearDepth(Je),We=Je)},reset:function(){ee=!1,Ue=null,me=null,We=null}}}function o(){let ee=!1,Ue=null,me=null,We=null,Je=null,wt=null,Ft=null,$t=null,zt=null;return{setTest:function(tn){ee||(tn?le(n.STENCIL_TEST):ue(n.STENCIL_TEST))},setMask:function(tn){Ue!==tn&&!ee&&(n.stencilMask(tn),Ue=tn)},setFunc:function(tn,Gt,kt){(me!==tn||We!==Gt||Je!==kt)&&(n.stencilFunc(tn,Gt,kt),me=tn,We=Gt,Je=kt)},setOp:function(tn,Gt,kt){(wt!==tn||Ft!==Gt||$t!==kt)&&(n.stencilOp(tn,Gt,kt),wt=tn,Ft=Gt,$t=kt)},setLocked:function(tn){ee=tn},setClear:function(tn){zt!==tn&&(n.clearStencil(tn),zt=tn)},reset:function(){ee=!1,Ue=null,me=null,We=null,Je=null,wt=null,Ft=null,$t=null,zt=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},p={},g=new WeakMap,x=[],y=null,v=!1,_=null,A=null,w=null,E=null,M=null,C=null,P=null,T=!1,D=null,O=null,N=null,z=null,G=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,Z=0;const H=n.getParameter(n.VERSION);H.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(H)[1]),J=Z>=1):H.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),J=Z>=2);let $=null,X={};const F=n.getParameter(n.SCISSOR_BOX),j=n.getParameter(n.VIEWPORT),se=new Wt().fromArray(F),ne=new Wt().fromArray(j);function ie(ee,Ue,me,We){const Je=new Uint8Array(4),wt=n.createTexture();n.bindTexture(ee,wt),n.texParameteri(ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ft=0;Ft<me;Ft++)i&&(ee===n.TEXTURE_3D||ee===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ue,0,n.RGBA,1,1,We,0,n.RGBA,n.UNSIGNED_BYTE,Je):n.texImage2D(Ue+Ft,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Je);return wt}const ce={};ce[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),ce[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ce[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ce[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),le(n.DEPTH_TEST),l.setFunc(dx),pe(!1),Ge(D2),le(n.CULL_FACE),de(gl);function le(ee){d[ee]!==!0&&(n.enable(ee),d[ee]=!0)}function ue(ee){d[ee]!==!1&&(n.disable(ee),d[ee]=!1)}function Fe(ee,Ue){return p[ee]!==Ue?(n.bindFramebuffer(ee,Ue),p[ee]=Ue,i&&(ee===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=Ue),ee===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=Ue)),!0):!1}function He(ee,Ue){let me=x,We=!1;if(ee)if(me=g.get(Ue),me===void 0&&(me=[],g.set(Ue,me)),ee.isWebGLMultipleRenderTargets){const Je=ee.texture;if(me.length!==Je.length||me[0]!==n.COLOR_ATTACHMENT0){for(let wt=0,Ft=Je.length;wt<Ft;wt++)me[wt]=n.COLOR_ATTACHMENT0+wt;me.length=Je.length,We=!0}}else me[0]!==n.COLOR_ATTACHMENT0&&(me[0]=n.COLOR_ATTACHMENT0,We=!0);else me[0]!==n.BACK&&(me[0]=n.BACK,We=!0);We&&(t.isWebGL2?n.drawBuffers(me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(me))}function ge(ee){return y!==ee?(n.useProgram(ee),y=ee,!0):!1}const V={[zu]:n.FUNC_ADD,[h9]:n.FUNC_SUBTRACT,[p9]:n.FUNC_REVERSE_SUBTRACT};if(i)V[O2]=n.MIN,V[F2]=n.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(V[O2]=ee.MIN_EXT,V[F2]=ee.MAX_EXT)}const _e={[m9]:n.ZERO,[g9]:n.ONE,[v9]:n.SRC_COLOR,[RC]:n.SRC_ALPHA,[w9]:n.SRC_ALPHA_SATURATE,[A9]:n.DST_COLOR,[x9]:n.DST_ALPHA,[y9]:n.ONE_MINUS_SRC_COLOR,[PC]:n.ONE_MINUS_SRC_ALPHA,[b9]:n.ONE_MINUS_DST_COLOR,[_9]:n.ONE_MINUS_DST_ALPHA};function de(ee,Ue,me,We,Je,wt,Ft,$t){if(ee===gl){v===!0&&(ue(n.BLEND),v=!1);return}if(v===!1&&(le(n.BLEND),v=!0),ee!==d9){if(ee!==_||$t!==T){if((A!==zu||M!==zu)&&(n.blendEquation(n.FUNC_ADD),A=zu,M=zu),$t)switch(ee){case vl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case L2:n.blendFunc(n.ONE,n.ONE);break;case k2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case B2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case vl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case L2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case k2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case B2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}w=null,E=null,C=null,P=null,_=ee,T=$t}return}Je=Je||Ue,wt=wt||me,Ft=Ft||We,(Ue!==A||Je!==M)&&(n.blendEquationSeparate(V[Ue],V[Je]),A=Ue,M=Je),(me!==w||We!==E||wt!==C||Ft!==P)&&(n.blendFuncSeparate(_e[me],_e[We],_e[wt],_e[Ft]),w=me,E=We,C=wt,P=Ft),_=ee,T=!1}function ye(ee,Ue){ee.side===Kr?ue(n.CULL_FACE):le(n.CULL_FACE);let me=ee.side===mr;Ue&&(me=!me),pe(me),ee.blending===vl&&ee.transparent===!1?de(gl):de(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const We=ee.stencilWrite;c.setTest(We),We&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),Pe(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?le(n.SAMPLE_ALPHA_TO_COVERAGE):ue(n.SAMPLE_ALPHA_TO_COVERAGE)}function pe(ee){D!==ee&&(ee?n.frontFace(n.CW):n.frontFace(n.CCW),D=ee)}function Ge(ee){ee!==c9?(le(n.CULL_FACE),ee!==O&&(ee===D2?n.cullFace(n.BACK):ee===u9?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ue(n.CULL_FACE),O=ee}function ve(ee){ee!==N&&(J&&n.lineWidth(ee),N=ee)}function Pe(ee,Ue,me){ee?(le(n.POLYGON_OFFSET_FILL),(z!==Ue||G!==me)&&(n.polygonOffset(Ue,me),z=Ue,G=me)):ue(n.POLYGON_OFFSET_FILL)}function Le(ee){ee?le(n.SCISSOR_TEST):ue(n.SCISSOR_TEST)}function Ee(ee){ee===void 0&&(ee=n.TEXTURE0+W-1),$!==ee&&(n.activeTexture(ee),$=ee)}function $e(ee,Ue,me){me===void 0&&($===null?me=n.TEXTURE0+W-1:me=$);let We=X[me];We===void 0&&(We={type:void 0,texture:void 0},X[me]=We),(We.type!==ee||We.texture!==Ue)&&($!==me&&(n.activeTexture(me),$=me),n.bindTexture(ee,Ue||ce[ee]),We.type=ee,We.texture=Ue)}function U(){const ee=X[$];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function B(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function re(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ze(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ne(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function xe(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Q(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function he(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Me(ee){se.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),se.copy(ee))}function we(ee){ne.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),ne.copy(ee))}function Oe(ee,Ue){let me=f.get(Ue);me===void 0&&(me=new WeakMap,f.set(Ue,me));let We=me.get(ee);We===void 0&&(We=n.getUniformBlockIndex(Ue,ee.name),me.set(ee,We))}function Ye(ee,Ue){const We=f.get(Ue).get(ee);u.get(Ue)!==We&&(n.uniformBlockBinding(Ue,We,ee.__bindingPointIndex),u.set(Ue,We))}function dt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},$=null,X={},p={},g=new WeakMap,x=[],y=null,v=!1,_=null,A=null,w=null,E=null,M=null,C=null,P=null,T=!1,D=null,O=null,N=null,z=null,G=null,se.set(0,0,n.canvas.width,n.canvas.height),ne.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:le,disable:ue,bindFramebuffer:Fe,drawBuffers:He,useProgram:ge,setBlending:de,setMaterial:ye,setFlipSided:pe,setCullFace:Ge,setLineWidth:ve,setPolygonOffset:Pe,setScissorTest:Le,activeTexture:Ee,bindTexture:$e,unbindTexture:U,compressedTexImage2D:B,compressedTexImage3D:re,texImage2D:Q,texImage3D:he,updateUBOMapping:Oe,uniformBlockBinding:Ye,texStorage2D:Ne,texStorage3D:xe,texSubImage2D:Te,texSubImage3D:Se,compressedTexSubImage2D:Re,compressedTexSubImage3D:ze,scissor:Me,viewport:we,reset:dt}}function gQ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let x;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(U,B){return v?new OffscreenCanvas(U,B):zg("canvas")}function A(U,B,re,Te){let Se=1;if((U.width>Te||U.height>Te)&&(Se=Te/Math.max(U.width,U.height)),Se<1||B===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Re=B?mx:Math.floor,ze=Re(Se*U.width),Ne=Re(Se*U.height);x===void 0&&(x=_(ze,Ne));const xe=re?_(ze,Ne):x;return xe.width=ze,xe.height=Ne,xe.getContext("2d").drawImage(U,0,0,ze,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+ze+"x"+Ne+")."),xe}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function w(U){return lE(U.width)&&lE(U.height)}function E(U){return a?!1:U.wrapS!==Yi||U.wrapT!==Yi||U.minFilter!==Kn&&U.minFilter!==bn}function M(U,B){return U.generateMipmaps&&B&&U.minFilter!==Kn&&U.minFilter!==bn}function C(U){n.generateMipmap(U)}function P(U,B,re,Te,Se=!1){if(a===!1)return B;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Re=B;return B===n.RED&&(re===n.FLOAT&&(Re=n.R32F),re===n.HALF_FLOAT&&(Re=n.R16F),re===n.UNSIGNED_BYTE&&(Re=n.R8)),B===n.RG&&(re===n.FLOAT&&(Re=n.RG32F),re===n.HALF_FLOAT&&(Re=n.RG16F),re===n.UNSIGNED_BYTE&&(Re=n.RG8)),B===n.RGBA&&(re===n.FLOAT&&(Re=n.RGBA32F),re===n.HALF_FLOAT&&(Re=n.RGBA16F),re===n.UNSIGNED_BYTE&&(Re=Te===It&&Se===!1?n.SRGB8_ALPHA8:n.RGBA8),re===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),re===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)),(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function T(U,B,re){return M(U,re)===!0||U.isFramebufferTexture&&U.minFilter!==Kn&&U.minFilter!==bn?Math.log2(Math.max(B.width,B.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?B.mipmaps.length:1}function D(U){return U===Kn||U===Og||U===ph?n.NEAREST:n.LINEAR}function O(U){const B=U.target;B.removeEventListener("dispose",O),z(B),B.isVideoTexture&&g.delete(B)}function N(U){const B=U.target;B.removeEventListener("dispose",N),W(B)}function z(U){const B=i.get(U);if(B.__webglInit===void 0)return;const re=U.source,Te=y.get(re);if(Te){const Se=Te[B.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&G(U),Object.keys(Te).length===0&&y.delete(re)}i.remove(U)}function G(U){const B=i.get(U);n.deleteTexture(B.__webglTexture);const re=U.source,Te=y.get(re);delete Te[B.__cacheKey],o.memory.textures--}function W(U){const B=U.texture,re=i.get(U),Te=i.get(B);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)n.deleteFramebuffer(re.__webglFramebuffer[Se]),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[Se]);else{if(n.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let Se=0;Se<re.__webglColorRenderbuffer.length;Se++)re.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(re.__webglColorRenderbuffer[Se]);re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Se=0,Re=B.length;Se<Re;Se++){const ze=i.get(B[Se]);ze.__webglTexture&&(n.deleteTexture(ze.__webglTexture),o.memory.textures--),i.remove(B[Se])}i.remove(B),i.remove(U)}let J=0;function Z(){J=0}function H(){const U=J;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),J+=1,U}function $(U){const B=[];return B.push(U.wrapS),B.push(U.wrapT),B.push(U.wrapR||0),B.push(U.magFilter),B.push(U.minFilter),B.push(U.anisotropy),B.push(U.internalFormat),B.push(U.format),B.push(U.type),B.push(U.generateMipmaps),B.push(U.premultiplyAlpha),B.push(U.flipY),B.push(U.unpackAlignment),B.push(U.colorSpace),B.join()}function X(U,B){const re=i.get(U);if(U.isVideoTexture&&Ee(U),U.isRenderTargetTexture===!1&&U.version>0&&re.__version!==U.version){const Te=U.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Fe(re,U,B);return}}t.bindTexture(n.TEXTURE_2D,re.__webglTexture,n.TEXTURE0+B)}function F(U,B){const re=i.get(U);if(U.version>0&&re.__version!==U.version){Fe(re,U,B);return}t.bindTexture(n.TEXTURE_2D_ARRAY,re.__webglTexture,n.TEXTURE0+B)}function j(U,B){const re=i.get(U);if(U.version>0&&re.__version!==U.version){Fe(re,U,B);return}t.bindTexture(n.TEXTURE_3D,re.__webglTexture,n.TEXTURE0+B)}function se(U,B){const re=i.get(U);if(U.version>0&&re.__version!==U.version){He(re,U,B);return}t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+B)}const ne={[Hc]:n.REPEAT,[Yi]:n.CLAMP_TO_EDGE,[Bh]:n.MIRRORED_REPEAT},ie={[Kn]:n.NEAREST,[Og]:n.NEAREST_MIPMAP_NEAREST,[ph]:n.NEAREST_MIPMAP_LINEAR,[bn]:n.LINEAR,[__]:n.LINEAR_MIPMAP_NEAREST,[Pa]:n.LINEAR_MIPMAP_LINEAR},ce={[Z9]:n.NEVER,[oU]:n.ALWAYS,[eU]:n.LESS,[nU]:n.LEQUAL,[tU]:n.EQUAL,[sU]:n.GEQUAL,[iU]:n.GREATER,[rU]:n.NOTEQUAL};function le(U,B,re){if(re?(n.texParameteri(U,n.TEXTURE_WRAP_S,ne[B.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,ne[B.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,ne[B.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,ie[B.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,ie[B.minFilter])):(n.texParameteri(U,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(U,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(B.wrapS!==Yi||B.wrapT!==Yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,n.TEXTURE_MAG_FILTER,D(B.magFilter)),n.texParameteri(U,n.TEXTURE_MIN_FILTER,D(B.minFilter)),B.minFilter!==Kn&&B.minFilter!==bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),B.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,ce[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===Kn||B.minFilter!==ph&&B.minFilter!==Pa||B.type===_a&&e.has("OES_texture_float_linear")===!1||a===!1&&B.type===Oh&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||i.get(B).__currentAnisotropy)&&(n.texParameterf(U,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,r.getMaxAnisotropy())),i.get(B).__currentAnisotropy=B.anisotropy)}}function ue(U,B){let re=!1;U.__webglInit===void 0&&(U.__webglInit=!0,B.addEventListener("dispose",O));const Te=B.source;let Se=y.get(Te);Se===void 0&&(Se={},y.set(Te,Se));const Re=$(B);if(Re!==U.__cacheKey){Se[Re]===void 0&&(Se[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),Se[Re].usedTimes++;const ze=Se[U.__cacheKey];ze!==void 0&&(Se[U.__cacheKey].usedTimes--,ze.usedTimes===0&&G(B)),U.__cacheKey=Re,U.__webglTexture=Se[Re].texture}return re}function Fe(U,B,re){let Te=n.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Te=n.TEXTURE_2D_ARRAY),B.isData3DTexture&&(Te=n.TEXTURE_3D);const Se=ue(U,B),Re=B.source;t.bindTexture(Te,U.__webglTexture,n.TEXTURE0+re);const ze=i.get(Re);if(Re.version!==ze.__version||Se===!0){t.activeTexture(n.TEXTURE0+re),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ne=E(B)&&w(B.image)===!1;let xe=A(B.image,Ne,!1,u);xe=$e(B,xe);const Q=w(xe)||a,he=s.convert(B.format,B.colorSpace);let Me=s.convert(B.type),we=P(B.internalFormat,he,Me,B.colorSpace);le(Te,B,Q);let Oe;const Ye=B.mipmaps,dt=a&&B.isVideoTexture!==!0,ee=ze.__version===void 0||Se===!0,Ue=T(B,xe,Q);if(B.isDepthTexture)we=n.DEPTH_COMPONENT,a?B.type===_a?we=n.DEPTH_COMPONENT32F:B.type===hl?we=n.DEPTH_COMPONENT24:B.type===Cc?we=n.DEPTH24_STENCIL8:we=n.DEPTH_COMPONENT16:B.type===_a&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===Tc&&we===n.DEPTH_COMPONENT&&B.type!==A_&&B.type!==hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=hl,Me=s.convert(B.type)),B.format===xf&&we===n.DEPTH_COMPONENT&&(we=n.DEPTH_STENCIL,B.type!==Cc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=Cc,Me=s.convert(B.type))),ee&&(dt?t.texStorage2D(n.TEXTURE_2D,1,we,xe.width,xe.height):t.texImage2D(n.TEXTURE_2D,0,we,xe.width,xe.height,0,he,Me,null));else if(B.isDataTexture)if(Ye.length>0&&Q){dt&&ee&&t.texStorage2D(n.TEXTURE_2D,Ue,we,Ye[0].width,Ye[0].height);for(let me=0,We=Ye.length;me<We;me++)Oe=Ye[me],dt?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Oe.width,Oe.height,he,Me,Oe.data):t.texImage2D(n.TEXTURE_2D,me,we,Oe.width,Oe.height,0,he,Me,Oe.data);B.generateMipmaps=!1}else dt?(ee&&t.texStorage2D(n.TEXTURE_2D,Ue,we,xe.width,xe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,xe.width,xe.height,he,Me,xe.data)):t.texImage2D(n.TEXTURE_2D,0,we,xe.width,xe.height,0,he,Me,xe.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){dt&&ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,we,Ye[0].width,Ye[0].height,xe.depth);for(let me=0,We=Ye.length;me<We;me++)Oe=Ye[me],B.format!==qr?he!==null?dt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Oe.width,Oe.height,xe.depth,he,Oe.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,me,we,Oe.width,Oe.height,xe.depth,0,Oe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Oe.width,Oe.height,xe.depth,he,Me,Oe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,me,we,Oe.width,Oe.height,xe.depth,0,he,Me,Oe.data)}else{dt&&ee&&t.texStorage2D(n.TEXTURE_2D,Ue,we,Ye[0].width,Ye[0].height);for(let me=0,We=Ye.length;me<We;me++)Oe=Ye[me],B.format!==qr?he!==null?dt?t.compressedTexSubImage2D(n.TEXTURE_2D,me,0,0,Oe.width,Oe.height,he,Oe.data):t.compressedTexImage2D(n.TEXTURE_2D,me,we,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Oe.width,Oe.height,he,Me,Oe.data):t.texImage2D(n.TEXTURE_2D,me,we,Oe.width,Oe.height,0,he,Me,Oe.data)}else if(B.isDataArrayTexture)dt?(ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,we,xe.width,xe.height,xe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,xe.width,xe.height,xe.depth,he,Me,xe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,we,xe.width,xe.height,xe.depth,0,he,Me,xe.data);else if(B.isData3DTexture)dt?(ee&&t.texStorage3D(n.TEXTURE_3D,Ue,we,xe.width,xe.height,xe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,xe.width,xe.height,xe.depth,he,Me,xe.data)):t.texImage3D(n.TEXTURE_3D,0,we,xe.width,xe.height,xe.depth,0,he,Me,xe.data);else if(B.isFramebufferTexture){if(ee)if(dt)t.texStorage2D(n.TEXTURE_2D,Ue,we,xe.width,xe.height);else{let me=xe.width,We=xe.height;for(let Je=0;Je<Ue;Je++)t.texImage2D(n.TEXTURE_2D,Je,we,me,We,0,he,Me,null),me>>=1,We>>=1}}else if(Ye.length>0&&Q){dt&&ee&&t.texStorage2D(n.TEXTURE_2D,Ue,we,Ye[0].width,Ye[0].height);for(let me=0,We=Ye.length;me<We;me++)Oe=Ye[me],dt?t.texSubImage2D(n.TEXTURE_2D,me,0,0,he,Me,Oe):t.texImage2D(n.TEXTURE_2D,me,we,he,Me,Oe);B.generateMipmaps=!1}else dt?(ee&&t.texStorage2D(n.TEXTURE_2D,Ue,we,xe.width,xe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,he,Me,xe)):t.texImage2D(n.TEXTURE_2D,0,we,he,Me,xe);M(B,Q)&&C(Te),ze.__version=Re.version,B.onUpdate&&B.onUpdate(B)}U.__version=B.version}function He(U,B,re){if(B.image.length!==6)return;const Te=ue(U,B),Se=B.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+re);const Re=i.get(Se);if(Se.version!==Re.__version||Te===!0){t.activeTexture(n.TEXTURE0+re),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ze=B.isCompressedTexture||B.image[0].isCompressedTexture,Ne=B.image[0]&&B.image[0].isDataTexture,xe=[];for(let me=0;me<6;me++)!ze&&!Ne?xe[me]=A(B.image[me],!1,!0,c):xe[me]=Ne?B.image[me].image:B.image[me],xe[me]=$e(B,xe[me]);const Q=xe[0],he=w(Q)||a,Me=s.convert(B.format,B.colorSpace),we=s.convert(B.type),Oe=P(B.internalFormat,Me,we,B.colorSpace),Ye=a&&B.isVideoTexture!==!0,dt=Re.__version===void 0||Te===!0;let ee=T(B,Q,he);le(n.TEXTURE_CUBE_MAP,B,he);let Ue;if(ze){Ye&&dt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,Oe,Q.width,Q.height);for(let me=0;me<6;me++){Ue=xe[me].mipmaps;for(let We=0;We<Ue.length;We++){const Je=Ue[We];B.format!==qr?Me!==null?Ye?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We,0,0,Je.width,Je.height,Me,Je.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We,Oe,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We,0,0,Je.width,Je.height,Me,we,Je.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We,Oe,Je.width,Je.height,0,Me,we,Je.data)}}}else{Ue=B.mipmaps,Ye&&dt&&(Ue.length>0&&ee++,t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,Oe,xe[0].width,xe[0].height));for(let me=0;me<6;me++)if(Ne){Ye?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,xe[me].width,xe[me].height,Me,we,xe[me].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,Oe,xe[me].width,xe[me].height,0,Me,we,xe[me].data);for(let We=0;We<Ue.length;We++){const wt=Ue[We].image[me].image;Ye?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We+1,0,0,wt.width,wt.height,Me,we,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We+1,Oe,wt.width,wt.height,0,Me,we,wt.data)}}else{Ye?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,Me,we,xe[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,Oe,Me,we,xe[me]);for(let We=0;We<Ue.length;We++){const Je=Ue[We];Ye?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We+1,0,0,Me,we,Je.image[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,We+1,Oe,Me,we,Je.image[me])}}}M(B,he)&&C(n.TEXTURE_CUBE_MAP),Re.__version=Se.version,B.onUpdate&&B.onUpdate(B)}U.__version=B.version}function ge(U,B,re,Te,Se){const Re=s.convert(re.format,re.colorSpace),ze=s.convert(re.type),Ne=P(re.internalFormat,Re,ze,re.colorSpace);i.get(B).__hasExternalTextures||(Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,0,Ne,B.width,B.height,B.depth,0,Re,ze,null):t.texImage2D(Se,0,Ne,B.width,B.height,0,Re,ze,null)),t.bindFramebuffer(n.FRAMEBUFFER,U),Le(B)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Te,Se,i.get(re).__webglTexture,0,Pe(B)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Te,Se,i.get(re).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function V(U,B,re){if(n.bindRenderbuffer(n.RENDERBUFFER,U),B.depthBuffer&&!B.stencilBuffer){let Te=n.DEPTH_COMPONENT16;if(re||Le(B)){const Se=B.depthTexture;Se&&Se.isDepthTexture&&(Se.type===_a?Te=n.DEPTH_COMPONENT32F:Se.type===hl&&(Te=n.DEPTH_COMPONENT24));const Re=Pe(B);Le(B)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,Te,B.width,B.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,Te,B.width,B.height)}else n.renderbufferStorage(n.RENDERBUFFER,Te,B.width,B.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,U)}else if(B.depthBuffer&&B.stencilBuffer){const Te=Pe(B);re&&Le(B)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,B.width,B.height):Le(B)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,U)}else{const Te=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Se=0;Se<Te.length;Se++){const Re=Te[Se],ze=s.convert(Re.format,Re.colorSpace),Ne=s.convert(Re.type),xe=P(Re.internalFormat,ze,Ne,Re.colorSpace),Q=Pe(B);re&&Le(B)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Q,xe,B.width,B.height):Le(B)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Q,xe,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,xe,B.width,B.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function _e(U,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),X(B.depthTexture,0);const Te=i.get(B.depthTexture).__webglTexture,Se=Pe(B);if(B.depthTexture.format===Tc)Le(B)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0);else if(B.depthTexture.format===xf)Le(B)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function de(U){const B=i.get(U),re=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!B.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");_e(B.__webglFramebuffer,U)}else if(re){B.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer[Te]),B.__webglDepthbuffer[Te]=n.createRenderbuffer(),V(B.__webglDepthbuffer[Te],U,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer=n.createRenderbuffer(),V(B.__webglDepthbuffer,U,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function ye(U,B,re){const Te=i.get(U);B!==void 0&&ge(Te.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),re!==void 0&&de(U)}function pe(U){const B=U.texture,re=i.get(U),Te=i.get(B);U.addEventListener("dispose",N),U.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=B.version,o.memory.textures++);const Se=U.isWebGLCubeRenderTarget===!0,Re=U.isWebGLMultipleRenderTargets===!0,ze=w(U)||a;if(Se){re.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)re.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(re.__webglFramebuffer=n.createFramebuffer(),Re)if(r.drawBuffers){const Ne=U.texture;for(let xe=0,Q=Ne.length;xe<Q;xe++){const he=i.get(Ne[xe]);he.__webglTexture===void 0&&(he.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&Le(U)===!1){const Ne=Re?B:[B];re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let xe=0;xe<Ne.length;xe++){const Q=Ne[xe];re.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,re.__webglColorRenderbuffer[xe]);const he=s.convert(Q.format,Q.colorSpace),Me=s.convert(Q.type),we=P(Q.internalFormat,he,Me,Q.colorSpace,U.isXRRenderTarget===!0),Oe=Pe(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,Oe,we,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+xe,n.RENDERBUFFER,re.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),V(re.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,Te.__webglTexture),le(n.TEXTURE_CUBE_MAP,B,ze);for(let Ne=0;Ne<6;Ne++)ge(re.__webglFramebuffer[Ne],U,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne);M(B,ze)&&C(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Re){const Ne=U.texture;for(let xe=0,Q=Ne.length;xe<Q;xe++){const he=Ne[xe],Me=i.get(he);t.bindTexture(n.TEXTURE_2D,Me.__webglTexture),le(n.TEXTURE_2D,he,ze),ge(re.__webglFramebuffer,U,he,n.COLOR_ATTACHMENT0+xe,n.TEXTURE_2D),M(he,ze)&&C(n.TEXTURE_2D)}t.unbindTexture()}else{let Ne=n.TEXTURE_2D;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Ne=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ne,Te.__webglTexture),le(Ne,B,ze),ge(re.__webglFramebuffer,U,B,n.COLOR_ATTACHMENT0,Ne),M(B,ze)&&C(Ne),t.unbindTexture()}U.depthBuffer&&de(U)}function Ge(U){const B=w(U)||a,re=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Te=0,Se=re.length;Te<Se;Te++){const Re=re[Te];if(M(Re,B)){const ze=U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ne=i.get(Re).__webglTexture;t.bindTexture(ze,Ne),C(ze),t.unbindTexture()}}}function ve(U){if(a&&U.samples>0&&Le(U)===!1){const B=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],re=U.width,Te=U.height;let Se=n.COLOR_BUFFER_BIT;const Re=[],ze=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=i.get(U),xe=U.isWebGLMultipleRenderTargets===!0;if(xe)for(let Q=0;Q<B.length;Q++)t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let Q=0;Q<B.length;Q++){Re.push(n.COLOR_ATTACHMENT0+Q),U.depthBuffer&&Re.push(ze);const he=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(he===!1&&(U.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),xe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Q]),he===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[ze]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ze])),xe){const Me=i.get(B[Q]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,re,Te,0,0,re,Te,Se,n.NEAREST),p&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Re)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),xe)for(let Q=0;Q<B.length;Q++){t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Q]);const he=i.get(B[Q]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.TEXTURE_2D,he,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function Pe(U){return Math.min(f,U.samples)}function Le(U){const B=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function Ee(U){const B=o.render.frame;g.get(U)!==B&&(g.set(U,B),U.update())}function $e(U,B){const re=U.colorSpace,Te=U.format,Se=U.type;return U.isCompressedTexture===!0||U.format===px||re!==Yo&&re!==Pc&&(re===It?a===!1?e.has("EXT_sRGB")===!0&&Te===qr?(U.format=px,U.minFilter=bn,U.generateMipmaps=!1):B=WC.sRGBToLinear(B):(Te!==qr||Se!==Ea)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),B}this.allocateTextureUnit=H,this.resetTextureUnits=Z,this.setTexture2D=X,this.setTexture2DArray=F,this.setTexture3D=j,this.setTextureCube=se,this.rebindTextures=ye,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=Le}function yU(n,e,t){const i=t.isWebGL2;function r(s,o=Pc){let a;if(s===Ea)return n.UNSIGNED_BYTE;if(s===LC)return n.UNSIGNED_SHORT_4_4_4_4;if(s===kC)return n.UNSIGNED_SHORT_5_5_5_1;if(s===F9)return n.BYTE;if(s===U9)return n.SHORT;if(s===A_)return n.UNSIGNED_SHORT;if(s===DC)return n.INT;if(s===hl)return n.UNSIGNED_INT;if(s===_a)return n.FLOAT;if(s===Oh)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===N9)return n.ALPHA;if(s===qr)return n.RGBA;if(s===z9)return n.LUMINANCE;if(s===H9)return n.LUMINANCE_ALPHA;if(s===Tc)return n.DEPTH_COMPONENT;if(s===xf)return n.DEPTH_STENCIL;if(s===px)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===G9)return n.RED;if(s===BC)return n.RED_INTEGER;if(s===V9)return n.RG;if(s===OC)return n.RG_INTEGER;if(s===FC)return n.RGBA_INTEGER;if(s===y1||s===x1||s===_1||s===A1)if(o===It)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===y1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===x1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===_1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===A1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===y1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===x1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===_1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===A1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===U2||s===N2||s===z2||s===H2)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===U2)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===N2)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===z2)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===H2)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===W9)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===G2||s===V2)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===G2)return o===It?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===V2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===W2||s===j2||s===$2||s===X2||s===Y2||s===J2||s===K2||s===q2||s===Q2||s===Z2||s===eE||s===tE||s===nE||s===iE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===W2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===j2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===$2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===X2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Y2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===J2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===K2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===q2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Q2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Z2)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===eE)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===tE)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===nE)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===iE)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===b1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===b1)return o===It?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===j9||s===rE||s===sE||s===oE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===b1)return a.COMPRESSED_RED_RGTC1_EXT;if(s===rE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===sE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===oE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Cc?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class xU extends In{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class pl extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vQ={type:"move"};class rw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Y,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Y),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Y,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Y),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=t.getJointPose(x,i),v=this._getHandJoint(c,x);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vQ)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new pl;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class _U extends Mn{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Tc,u!==Tc&&u!==xf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Tc&&(i=hl),i===void 0&&u===xf&&(i=Cc),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Kn,this.minFilter=l!==void 0?l:Kn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class yQ extends Oa{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,d=null,p=null,g=null;const x=t.getContextAttributes();let y=null,v=null;const _=[],A=[],w=new In;w.layers.enable(1),w.viewport=new Wt;const E=new In;E.layers.enable(2),E.viewport=new Wt;const M=[w,E],C=new xU;C.layers.enable(1),C.layers.enable(2);let P=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let j=_[F];return j===void 0&&(j=new rw,_[F]=j),j.getTargetRaySpace()},this.getControllerGrip=function(F){let j=_[F];return j===void 0&&(j=new rw,_[F]=j),j.getGripSpace()},this.getHand=function(F){let j=_[F];return j===void 0&&(j=new rw,_[F]=j),j.getHandSpace()};function D(F){const j=A.indexOf(F.inputSource);if(j===-1)return;const se=_[j];se!==void 0&&(se.update(F.inputSource,F.frame,c||o),se.dispatchEvent({type:F.type,data:F.inputSource}))}function O(){r.removeEventListener("select",D),r.removeEventListener("selectstart",D),r.removeEventListener("selectend",D),r.removeEventListener("squeeze",D),r.removeEventListener("squeezestart",D),r.removeEventListener("squeezeend",D),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",N);for(let F=0;F<_.length;F++){const j=A[F];j!==null&&(A[F]=null,_[F].disconnect(j))}P=null,T=null,e.setRenderTarget(y),p=null,d=null,f=null,r=null,v=null,X.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(F){c=F},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(F){if(r=F,r!==null){if(y=e.getRenderTarget(),r.addEventListener("select",D),r.addEventListener("selectstart",D),r.addEventListener("selectend",D),r.addEventListener("squeeze",D),r.addEventListener("squeezestart",D),r.addEventListener("squeezeend",D),r.addEventListener("end",O),r.addEventListener("inputsourceschange",N),x.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:r.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(r,t,j),r.updateRenderState({baseLayer:p}),v=new Jo(p.framebufferWidth,p.framebufferHeight,{format:qr,type:Ea,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let j=null,se=null,ne=null;x.depth&&(ne=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,j=x.stencil?xf:Tc,se=x.stencil?Cc:hl);const ie={colorFormat:t.RGBA8,depthFormat:ne,scaleFactor:s};f=new XRWebGLBinding(r,t),d=f.createProjectionLayer(ie),r.updateRenderState({layers:[d]}),v=new Jo(d.textureWidth,d.textureHeight,{format:qr,type:Ea,depthTexture:new _U(d.textureWidth,d.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ce=e.properties.get(v);ce.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),X.setContext(r),X.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function N(F){for(let j=0;j<F.removed.length;j++){const se=F.removed[j],ne=A.indexOf(se);ne>=0&&(A[ne]=null,_[ne].disconnect(se))}for(let j=0;j<F.added.length;j++){const se=F.added[j];let ne=A.indexOf(se);if(ne===-1){for(let ce=0;ce<_.length;ce++)if(ce>=A.length){A.push(se),ne=ce;break}else if(A[ce]===null){A[ce]=se,ne=ce;break}if(ne===-1)break}const ie=_[ne];ie&&ie.connect(se)}}const z=new Y,G=new Y;function W(F,j,se){z.setFromMatrixPosition(j.matrixWorld),G.setFromMatrixPosition(se.matrixWorld);const ne=z.distanceTo(G),ie=j.projectionMatrix.elements,ce=se.projectionMatrix.elements,le=ie[14]/(ie[10]-1),ue=ie[14]/(ie[10]+1),Fe=(ie[9]+1)/ie[5],He=(ie[9]-1)/ie[5],ge=(ie[8]-1)/ie[0],V=(ce[8]+1)/ce[0],_e=le*ge,de=le*V,ye=ne/(-ge+V),pe=ye*-ge;j.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(pe),F.translateZ(ye),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Ge=le+ye,ve=ue+ye,Pe=_e-pe,Le=de+(ne-pe),Ee=Fe*ue/ve*Ge,$e=He*ue/ve*Ge;F.projectionMatrix.makePerspective(Pe,Le,Ee,$e,Ge,ve),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}function J(F,j){j===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(j.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(r===null)return;C.near=E.near=w.near=F.near,C.far=E.far=w.far=F.far,(P!==C.near||T!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),P=C.near,T=C.far);const j=F.parent,se=C.cameras;J(C,j);for(let ne=0;ne<se.length;ne++)J(se[ne],j);se.length===2?W(C,w,E):C.projectionMatrix.copy(w.projectionMatrix),Z(F,C,j)};function Z(F,j,se){se===null?F.matrix.copy(j.matrixWorld):(F.matrix.copy(se.matrixWorld),F.matrix.invert(),F.matrix.multiply(j.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0);const ne=F.children;for(let ie=0,ce=ne.length;ie<ce;ie++)ne[ie].updateMatrixWorld(!0);F.projectionMatrix.copy(j.projectionMatrix),F.projectionMatrixInverse.copy(j.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=Uh*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(F){l=F,d!==null&&(d.fixedFoveation=F),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=F)};let H=null;function $(F,j){if(u=j.getViewerPose(c||o),g=j,u!==null){const se=u.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let ne=!1;se.length!==C.cameras.length&&(C.cameras.length=0,ne=!0);for(let ie=0;ie<se.length;ie++){const ce=se[ie];let le=null;if(p!==null)le=p.getViewport(ce);else{const Fe=f.getViewSubImage(d,ce);le=Fe.viewport,ie===0&&(e.setRenderTargetTextures(v,Fe.colorTexture,d.ignoreDepthValues?void 0:Fe.depthStencilTexture),e.setRenderTarget(v))}let ue=M[ie];ue===void 0&&(ue=new In,ue.layers.enable(ie),ue.viewport=new Wt,M[ie]=ue),ue.matrix.fromArray(ce.transform.matrix),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.projectionMatrix.fromArray(ce.projectionMatrix),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert(),ue.viewport.set(le.x,le.y,le.width,le.height),ie===0&&(C.matrix.copy(ue.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),ne===!0&&C.cameras.push(ue)}}for(let se=0;se<_.length;se++){const ne=A[se],ie=_[se];ne!==null&&ie!==void 0&&ie.update(ne,j,c||o)}H&&H(F,j),j.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:j}),g=null}const X=new hU;X.setAnimationLoop($),this.setAnimationLoop=function(F){H=F},this.dispose=function(){}}}function xQ(n,e){function t(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function i(y,v){v.color.getRGB(y.fogColor.value,uU(n)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function r(y,v,_,A,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),u(y,v)):v.isMeshStandardMaterial?(s(y,v),d(y,v),v.isMeshPhysicalMaterial&&p(y,v,w)):v.isMeshMatcapMaterial?(s(y,v),g(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),x(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,_,A):v.isSpriteMaterial?c(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,t(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,t(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,t(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===mr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,t(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===mr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,t(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,t(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const _=e.get(v).envMap;if(_&&(y.envMap.value=_,y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const A=n.useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*A,t(v.lightMap,y.lightMapTransform)}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,t(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,_,A){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*_,y.scale.value=A*.5,v.map&&(y.map.value=v.map,t(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,t(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,t(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,t(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function d(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,y.roughnessMapTransform)),e.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,_){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===mr&&y.clearcoatNormalScale.value.negate())),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function x(y,v){const _=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function _Q(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,A){const w=A.program;i.uniformBlockBinding(_,w)}function c(_,A){let w=r[_.id];w===void 0&&(g(_),w=u(_),r[_.id]=w,_.addEventListener("dispose",y));const E=A.program;i.updateUBOMapping(_,E);const M=e.render.frame;s[_.id]!==M&&(d(_),s[_.id]=M)}function u(_){const A=f();_.__bindingPointIndex=A;const w=n.createBuffer(),E=_.__size,M=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,E,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,w),w}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const A=r[_.id],w=_.uniforms,E=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let M=0,C=w.length;M<C;M++){const P=w[M];if(p(P,M,E)===!0){const T=P.__offset,D=Array.isArray(P.value)?P.value:[P.value];let O=0;for(let N=0;N<D.length;N++){const z=D[N],G=x(z);typeof z=="number"?(P.__data[0]=z,n.bufferSubData(n.UNIFORM_BUFFER,T+O,P.__data)):z.isMatrix3?(P.__data[0]=z.elements[0],P.__data[1]=z.elements[1],P.__data[2]=z.elements[2],P.__data[3]=z.elements[0],P.__data[4]=z.elements[3],P.__data[5]=z.elements[4],P.__data[6]=z.elements[5],P.__data[7]=z.elements[0],P.__data[8]=z.elements[6],P.__data[9]=z.elements[7],P.__data[10]=z.elements[8],P.__data[11]=z.elements[0]):(z.toArray(P.__data,O),O+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,P.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(_,A,w){const E=_.value;if(w[A]===void 0){if(typeof E=="number")w[A]=E;else{const M=Array.isArray(E)?E:[E],C=[];for(let P=0;P<M.length;P++)C.push(M[P].clone());w[A]=C}return!0}else if(typeof E=="number"){if(w[A]!==E)return w[A]=E,!0}else{const M=Array.isArray(w[A])?w[A]:[w[A]],C=Array.isArray(E)?E:[E];for(let P=0;P<M.length;P++){const T=M[P];if(T.equals(C[P])===!1)return T.copy(C[P]),!0}}return!1}function g(_){const A=_.uniforms;let w=0;const E=16;let M=0;for(let C=0,P=A.length;C<P;C++){const T=A[C],D={boundary:0,storage:0},O=Array.isArray(T.value)?T.value:[T.value];for(let N=0,z=O.length;N<z;N++){const G=O[N],W=x(G);D.boundary+=W.boundary,D.storage+=W.storage}if(T.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=w,C>0){M=w%E;const N=E-M;M!==0&&N-D.boundary<0&&(w+=E-M,T.__offset=w)}w+=D.storage}return M=w%E,M>0&&(w+=E-M),_.__size=w,_.__cache={},this}function x(_){const A={boundary:0,storage:0};return typeof _=="number"?(A.boundary=4,A.storage=4):_.isVector2?(A.boundary=8,A.storage=8):_.isVector3||_.isColor?(A.boundary=16,A.storage=12):_.isVector4?(A.boundary=16,A.storage=16):_.isMatrix3?(A.boundary=48,A.storage=48):_.isMatrix4?(A.boundary=64,A.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),A}function y(_){const A=_.target;A.removeEventListener("dispose",y);const w=o.indexOf(A.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function v(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}function AQ(){const n=zg("canvas");return n.style.display="block",n}class KC{constructor(e={}){const{canvas:t=AQ(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;i!==null?d=i.getContextAttributes().alpha:d=o;const p=new Uint32Array(4),g=new Int32Array(4);let x=null,y=null;const v=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=It,this.useLegacyLights=!0,this.toneMapping=Ho,this.toneMappingExposure=1;const A=this;let w=!1,E=0,M=0,C=null,P=-1,T=null;const D=new Wt,O=new Wt;let N=null;const z=new Ke(0);let G=0,W=t.width,J=t.height,Z=1,H=null,$=null;const X=new Wt(0,0,W,J),F=new Wt(0,0,W,J);let j=!1;const se=new S_;let ne=!1,ie=!1,ce=null;const le=new At,ue=new Be,Fe=new Y,He={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ge(){return C===null?Z:1}let V=i;function _e(K,Ae){for(let De=0;De<K.length;De++){const fe=K[De],ke=t.getContext(fe,Ae);if(ke!==null)return ke}return null}try{const K={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${p0}`),t.addEventListener("webglcontextlost",Ue,!1),t.addEventListener("webglcontextrestored",me,!1),t.addEventListener("webglcontextcreationerror",We,!1),V===null){const Ae=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&Ae.shift(),V=_e(Ae,K),V===null)throw _e(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let de,ye,pe,Ge,ve,Pe,Le,Ee,$e,U,B,re,Te,Se,Re,ze,Ne,xe,Q,he,Me,we,Oe,Ye;function dt(){de=new OK(V),ye=new PK(V,de,e),de.init(ye),we=new yU(V,de,ye),pe=new mQ(V,de,ye),Ge=new NK(V),ve=new iQ,Pe=new gQ(V,de,pe,ve,ye,we,Ge),Le=new DK(A),Ee=new BK(A),$e=new JX(V,ye),Oe=new TK(V,de,$e,ye),U=new FK(V,$e,Ge,Oe),B=new VK(V,U,$e,Ge),Q=new GK(V,ye,Pe),ze=new IK(ve),re=new nQ(A,Le,Ee,de,ye,Oe,ze),Te=new xQ(A,ve),Se=new sQ,Re=new fQ(de,ye),xe=new CK(A,Le,Ee,pe,B,d,l),Ne=new pQ(A,B,ye),Ye=new _Q(V,Ge,ye,pe),he=new RK(V,de,Ge,ye),Me=new UK(V,de,Ge,ye),Ge.programs=re.programs,A.capabilities=ye,A.extensions=de,A.properties=ve,A.renderLists=Se,A.shadowMap=Ne,A.state=pe,A.info=Ge}dt();const ee=new yQ(A,V);this.xr=ee,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const K=de.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=de.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(K){K!==void 0&&(Z=K,this.setSize(W,J,!1))},this.getSize=function(K){return K.set(W,J)},this.setSize=function(K,Ae,De=!0){if(ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=K,J=Ae,t.width=Math.floor(K*Z),t.height=Math.floor(Ae*Z),De===!0&&(t.style.width=K+"px",t.style.height=Ae+"px"),this.setViewport(0,0,K,Ae)},this.getDrawingBufferSize=function(K){return K.set(W*Z,J*Z).floor()},this.setDrawingBufferSize=function(K,Ae,De){W=K,J=Ae,Z=De,t.width=Math.floor(K*De),t.height=Math.floor(Ae*De),this.setViewport(0,0,K,Ae)},this.getCurrentViewport=function(K){return K.copy(D)},this.getViewport=function(K){return K.copy(X)},this.setViewport=function(K,Ae,De,fe){K.isVector4?X.set(K.x,K.y,K.z,K.w):X.set(K,Ae,De,fe),pe.viewport(D.copy(X).multiplyScalar(Z).floor())},this.getScissor=function(K){return K.copy(F)},this.setScissor=function(K,Ae,De,fe){K.isVector4?F.set(K.x,K.y,K.z,K.w):F.set(K,Ae,De,fe),pe.scissor(O.copy(F).multiplyScalar(Z).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(K){pe.setScissorTest(j=K)},this.setOpaqueSort=function(K){H=K},this.setTransparentSort=function(K){$=K},this.getClearColor=function(K){return K.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(K=!0,Ae=!0,De=!0){let fe=0;if(K){let ke=!1;if(C!==null){const tt=C.texture.format;ke=tt===FC||tt===OC||tt===BC}if(ke){const tt=C.texture.type,ht=tt===Ea||tt===hl||tt===A_||tt===Cc||tt===LC||tt===kC,pt=xe.getClearColor(),yt=xe.getClearAlpha(),St=pt.r,Ve=pt.g,mt=pt.b;ht?(p[0]=St,p[1]=Ve,p[2]=mt,p[3]=yt,V.clearBufferuiv(V.COLOR,0,p)):(g[0]=St,g[1]=Ve,g[2]=mt,g[3]=yt,V.clearBufferiv(V.COLOR,0,g))}else fe|=V.COLOR_BUFFER_BIT}Ae&&(fe|=V.DEPTH_BUFFER_BIT),De&&(fe|=V.STENCIL_BUFFER_BIT),V.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ue,!1),t.removeEventListener("webglcontextrestored",me,!1),t.removeEventListener("webglcontextcreationerror",We,!1),Se.dispose(),Re.dispose(),ve.dispose(),Le.dispose(),Ee.dispose(),B.dispose(),Oe.dispose(),Ye.dispose(),re.dispose(),ee.dispose(),ee.removeEventListener("sessionstart",tn),ee.removeEventListener("sessionend",Gt),ce&&(ce.dispose(),ce=null),kt.stop()};function Ue(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const K=Ge.autoReset,Ae=Ne.enabled,De=Ne.autoUpdate,fe=Ne.needsUpdate,ke=Ne.type;dt(),Ge.autoReset=K,Ne.enabled=Ae,Ne.autoUpdate=De,Ne.needsUpdate=fe,Ne.type=ke}function We(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function Je(K){const Ae=K.target;Ae.removeEventListener("dispose",Je),wt(Ae)}function wt(K){Ft(K),ve.remove(K)}function Ft(K){const Ae=ve.get(K).programs;Ae!==void 0&&(Ae.forEach(function(De){re.releaseProgram(De)}),K.isShaderMaterial&&re.releaseShaderCache(K))}this.renderBufferDirect=function(K,Ae,De,fe,ke,tt){Ae===null&&(Ae=He);const ht=ke.isMesh&&ke.matrixWorld.determinant()<0,pt=vi(K,Ae,De,fe,ke);pe.setMaterial(fe,ht);let yt=De.index,St=1;fe.wireframe===!0&&(yt=U.getWireframeAttribute(De),St=2);const Ve=De.drawRange,mt=De.attributes.position;let on=Ve.start*St,nn=(Ve.start+Ve.count)*St;tt!==null&&(on=Math.max(on,tt.start*St),nn=Math.min(nn,(tt.start+tt.count)*St)),yt!==null?(on=Math.max(on,0),nn=Math.min(nn,yt.count)):mt!=null&&(on=Math.max(on,0),nn=Math.min(nn,mt.count));const Qi=nn-on;if(Qi<0||Qi===1/0)return;Oe.setup(ke,fe,pt,De,yt);let Gi,Kt=he;if(yt!==null&&(Gi=$e.get(yt),Kt=Me,Kt.setIndex(Gi)),ke.isMesh)fe.wireframe===!0?(pe.setLineWidth(fe.wireframeLinewidth*ge()),Kt.setMode(V.LINES)):Kt.setMode(V.TRIANGLES);else if(ke.isLine){let bt=fe.linewidth;bt===void 0&&(bt=1),pe.setLineWidth(bt*ge()),ke.isLineSegments?Kt.setMode(V.LINES):ke.isLineLoop?Kt.setMode(V.LINE_LOOP):Kt.setMode(V.LINE_STRIP)}else ke.isPoints?Kt.setMode(V.POINTS):ke.isSprite&&Kt.setMode(V.TRIANGLES);if(ke.isInstancedMesh)Kt.renderInstances(on,Qi,ke.count);else if(De.isInstancedBufferGeometry){const bt=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,qt=Math.min(De.instanceCount,bt);Kt.renderInstances(on,Qi,qt)}else Kt.render(on,Qi)},this.compile=function(K,Ae){function De(fe,ke,tt){fe.transparent===!0&&fe.side===Kr&&fe.forceSinglePass===!1?(fe.side=mr,fe.needsUpdate=!0,cn(fe,ke,tt),fe.side=Xo,fe.needsUpdate=!0,cn(fe,ke,tt),fe.side=Kr):cn(fe,ke,tt)}y=Re.get(K),y.init(),_.push(y),K.traverseVisible(function(fe){fe.isLight&&fe.layers.test(Ae.layers)&&(y.pushLight(fe),fe.castShadow&&y.pushShadow(fe))}),y.setupLights(A.useLegacyLights),K.traverse(function(fe){const ke=fe.material;if(ke)if(Array.isArray(ke))for(let tt=0;tt<ke.length;tt++){const ht=ke[tt];De(ht,K,fe)}else De(ke,K,fe)}),_.pop(),y=null};let $t=null;function zt(K){$t&&$t(K)}function tn(){kt.stop()}function Gt(){kt.start()}const kt=new hU;kt.setAnimationLoop(zt),typeof self<"u"&&kt.setContext(self),this.setAnimationLoop=function(K){$t=K,ee.setAnimationLoop(K),K===null?kt.stop():kt.start()},ee.addEventListener("sessionstart",tn),ee.addEventListener("sessionend",Gt),this.render=function(K,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),ee.enabled===!0&&ee.isPresenting===!0&&(ee.cameraAutoUpdate===!0&&ee.updateCamera(Ae),Ae=ee.getCamera()),K.isScene===!0&&K.onBeforeRender(A,K,Ae,C),y=Re.get(K,_.length),y.init(),_.push(y),le.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),se.setFromProjectionMatrix(le),ie=this.localClippingEnabled,ne=ze.init(this.clippingPlanes,ie),x=Se.get(K,v.length),x.init(),v.push(x),qi(K,Ae,0,A.sortObjects),x.finish(),A.sortObjects===!0&&x.sort(H,$),this.info.render.frame++,ne===!0&&ze.beginShadows();const De=y.state.shadowsArray;if(Ne.render(De,K,Ae),ne===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),xe.render(x,K),y.setupLights(A.useLegacyLights),Ae.isArrayCamera){const fe=Ae.cameras;for(let ke=0,tt=fe.length;ke<tt;ke++){const ht=fe[ke];Pi(x,K,ht,ht.viewport)}}else Pi(x,K,Ae);C!==null&&(Pe.updateMultisampleRenderTarget(C),Pe.updateRenderTargetMipmap(C)),K.isScene===!0&&K.onAfterRender(A,K,Ae),Oe.resetDefaultState(),P=-1,T=null,_.pop(),_.length>0?y=_[_.length-1]:y=null,v.pop(),v.length>0?x=v[v.length-1]:x=null};function qi(K,Ae,De,fe){if(K.visible===!1)return;if(K.layers.test(Ae.layers)){if(K.isGroup)De=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(Ae);else if(K.isLight)y.pushLight(K),K.castShadow&&y.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||se.intersectsSprite(K)){fe&&Fe.setFromMatrixPosition(K.matrixWorld).applyMatrix4(le);const ht=B.update(K),pt=K.material;pt.visible&&x.push(K,ht,pt,De,Fe.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||se.intersectsObject(K))){const ht=B.update(K),pt=K.material;if(fe&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),Fe.copy(K.boundingSphere.center)):(ht.boundingSphere===null&&ht.computeBoundingSphere(),Fe.copy(ht.boundingSphere.center)),Fe.applyMatrix4(K.matrixWorld).applyMatrix4(le)),Array.isArray(pt)){const yt=ht.groups;for(let St=0,Ve=yt.length;St<Ve;St++){const mt=yt[St],on=pt[mt.materialIndex];on&&on.visible&&x.push(K,ht,on,De,Fe.z,mt)}}else pt.visible&&x.push(K,ht,pt,De,Fe.z,null)}}const tt=K.children;for(let ht=0,pt=tt.length;ht<pt;ht++)qi(tt[ht],Ae,De,fe)}function Pi(K,Ae,De,fe){const ke=K.opaque,tt=K.transmissive,ht=K.transparent;y.setupLightsView(De),ne===!0&&ze.setGlobalState(A.clippingPlanes,De),tt.length>0&&Jt(ke,tt,Ae,De),fe&&pe.viewport(D.copy(fe)),ke.length>0&&pn(ke,Ae,De),tt.length>0&&pn(tt,Ae,De),ht.length>0&&pn(ht,Ae,De),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Jt(K,Ae,De,fe){const ke=ye.isWebGL2;ce===null&&(ce=new Jo(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?Oh:Ea,minFilter:Pa,samples:ke?4:0})),A.getDrawingBufferSize(ue),ke?ce.setSize(ue.x,ue.y):ce.setSize(mx(ue.x),mx(ue.y));const tt=A.getRenderTarget();A.setRenderTarget(ce),A.getClearColor(z),G=A.getClearAlpha(),G<1&&A.setClearColor(16777215,.5),A.clear();const ht=A.toneMapping;A.toneMapping=Ho,pn(K,De,fe),Pe.updateMultisampleRenderTarget(ce),Pe.updateRenderTargetMipmap(ce);let pt=!1;for(let yt=0,St=Ae.length;yt<St;yt++){const Ve=Ae[yt],mt=Ve.object,on=Ve.geometry,nn=Ve.material,Qi=Ve.group;if(nn.side===Kr&&mt.layers.test(fe.layers)){const Gi=nn.side;nn.side=mr,nn.needsUpdate=!0,Hi(mt,De,fe,on,nn,Qi),nn.side=Gi,nn.needsUpdate=!0,pt=!0}}pt===!0&&(Pe.updateMultisampleRenderTarget(ce),Pe.updateRenderTargetMipmap(ce)),A.setRenderTarget(tt),A.setClearColor(z,G),A.toneMapping=ht}function pn(K,Ae,De){const fe=Ae.isScene===!0?Ae.overrideMaterial:null;for(let ke=0,tt=K.length;ke<tt;ke++){const ht=K[ke],pt=ht.object,yt=ht.geometry,St=fe===null?ht.material:fe,Ve=ht.group;pt.layers.test(De.layers)&&Hi(pt,Ae,De,yt,St,Ve)}}function Hi(K,Ae,De,fe,ke,tt){K.onBeforeRender(A,Ae,De,fe,ke,tt),K.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),ke.onBeforeRender(A,Ae,De,fe,K,tt),ke.transparent===!0&&ke.side===Kr&&ke.forceSinglePass===!1?(ke.side=mr,ke.needsUpdate=!0,A.renderBufferDirect(De,Ae,fe,ke,K,tt),ke.side=Xo,ke.needsUpdate=!0,A.renderBufferDirect(De,Ae,fe,ke,K,tt),ke.side=Kr):A.renderBufferDirect(De,Ae,fe,ke,K,tt),K.onAfterRender(A,Ae,De,fe,ke,tt)}function cn(K,Ae,De){Ae.isScene!==!0&&(Ae=He);const fe=ve.get(K),ke=y.state.lights,tt=y.state.shadowsArray,ht=ke.state.version,pt=re.getParameters(K,ke.state,tt,Ae,De),yt=re.getProgramCacheKey(pt);let St=fe.programs;fe.environment=K.isMeshStandardMaterial?Ae.environment:null,fe.fog=Ae.fog,fe.envMap=(K.isMeshStandardMaterial?Ee:Le).get(K.envMap||fe.environment),St===void 0&&(K.addEventListener("dispose",Je),St=new Map,fe.programs=St);let Ve=St.get(yt);if(Ve!==void 0){if(fe.currentProgram===Ve&&fe.lightsStateVersion===ht)return Dn(K,pt),Ve}else pt.uniforms=re.getUniforms(K),K.onBuild(De,pt,A),K.onBeforeCompile(pt,A),Ve=re.acquireProgram(pt,yt),St.set(yt,Ve),fe.uniforms=pt.uniforms;const mt=fe.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(mt.clippingPlanes=ze.uniform),Dn(K,pt),fe.needsLights=Mr(K),fe.lightsStateVersion=ht,fe.needsLights&&(mt.ambientLightColor.value=ke.state.ambient,mt.lightProbe.value=ke.state.probe,mt.directionalLights.value=ke.state.directional,mt.directionalLightShadows.value=ke.state.directionalShadow,mt.spotLights.value=ke.state.spot,mt.spotLightShadows.value=ke.state.spotShadow,mt.rectAreaLights.value=ke.state.rectArea,mt.ltc_1.value=ke.state.rectAreaLTC1,mt.ltc_2.value=ke.state.rectAreaLTC2,mt.pointLights.value=ke.state.point,mt.pointLightShadows.value=ke.state.pointShadow,mt.hemisphereLights.value=ke.state.hemi,mt.directionalShadowMap.value=ke.state.directionalShadowMap,mt.directionalShadowMatrix.value=ke.state.directionalShadowMatrix,mt.spotShadowMap.value=ke.state.spotShadowMap,mt.spotLightMatrix.value=ke.state.spotLightMatrix,mt.spotLightMap.value=ke.state.spotLightMap,mt.pointShadowMap.value=ke.state.pointShadowMap,mt.pointShadowMatrix.value=ke.state.pointShadowMatrix);const on=Ve.getUniforms(),nn=M1.seqWithValue(on.seq,mt);return fe.currentProgram=Ve,fe.uniformsList=nn,Ve}function Dn(K,Ae){const De=ve.get(K);De.outputColorSpace=Ae.outputColorSpace,De.instancing=Ae.instancing,De.skinning=Ae.skinning,De.morphTargets=Ae.morphTargets,De.morphNormals=Ae.morphNormals,De.morphColors=Ae.morphColors,De.morphTargetsCount=Ae.morphTargetsCount,De.numClippingPlanes=Ae.numClippingPlanes,De.numIntersection=Ae.numClipIntersection,De.vertexAlphas=Ae.vertexAlphas,De.vertexTangents=Ae.vertexTangents,De.toneMapping=Ae.toneMapping}function vi(K,Ae,De,fe,ke){Ae.isScene!==!0&&(Ae=He),Pe.resetTextureUnits();const tt=Ae.fog,ht=fe.isMeshStandardMaterial?Ae.environment:null,pt=C===null?A.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Yo,yt=(fe.isMeshStandardMaterial?Ee:Le).get(fe.envMap||ht),St=fe.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,Ve=!!De.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),mt=!!De.morphAttributes.position,on=!!De.morphAttributes.normal,nn=!!De.morphAttributes.color,Qi=fe.toneMapped?A.toneMapping:Ho,Gi=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,Kt=Gi!==void 0?Gi.length:0,bt=ve.get(fe),qt=y.state.lights;if(ne===!0&&(ie===!0||K!==T)){const ci=K===T&&fe.id===P;ze.setState(fe,K,ci)}let xt=!1;fe.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==qt.state.version||bt.outputColorSpace!==pt||ke.isInstancedMesh&&bt.instancing===!1||!ke.isInstancedMesh&&bt.instancing===!0||ke.isSkinnedMesh&&bt.skinning===!1||!ke.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==yt||fe.fog===!0&&bt.fog!==tt||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==ze.numPlanes||bt.numIntersection!==ze.numIntersection)||bt.vertexAlphas!==St||bt.vertexTangents!==Ve||bt.morphTargets!==mt||bt.morphNormals!==on||bt.morphColors!==nn||bt.toneMapping!==Qi||ye.isWebGL2===!0&&bt.morphTargetsCount!==Kt)&&(xt=!0):(xt=!0,bt.__version=fe.version);let yi=bt.currentProgram;xt===!0&&(yi=cn(fe,Ae,ke));let Ln=!1,kn=!1,Vi=!1;const mn=yi.getUniforms(),rn=bt.uniforms;if(pe.useProgram(yi.program)&&(Ln=!0,kn=!0,Vi=!0),fe.id!==P&&(P=fe.id,kn=!0),Ln||T!==K){if(mn.setValue(V,"projectionMatrix",K.projectionMatrix),ye.logarithmicDepthBuffer&&mn.setValue(V,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),T!==K&&(T=K,kn=!0,Vi=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const ci=mn.map.cameraPosition;ci!==void 0&&ci.setValue(V,Fe.setFromMatrixPosition(K.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&mn.setValue(V,"isOrthographic",K.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||ke.isSkinnedMesh)&&mn.setValue(V,"viewMatrix",K.matrixWorldInverse)}if(ke.isSkinnedMesh){mn.setOptional(V,ke,"bindMatrix"),mn.setOptional(V,ke,"bindMatrixInverse");const ci=ke.skeleton;ci&&(ye.floatVertexTextures?(ci.boneTexture===null&&ci.computeBoneTexture(),mn.setValue(V,"boneTexture",ci.boneTexture,Pe),mn.setValue(V,"boneTextureSize",ci.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ns=De.morphAttributes;if((Ns.position!==void 0||Ns.normal!==void 0||Ns.color!==void 0&&ye.isWebGL2===!0)&&Q.update(ke,De,yi),(kn||bt.receiveShadow!==ke.receiveShadow)&&(bt.receiveShadow=ke.receiveShadow,mn.setValue(V,"receiveShadow",ke.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(rn.envMap.value=yt,rn.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),kn&&(mn.setValue(V,"toneMappingExposure",A.toneMappingExposure),bt.needsLights&&Us(rn,Vi),tt&&fe.fog===!0&&Te.refreshFogUniforms(rn,tt),Te.refreshMaterialUniforms(rn,fe,Z,J,ce),M1.upload(V,bt.uniformsList,rn,Pe)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(M1.upload(V,bt.uniformsList,rn,Pe),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&mn.setValue(V,"center",ke.center),mn.setValue(V,"modelViewMatrix",ke.modelViewMatrix),mn.setValue(V,"normalMatrix",ke.normalMatrix),mn.setValue(V,"modelMatrix",ke.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const ci=fe.uniformsGroups;for(let oa=0,zs=ci.length;oa<zs;oa++)if(ye.isWebGL2){const ru=ci[oa];Ye.update(ru,yi),Ye.bind(ru,yi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return yi}function Us(K,Ae){K.ambientLightColor.needsUpdate=Ae,K.lightProbe.needsUpdate=Ae,K.directionalLights.needsUpdate=Ae,K.directionalLightShadows.needsUpdate=Ae,K.pointLights.needsUpdate=Ae,K.pointLightShadows.needsUpdate=Ae,K.spotLights.needsUpdate=Ae,K.spotLightShadows.needsUpdate=Ae,K.rectAreaLights.needsUpdate=Ae,K.hemisphereLights.needsUpdate=Ae}function Mr(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(K,Ae,De){ve.get(K.texture).__webglTexture=Ae,ve.get(K.depthTexture).__webglTexture=De;const fe=ve.get(K);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=De===void 0,fe.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,Ae){const De=ve.get(K);De.__webglFramebuffer=Ae,De.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function(K,Ae=0,De=0){C=K,E=Ae,M=De;let fe=!0,ke=null,tt=!1,ht=!1;if(K){const yt=ve.get(K);yt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(V.FRAMEBUFFER,null),fe=!1):yt.__webglFramebuffer===void 0?Pe.setupRenderTarget(K):yt.__hasExternalTextures&&Pe.rebindTextures(K,ve.get(K.texture).__webglTexture,ve.get(K.depthTexture).__webglTexture);const St=K.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(ht=!0);const Ve=ve.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(ke=Ve[Ae],tt=!0):ye.isWebGL2&&K.samples>0&&Pe.useMultisampledRTT(K)===!1?ke=ve.get(K).__webglMultisampledFramebuffer:ke=Ve,D.copy(K.viewport),O.copy(K.scissor),N=K.scissorTest}else D.copy(X).multiplyScalar(Z).floor(),O.copy(F).multiplyScalar(Z).floor(),N=j;if(pe.bindFramebuffer(V.FRAMEBUFFER,ke)&&ye.drawBuffers&&fe&&pe.drawBuffers(K,ke),pe.viewport(D),pe.scissor(O),pe.setScissorTest(N),tt){const yt=ve.get(K.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,yt.__webglTexture,De)}else if(ht){const yt=ve.get(K.texture),St=Ae||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,yt.__webglTexture,De||0,St)}P=-1},this.readRenderTargetPixels=function(K,Ae,De,fe,ke,tt,ht){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=ve.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&ht!==void 0&&(pt=pt[ht]),pt){pe.bindFramebuffer(V.FRAMEBUFFER,pt);try{const yt=K.texture,St=yt.format,Ve=yt.type;if(St!==qr&&we.convert(St)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const mt=Ve===Oh&&(de.has("EXT_color_buffer_half_float")||ye.isWebGL2&&de.has("EXT_color_buffer_float"));if(Ve!==Ea&&we.convert(Ve)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ve===_a&&(ye.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=K.width-fe&&De>=0&&De<=K.height-ke&&V.readPixels(Ae,De,fe,ke,we.convert(St),we.convert(Ve),tt)}finally{const yt=C!==null?ve.get(C).__webglFramebuffer:null;pe.bindFramebuffer(V.FRAMEBUFFER,yt)}}},this.copyFramebufferToTexture=function(K,Ae,De=0){const fe=Math.pow(2,-De),ke=Math.floor(Ae.image.width*fe),tt=Math.floor(Ae.image.height*fe);Pe.setTexture2D(Ae,0),V.copyTexSubImage2D(V.TEXTURE_2D,De,0,0,K.x,K.y,ke,tt),pe.unbindTexture()},this.copyTextureToTexture=function(K,Ae,De,fe=0){const ke=Ae.image.width,tt=Ae.image.height,ht=we.convert(De.format),pt=we.convert(De.type);Pe.setTexture2D(De,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,De.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,De.unpackAlignment),Ae.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,fe,K.x,K.y,ke,tt,ht,pt,Ae.image.data):Ae.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,fe,K.x,K.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,ht,Ae.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,fe,K.x,K.y,ht,pt,Ae.image),fe===0&&De.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),pe.unbindTexture()},this.copyTextureToTexture3D=function(K,Ae,De,fe,ke=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=K.max.x-K.min.x+1,ht=K.max.y-K.min.y+1,pt=K.max.z-K.min.z+1,yt=we.convert(fe.format),St=we.convert(fe.type);let Ve;if(fe.isData3DTexture)Pe.setTexture3D(fe,0),Ve=V.TEXTURE_3D;else if(fe.isDataArrayTexture)Pe.setTexture2DArray(fe,0),Ve=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,fe.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,fe.unpackAlignment);const mt=V.getParameter(V.UNPACK_ROW_LENGTH),on=V.getParameter(V.UNPACK_IMAGE_HEIGHT),nn=V.getParameter(V.UNPACK_SKIP_PIXELS),Qi=V.getParameter(V.UNPACK_SKIP_ROWS),Gi=V.getParameter(V.UNPACK_SKIP_IMAGES),Kt=De.isCompressedTexture?De.mipmaps[0]:De.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,Kt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Kt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,K.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,K.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,K.min.z),De.isDataTexture||De.isData3DTexture?V.texSubImage3D(Ve,ke,Ae.x,Ae.y,Ae.z,tt,ht,pt,yt,St,Kt.data):De.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(Ve,ke,Ae.x,Ae.y,Ae.z,tt,ht,pt,yt,Kt.data)):V.texSubImage3D(Ve,ke,Ae.x,Ae.y,Ae.z,tt,ht,pt,yt,St,Kt),V.pixelStorei(V.UNPACK_ROW_LENGTH,mt),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,on),V.pixelStorei(V.UNPACK_SKIP_PIXELS,nn),V.pixelStorei(V.UNPACK_SKIP_ROWS,Qi),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Gi),ke===0&&fe.generateMipmaps&&V.generateMipmap(Ve),pe.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?Pe.setTextureCube(K,0):K.isData3DTexture?Pe.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?Pe.setTexture2DArray(K,0):Pe.setTexture2D(K,0),pe.unbindTexture()},this.resetState=function(){E=0,M=0,C=null,pe.reset(),Oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Aa}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===It?Rc:zC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Rc?It:Yo}}class AU extends KC{}AU.prototype.isWebGL1Renderer=!0;class T_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ke(e),this.density=t}clone(){return new T_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class R_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ke(e),this.near=t,this.far=i}clone(){return new R_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Hh extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class y0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ug,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ir=new Y;class Gc{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ss(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ss(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ss(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ss(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new en(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qC extends gi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vd;const am=new Y,yd=new Y,xd=new Y,_d=new Be,lm=new Be,bU=new At,_y=new Y,cm=new Y,Ay=new Y,MD=new Be,sw=new Be,CD=new Be;class wU extends Lt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vd===void 0){vd=new Rt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new y0(t,5);vd.setIndex([0,1,2,0,2,3]),vd.setAttribute("position",new Gc(i,3,0,!1)),vd.setAttribute("uv",new Gc(i,2,3,!1))}this.geometry=vd,this.material=e!==void 0?e:new qC,this.center=new Be(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yd.setFromMatrixScale(this.matrixWorld),bU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yd.multiplyScalar(-xd.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;by(_y.set(-.5,-.5,0),xd,o,yd,r,s),by(cm.set(.5,-.5,0),xd,o,yd,r,s),by(Ay.set(.5,.5,0),xd,o,yd,r,s),MD.set(0,0),sw.set(1,0),CD.set(1,1);let a=e.ray.intersectTriangle(_y,cm,Ay,!1,am);if(a===null&&(by(cm.set(-.5,.5,0),xd,o,yd,r,s),sw.set(0,1),a=e.ray.intersectTriangle(_y,Ay,cm,!1,am),a===null))return;const l=e.ray.origin.distanceTo(am);l<e.near||l>e.far||t.push({distance:l,point:am.clone(),uv:Yr.getInterpolation(am,_y,cm,Ay,MD,sw,CD,new Be),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function by(n,e,t,i,r,s){_d.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(lm.x=s*_d.x-r*_d.y,lm.y=r*_d.x+s*_d.y):lm.copy(_d),n.copy(e),n.x+=lm.x,n.y+=lm.y,n.applyMatrix4(bU)}const wy=new Y,TD=new Y;class SU extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){wy.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(wy);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){wy.setFromMatrixPosition(e.matrixWorld),TD.setFromMatrixPosition(this.matrixWorld);const i=wy.distanceTo(TD)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const RD=new Y,PD=new Wt,ID=new Wt,bQ=new Y,DD=new At,Ad=new Y,ow=new Fs,LD=new At,aw=new hp;class QC extends Qn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new At,this.bindMatrixInverse=new At,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Ad.fromBufferAttribute(t,i),this.applyBoneTransform(i,Ad),this.boundingBox.expandByPoint(Ad)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Ad.fromBufferAttribute(t,i),this.applyBoneTransform(i,Ad),this.boundingSphere.expandByPoint(Ad)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ow.copy(this.boundingSphere),ow.applyMatrix4(r),e.ray.intersectsSphere(ow)!==!1&&(LD.copy(r).invert(),aw.copy(e.ray).applyMatrix4(LD),!(this.boundingBox!==null&&aw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,aw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;PD.fromBufferAttribute(r.attributes.skinIndex,e),ID.fromBufferAttribute(r.attributes.skinWeight,e),RD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=ID.getComponent(s);if(o!==0){const a=PD.getComponent(s);DD.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(bQ.copy(RD).applyMatrix4(DD),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class P_ extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gh extends Mn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Kn,u=Kn,f,d){super(null,o,a,l,c,u,r,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kD=new At,wQ=new At;class x0{constructor(e=[],t=[]){this.uuid=Ts(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new At)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new At;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:wQ;kD.multiplyMatrices(a,t[s]),kD.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new x0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=aU(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new gh(t,e,e,qr,_a);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new P_),this.bones.push(o),this.boneInverses.push(new At().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Af extends en{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bd=new At,BD=new At,Sy=[],OD=new bo,SQ=new At,um=new Qn,fm=new Fs;class ZC extends Qn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Af(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,SQ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new bo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,bd),OD.copy(e.boundingBox).applyMatrix4(bd),this.boundingBox.union(OD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,bd),fm.copy(e.boundingSphere).applyMatrix4(bd),this.boundingSphere.union(fm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(um.geometry=this.geometry,um.material=this.material,um.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fm.copy(this.boundingSphere),fm.applyMatrix4(i),e.ray.intersectsSphere(fm)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,bd),BD.multiplyMatrices(i,bd),um.matrixWorld=BD,um.raycast(e,Sy);for(let o=0,a=Sy.length;o<a;o++){const l=Sy[o];l.instanceId=s,l.object=this,t.push(l)}Sy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Af(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class br extends gi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const FD=new Y,UD=new Y,ND=new At,lw=new hp,Ey=new Fs;class Rl extends Lt{constructor(e=new Rt,t=new br){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)FD.fromBufferAttribute(t,r-1),UD.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=FD.distanceTo(UD);e.setAttribute("lineDistance",new at(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ey.copy(i.boundingSphere),Ey.applyMatrix4(r),Ey.radius+=s,e.ray.intersectsSphere(Ey)===!1)return;ND.copy(r).invert(),lw.copy(e.ray).applyMatrix4(ND);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Y,u=new Y,f=new Y,d=new Y,p=this.isLineSegments?2:1,g=i.index,y=i.attributes.position;if(g!==null){const v=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let A=v,w=_-1;A<w;A+=p){const E=g.getX(A),M=g.getX(A+1);if(c.fromBufferAttribute(y,E),u.fromBufferAttribute(y,M),lw.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(d);P<e.near||P>e.far||t.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let A=v,w=_-1;A<w;A+=p){if(c.fromBufferAttribute(y,A),u.fromBufferAttribute(y,A+1),lw.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||t.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const zD=new Y,HD=new Y;class ea extends Rl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)zD.fromBufferAttribute(t,r),HD.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+zD.distanceTo(HD);e.setAttribute("lineDistance",new at(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eT extends Rl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class I_ extends gi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const GD=new At,fE=new hp,My=new Fs,Cy=new Y;class D_ extends Lt{constructor(e=new Rt,t=new I_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),My.copy(i.boundingSphere),My.applyMatrix4(r),My.radius+=s,e.ray.intersectsSphere(My)===!1)return;GD.copy(r).invert(),fE.copy(e.ray).applyMatrix4(GD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,f=i.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=d,x=p;g<x;g++){const y=c.getX(g);Cy.fromBufferAttribute(f,y),VD(Cy,y,l,r,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=d,x=p;g<x;g++)Cy.fromBufferAttribute(f,g),VD(Cy,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function VD(n,e,t,i,r,s,o){const a=fE.distanceSqToPoint(n);if(a<t){const l=new Y;fE.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class EQ extends Mn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:bn,this.magFilter=s!==void 0?s:bn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class MQ extends Mn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Kn,this.minFilter=Kn,this.generateMipmaps=!1,this.needsUpdate=!0}}class tT extends Mn{constructor(e,t,i,r,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,r,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CQ extends tT{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Yi}}class TQ extends Mn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ta{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],d=i[r+1]-u,p=(o-u)/d;return(r+p)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Be:new Y);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new Y,r=[],s=[],o=[],a=new Y,l=new At;for(let p=0;p<=e;p++){const g=p/e;r[p]=this.getTangentAt(g,new Y)}s[0]=new Y,o[0]=new Y;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),d<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(qn(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(r[p],s[p])}if(t===!0){let p=Math.acos(qn(s[0].dot(s[e]),-1,1));p/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],p*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class L_ extends ta{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Be,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class EU extends L_{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function nT(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,p*=u,r(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Ty=new Y,cw=new nT,uw=new nT,fw=new nT;class MU extends ta{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Y){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Ty.subVectors(r[0],r[1]).add(r[0]),c=Ty);const f=r[a%s],d=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Ty.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Ty),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),p),x=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(u),p);x<1e-4&&(x=1),g<1e-4&&(g=x),y<1e-4&&(y=x),cw.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,x,y),uw.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,x,y),fw.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,x,y)}else this.curveType==="catmullrom"&&(cw.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),uw.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),fw.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return i.set(cw.calc(l),uw.calc(l),fw.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Y().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function WD(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function RQ(n,e){const t=1-n;return t*t*e}function PQ(n,e){return 2*(1-n)*n*e}function IQ(n,e){return n*n*e}function Qm(n,e,t,i){return RQ(n,e)+PQ(n,t)+IQ(n,i)}function DQ(n,e){const t=1-n;return t*t*t*e}function LQ(n,e){const t=1-n;return 3*t*t*n*e}function kQ(n,e){return 3*(1-n)*n*n*e}function BQ(n,e){return n*n*n*e}function Zm(n,e,t,i,r){return DQ(n,e)+LQ(n,t)+kQ(n,i)+BQ(n,r)}class iT extends ta{constructor(e=new Be,t=new Be,i=new Be,r=new Be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Be){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Zm(e,r.x,s.x,o.x,a.x),Zm(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CU extends ta{constructor(e=new Y,t=new Y,i=new Y,r=new Y){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Y){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Zm(e,r.x,s.x,o.x,a.x),Zm(e,r.y,s.y,o.y,a.y),Zm(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class k_ extends ta{constructor(e=new Be,t=new Be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Be){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TU extends ta{constructor(e=new Y,t=new Y){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Y){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Y){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rT extends ta{constructor(e=new Be,t=new Be,i=new Be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Be){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qm(e,r.x,s.x,o.x),Qm(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sT extends ta{constructor(e=new Y,t=new Y,i=new Y){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Y){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qm(e,r.x,s.x,o.x),Qm(e,r.y,s.y,o.y),Qm(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oT extends ta{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Be){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(WD(a,l.x,c.x,u.x,f.x),WD(a,l.y,c.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Be().fromArray(r))}return this}}var aT=Object.freeze({__proto__:null,ArcCurve:EU,CatmullRomCurve3:MU,CubicBezierCurve:iT,CubicBezierCurve3:CU,EllipseCurve:L_,LineCurve:k_,LineCurve3:TU,QuadraticBezierCurve:rT,QuadraticBezierCurve3:sT,SplineCurve:oT});class RU extends ta{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new k_(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new aT[r.type]().fromJSON(r))}return this}}class Hg extends RU{constructor(e){super(),this.type="Path",this.currentPoint=new Be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new k_(this.currentPoint.clone(),new Be(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new rT(this.currentPoint.clone(),new Be(e,t),new Be(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new iT(this.currentPoint.clone(),new Be(e,t),new Be(i,r),new Be(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new oT(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new L_(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class _0 extends Rt{constructor(e=[new Be(0,-.5),new Be(.5,0),new Be(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=qn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new Y,d=new Be,p=new Y,g=new Y,x=new Y;let y=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-y,p.z=v*0,x.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-y,p.z=v*0,g.copy(p),p.x+=x.x,p.y+=x.y,p.z+=x.z,p.normalize(),l.push(p.x,p.y,p.z),x.copy(g)}for(let _=0;_<=t;_++){const A=i+_*u*r,w=Math.sin(A),E=Math.cos(A);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*w,f.y=e[M].y,f.z=e[M].x*E,o.push(f.x,f.y,f.z),d.x=_/t,d.y=M/(e.length-1),a.push(d.x,d.y);const C=l[3*M+0]*w,P=l[3*M+1],T=l[3*M+0]*E;c.push(C,P,T)}}for(let _=0;_<t;_++)for(let A=0;A<e.length-1;A++){const w=A+_*e.length,E=w,M=w+e.length,C=w+e.length+1,P=w+1;s.push(E,M,P),s.push(C,P,M)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.points,e.segments,e.phiStart,e.phiLength)}}class B_ extends _0{constructor(e=1,t=1,i=4,r=8){const s=new Hg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new B_(e.radius,e.length,e.capSegments,e.radialSegments)}}class O_ extends Rt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Y,u=new Be;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=i+f/t*r;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gp extends Rt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],f=[],d=[],p=[];let g=0;const x=[],y=i/2;let v=0;_(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(u),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(p,2));function _(){const w=new Y,E=new Y;let M=0;const C=(t-e)/i;for(let P=0;P<=s;P++){const T=[],D=P/s,O=D*(t-e)+e;for(let N=0;N<=r;N++){const z=N/r,G=z*l+a,W=Math.sin(G),J=Math.cos(G);E.x=O*W,E.y=-D*i+y,E.z=O*J,f.push(E.x,E.y,E.z),w.set(W,C,J).normalize(),d.push(w.x,w.y,w.z),p.push(z,1-D),T.push(g++)}x.push(T)}for(let P=0;P<r;P++)for(let T=0;T<s;T++){const D=x[T][P],O=x[T+1][P],N=x[T+1][P+1],z=x[T][P+1];u.push(D,O,z),u.push(O,N,z),M+=6}c.addGroup(v,M,0),v+=M}function A(w){const E=g,M=new Be,C=new Y;let P=0;const T=w===!0?e:t,D=w===!0?1:-1;for(let N=1;N<=r;N++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),g++;const O=g;for(let N=0;N<=r;N++){const G=N/r*l+a,W=Math.cos(G),J=Math.sin(G);C.x=T*J,C.y=y*D,C.z=T*W,f.push(C.x,C.y,C.z),d.push(0,D,0),M.x=W*.5+.5,M.y=J*.5*D+.5,p.push(M.x,M.y),g++}for(let N=0;N<r;N++){const z=E+N,G=O+N;w===!0?u.push(G,G+1,z):u.push(G+1,G,z),P+=3}c.addGroup(v,P,w===!0?1:2),v+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class F_ extends gp{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new F_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tu extends Rt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const A=new Y,w=new Y,E=new Y;for(let M=0;M<t.length;M+=3)p(t[M+0],A),p(t[M+1],w),p(t[M+2],E),l(A,w,E,_)}function l(_,A,w,E){const M=E+1,C=[];for(let P=0;P<=M;P++){C[P]=[];const T=_.clone().lerp(w,P/M),D=A.clone().lerp(w,P/M),O=M-P;for(let N=0;N<=O;N++)N===0&&P===M?C[P][N]=T:C[P][N]=T.clone().lerp(D,N/O)}for(let P=0;P<M;P++)for(let T=0;T<2*(M-P)-1;T++){const D=Math.floor(T/2);T%2===0?(d(C[P][D+1]),d(C[P+1][D]),d(C[P][D])):(d(C[P][D+1]),d(C[P+1][D+1]),d(C[P+1][D]))}}function c(_){const A=new Y;for(let w=0;w<s.length;w+=3)A.x=s[w+0],A.y=s[w+1],A.z=s[w+2],A.normalize().multiplyScalar(_),s[w+0]=A.x,s[w+1]=A.y,s[w+2]=A.z}function u(){const _=new Y;for(let A=0;A<s.length;A+=3){_.x=s[A+0],_.y=s[A+1],_.z=s[A+2];const w=y(_)/2/Math.PI+.5,E=v(_)/Math.PI+.5;o.push(w,1-E)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const A=o[_+0],w=o[_+2],E=o[_+4],M=Math.max(A,w,E),C=Math.min(A,w,E);M>.9&&C<.1&&(A<.2&&(o[_+0]+=1),w<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function p(_,A){const w=_*3;A.x=e[w+0],A.y=e[w+1],A.z=e[w+2]}function g(){const _=new Y,A=new Y,w=new Y,E=new Y,M=new Be,C=new Be,P=new Be;for(let T=0,D=0;T<s.length;T+=9,D+=6){_.set(s[T+0],s[T+1],s[T+2]),A.set(s[T+3],s[T+4],s[T+5]),w.set(s[T+6],s[T+7],s[T+8]),M.set(o[D+0],o[D+1]),C.set(o[D+2],o[D+3]),P.set(o[D+4],o[D+5]),E.copy(_).add(A).add(w).divideScalar(3);const O=y(E);x(M,D+0,_,O),x(C,D+2,A,O),x(P,D+4,w,O)}}function x(_,A,w,E){E<0&&_.x===1&&(o[A]=_.x-1),w.x===0&&w.z===0&&(o[A]=E/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tu(e.vertices,e.indices,e.radius,e.details)}}class U_ extends tu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new U_(e.radius,e.detail)}}const Ry=new Y,Py=new Y,dw=new Y,Iy=new Yr;class PU extends Rt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(tf*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:x,b:y,c:v}=Iy;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),Iy.getNormal(dw),f[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,f[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const A=(_+1)%3,w=f[_],E=f[A],M=Iy[u[_]],C=Iy[u[A]],P=`${w}_${E}`,T=`${E}_${w}`;T in d&&d[T]?(dw.dot(d[T].normal)<=s&&(p.push(M.x,M.y,M.z),p.push(C.x,C.y,C.z)),d[T]=null):P in d||(d[P]={index0:c[_],index1:c[A],normal:dw.clone()})}}for(const g in d)if(d[g]){const{index0:x,index1:y}=d[g];Ry.fromBufferAttribute(a,x),Py.fromBufferAttribute(a,y),p.push(Ry.x,Ry.y,Ry.z),p.push(Py.x,Py.y,Py.z)}this.setAttribute("position",new at(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let rf=class extends Hg{constructor(e){super(e),this.uuid=Ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Hg().fromJSON(r))}return this}};const OQ={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=IU(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,p;if(i&&(s=HQ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<r;g+=t)f=n[g],d=n[g+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return Gg(s,o,t,a,l,p,0),o}};function IU(n,e,t,i,r){let s,o;if(r===QQ(n,e,t,i)>0)for(s=e;s<t;s+=i)o=jD(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=jD(s,n[s],n[s+1],o);return o&&N_(o,o.next)&&(Wg(o),o=o.next),o}function bf(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(N_(t,t.next)||Hn(t.prev,t,t.next)===0)){if(Wg(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Gg(n,e,t,i,r,s,o){if(!n)return;!o&&s&&$Q(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?UQ(n,i,r,s):FQ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Wg(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=NQ(bf(n),e,t),Gg(n,e,t,i,r,s,2)):o===2&&zQ(n,e,t,i,r,s):Gg(bf(n),e,t,i,r,s,1);break}}}function FQ(n){const e=n.prev,t=n,i=n.next;if(Hn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=r>s?r>o?r:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let g=i.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=p&&Qd(r,a,s,l,o,c,g.x,g.y)&&Hn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function UQ(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Hn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,f=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,g=u<f?u<d?u:d:f<d?f:d,x=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,v=dE(p,g,e,t,i),_=dE(x,y,e,t,i);let A=n.prevZ,w=n.nextZ;for(;A&&A.z>=v&&w&&w.z<=_;){if(A.x>=p&&A.x<=x&&A.y>=g&&A.y<=y&&A!==r&&A!==o&&Qd(a,u,l,f,c,d,A.x,A.y)&&Hn(A.prev,A,A.next)>=0||(A=A.prevZ,w.x>=p&&w.x<=x&&w.y>=g&&w.y<=y&&w!==r&&w!==o&&Qd(a,u,l,f,c,d,w.x,w.y)&&Hn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;A&&A.z>=v;){if(A.x>=p&&A.x<=x&&A.y>=g&&A.y<=y&&A!==r&&A!==o&&Qd(a,u,l,f,c,d,A.x,A.y)&&Hn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=x&&w.y>=g&&w.y<=y&&w!==r&&w!==o&&Qd(a,u,l,f,c,d,w.x,w.y)&&Hn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function NQ(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!N_(r,s)&&DU(r,i,i.next,s)&&Vg(r,s)&&Vg(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Wg(i),Wg(i.next),i=n=s),i=i.next}while(i!==n);return bf(i)}function zQ(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&JQ(o,a)){let l=LU(o,a);o=bf(o,o.next),l=bf(l,l.next),Gg(o,e,t,i,r,s,0),Gg(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function HQ(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=IU(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(YQ(c));for(r.sort(GQ),s=0;s<r.length;s++)t=VQ(r[s],t);return t}function GQ(n,e){return n.x-e.x}function VQ(n,e){const t=WQ(n,e);if(!t)return e;const i=LU(t,n);return bf(i,i.next),bf(t,t.next)}function WQ(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>i&&(i=d,r=t.x<t.next.x?t:t.next,d===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,f;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Qd(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Vg(t,n)&&(f<u||f===u&&(t.x>r.x||t.x===r.x&&jQ(r,t)))&&(r=t,u=f)),t=t.next;while(t!==a);return r}function jQ(n,e){return Hn(n.prev,n,e.prev)<0&&Hn(e.next,n,n.next)<0}function $Q(n,e,t,i){let r=n;do r.z===0&&(r.z=dE(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,XQ(r)}function XQ(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function dE(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function YQ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Qd(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function JQ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!KQ(n,e)&&(Vg(n,e)&&Vg(e,n)&&qQ(n,e)&&(Hn(n.prev,n,e.prev)||Hn(n,e.prev,e))||N_(n,e)&&Hn(n.prev,n,n.next)>0&&Hn(e.prev,e,e.next)>0)}function Hn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function N_(n,e){return n.x===e.x&&n.y===e.y}function DU(n,e,t,i){const r=Ly(Hn(n,e,t)),s=Ly(Hn(n,e,i)),o=Ly(Hn(t,i,n)),a=Ly(Hn(t,i,e));return!!(r!==s&&o!==a||r===0&&Dy(n,t,e)||s===0&&Dy(n,i,e)||o===0&&Dy(t,n,i)||a===0&&Dy(t,e,i))}function Dy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ly(n){return n>0?1:n<0?-1:0}function KQ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&DU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Vg(n,e){return Hn(n.prev,n,n.next)<0?Hn(n,e,n.next)>=0&&Hn(n,n.prev,e)>=0:Hn(n,e,n.prev)<0||Hn(n,n.next,e)<0}function qQ(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function LU(n,e){const t=new hE(n.i,n.x,n.y),i=new hE(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function jD(n,e,t,i){const r=new hE(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Wg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function hE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function QQ(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Ma{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ma.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];$D(e),XD(i,e);let o=e.length;t.forEach($D);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,XD(i,t[l]);const a=OQ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function $D(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function XD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class z_ extends Rt{constructor(e=new rf([new Be(.5,.5),new Be(-.5,.5),new Be(-.5,-.5),new Be(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new at(r,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:ZQ;let A,w=!1,E,M,C,P;v&&(A=v.getSpacedPoints(u),w=!0,d=!1,E=v.computeFrenetFrames(u,!1),M=new Y,C=new Y,P=new Y),d||(y=0,p=0,g=0,x=0);const T=a.extractPoints(c);let D=T.shape;const O=T.holes;if(!Ma.isClockWise(D)){D=D.reverse();for(let V=0,_e=O.length;V<_e;V++){const de=O[V];Ma.isClockWise(de)&&(O[V]=de.reverse())}}const z=Ma.triangulateShape(D,O),G=D;for(let V=0,_e=O.length;V<_e;V++){const de=O[V];D=D.concat(de)}function W(V,_e,de){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(_e,de)}const J=D.length,Z=z.length;function H(V,_e,de){let ye,pe,Ge;const ve=V.x-_e.x,Pe=V.y-_e.y,Le=de.x-V.x,Ee=de.y-V.y,$e=ve*ve+Pe*Pe,U=ve*Ee-Pe*Le;if(Math.abs(U)>Number.EPSILON){const B=Math.sqrt($e),re=Math.sqrt(Le*Le+Ee*Ee),Te=_e.x-Pe/B,Se=_e.y+ve/B,Re=de.x-Ee/re,ze=de.y+Le/re,Ne=((Re-Te)*Ee-(ze-Se)*Le)/(ve*Ee-Pe*Le);ye=Te+ve*Ne-V.x,pe=Se+Pe*Ne-V.y;const xe=ye*ye+pe*pe;if(xe<=2)return new Be(ye,pe);Ge=Math.sqrt(xe/2)}else{let B=!1;ve>Number.EPSILON?Le>Number.EPSILON&&(B=!0):ve<-Number.EPSILON?Le<-Number.EPSILON&&(B=!0):Math.sign(Pe)===Math.sign(Ee)&&(B=!0),B?(ye=-Pe,pe=ve,Ge=Math.sqrt($e)):(ye=ve,pe=Pe,Ge=Math.sqrt($e/2))}return new Be(ye/Ge,pe/Ge)}const $=[];for(let V=0,_e=G.length,de=_e-1,ye=V+1;V<_e;V++,de++,ye++)de===_e&&(de=0),ye===_e&&(ye=0),$[V]=H(G[V],G[de],G[ye]);const X=[];let F,j=$.concat();for(let V=0,_e=O.length;V<_e;V++){const de=O[V];F=[];for(let ye=0,pe=de.length,Ge=pe-1,ve=ye+1;ye<pe;ye++,Ge++,ve++)Ge===pe&&(Ge=0),ve===pe&&(ve=0),F[ye]=H(de[ye],de[Ge],de[ve]);X.push(F),j=j.concat(F)}for(let V=0;V<y;V++){const _e=V/y,de=p*Math.cos(_e*Math.PI/2),ye=g*Math.sin(_e*Math.PI/2)+x;for(let pe=0,Ge=G.length;pe<Ge;pe++){const ve=W(G[pe],$[pe],ye);le(ve.x,ve.y,-de)}for(let pe=0,Ge=O.length;pe<Ge;pe++){const ve=O[pe];F=X[pe];for(let Pe=0,Le=ve.length;Pe<Le;Pe++){const Ee=W(ve[Pe],F[Pe],ye);le(Ee.x,Ee.y,-de)}}}const se=g+x;for(let V=0;V<J;V++){const _e=d?W(D[V],j[V],se):D[V];w?(C.copy(E.normals[0]).multiplyScalar(_e.x),M.copy(E.binormals[0]).multiplyScalar(_e.y),P.copy(A[0]).add(C).add(M),le(P.x,P.y,P.z)):le(_e.x,_e.y,0)}for(let V=1;V<=u;V++)for(let _e=0;_e<J;_e++){const de=d?W(D[_e],j[_e],se):D[_e];w?(C.copy(E.normals[V]).multiplyScalar(de.x),M.copy(E.binormals[V]).multiplyScalar(de.y),P.copy(A[V]).add(C).add(M),le(P.x,P.y,P.z)):le(de.x,de.y,f/u*V)}for(let V=y-1;V>=0;V--){const _e=V/y,de=p*Math.cos(_e*Math.PI/2),ye=g*Math.sin(_e*Math.PI/2)+x;for(let pe=0,Ge=G.length;pe<Ge;pe++){const ve=W(G[pe],$[pe],ye);le(ve.x,ve.y,f+de)}for(let pe=0,Ge=O.length;pe<Ge;pe++){const ve=O[pe];F=X[pe];for(let Pe=0,Le=ve.length;Pe<Le;Pe++){const Ee=W(ve[Pe],F[Pe],ye);w?le(Ee.x,Ee.y+A[u-1].y,A[u-1].x+de):le(Ee.x,Ee.y,f+de)}}}ne(),ie();function ne(){const V=r.length/3;if(d){let _e=0,de=J*_e;for(let ye=0;ye<Z;ye++){const pe=z[ye];ue(pe[2]+de,pe[1]+de,pe[0]+de)}_e=u+y*2,de=J*_e;for(let ye=0;ye<Z;ye++){const pe=z[ye];ue(pe[0]+de,pe[1]+de,pe[2]+de)}}else{for(let _e=0;_e<Z;_e++){const de=z[_e];ue(de[2],de[1],de[0])}for(let _e=0;_e<Z;_e++){const de=z[_e];ue(de[0]+J*u,de[1]+J*u,de[2]+J*u)}}i.addGroup(V,r.length/3-V,0)}function ie(){const V=r.length/3;let _e=0;ce(G,_e),_e+=G.length;for(let de=0,ye=O.length;de<ye;de++){const pe=O[de];ce(pe,_e),_e+=pe.length}i.addGroup(V,r.length/3-V,1)}function ce(V,_e){let de=V.length;for(;--de>=0;){const ye=de;let pe=de-1;pe<0&&(pe=V.length-1);for(let Ge=0,ve=u+y*2;Ge<ve;Ge++){const Pe=J*Ge,Le=J*(Ge+1),Ee=_e+ye+Pe,$e=_e+pe+Pe,U=_e+pe+Le,B=_e+ye+Le;Fe(Ee,$e,U,B)}}}function le(V,_e,de){l.push(V),l.push(_e),l.push(de)}function ue(V,_e,de){He(V),He(_e),He(de);const ye=r.length/3,pe=_.generateTopUV(i,r,ye-3,ye-2,ye-1);ge(pe[0]),ge(pe[1]),ge(pe[2])}function Fe(V,_e,de,ye){He(V),He(_e),He(ye),He(_e),He(de),He(ye);const pe=r.length/3,Ge=_.generateSideWallUV(i,r,pe-6,pe-3,pe-2,pe-1);ge(Ge[0]),ge(Ge[1]),ge(Ge[3]),ge(Ge[1]),ge(Ge[2]),ge(Ge[3])}function He(V){r.push(l[V*3+0]),r.push(l[V*3+1]),r.push(l[V*3+2])}function ge(V){s.push(V.x),s.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return eZ(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new aT[r.type]().fromJSON(r)),new z_(i,e.options)}}const ZQ={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Be(s,o),new Be(a,l),new Be(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],f=e[i*3+2],d=e[r*3],p=e[r*3+1],g=e[r*3+2],x=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Be(o,1-l),new Be(c,1-f),new Be(d,1-g),new Be(x,1-v)]:[new Be(a,1-l),new Be(u,1-f),new Be(p,1-g),new Be(y,1-v)]}};function eZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class H_ extends tu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new H_(e.radius,e.detail)}}class A0 extends tu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new A0(e.radius,e.detail)}}class G_ extends Rt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/r,p=new Y,g=new Be;for(let x=0;x<=r;x++){for(let y=0;y<=i;y++){const v=s+y/i*o;p.x=f*Math.cos(v),p.y=f*Math.sin(v),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}f+=d}for(let x=0;x<r;x++){const y=x*(i+1);for(let v=0;v<i;v++){const _=v+y,A=_,w=_+i+1,E=_+i+2,M=_+1;a.push(A,w,M),a.push(w,E,M)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class V_ extends Rt{constructor(e=new rf([new Be(0,.5),new Be(-.5,-.5),new Be(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new at(r,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function c(u){const f=r.length/3,d=u.extractPoints(t);let p=d.shape;const g=d.holes;Ma.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=g.length;y<v;y++){const _=g[y];Ma.isClockWise(_)===!0&&(g[y]=_.reverse())}const x=Ma.triangulateShape(p,g);for(let y=0,v=g.length;y<v;y++){const _=g[y];p=p.concat(_)}for(let y=0,v=p.length;y<v;y++){const _=p[y];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,v=x.length;y<v;y++){const _=x[y],A=_[0]+f,w=_[1]+f,E=_[2]+f;i.push(A,w,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return tZ(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new V_(i,e.curveSegments)}}function tZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class b0 extends Rt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new Y,d=new Y,p=[],g=[],x=[],y=[];for(let v=0;v<=i;v++){const _=[],A=v/i;let w=0;v===0&&o===0?w=.5/t:v===i&&l===Math.PI&&(w=-.5/t);for(let E=0;E<=t;E++){const M=E/t;f.x=-e*Math.cos(r+M*s)*Math.sin(o+A*a),f.y=e*Math.cos(o+A*a),f.z=e*Math.sin(r+M*s)*Math.sin(o+A*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),x.push(d.x,d.y,d.z),y.push(M+w,1-A),_.push(c++)}u.push(_)}for(let v=0;v<i;v++)for(let _=0;_<t;_++){const A=u[v][_+1],w=u[v][_],E=u[v+1][_],M=u[v+1][_+1];(v!==0||o>0)&&p.push(A,w,M),(v!==i-1||l<Math.PI)&&p.push(w,E,M)}this.setIndex(p),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(x,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class W_ extends tu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new W_(e.radius,e.detail)}}class j_ extends Rt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new Y,f=new Y,d=new Y;for(let p=0;p<=i;p++)for(let g=0;g<=r;g++){const x=g/r*s,y=p/i*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(x),f.y=(e+t*Math.cos(y))*Math.sin(x),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/r),c.push(p/i)}for(let p=1;p<=i;p++)for(let g=1;g<=r;g++){const x=(r+1)*p+g-1,y=(r+1)*(p-1)+g-1,v=(r+1)*(p-1)+g,_=(r+1)*p+g;o.push(x,y,_),o.push(y,v,_)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class $_ extends Rt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],f=new Y,d=new Y,p=new Y,g=new Y,x=new Y,y=new Y,v=new Y;for(let A=0;A<=i;++A){const w=A/i*s*Math.PI*2;_(w,s,o,e,p),_(w+.01,s,o,e,g),y.subVectors(g,p),v.addVectors(g,p),x.crossVectors(y,v),v.crossVectors(x,y),x.normalize(),v.normalize();for(let E=0;E<=r;++E){const M=E/r*Math.PI*2,C=-t*Math.cos(M),P=t*Math.sin(M);f.x=p.x+(C*v.x+P*x.x),f.y=p.y+(C*v.y+P*x.y),f.z=p.z+(C*v.z+P*x.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(A/i),u.push(E/r)}}for(let A=1;A<=i;A++)for(let w=1;w<=r;w++){const E=(r+1)*(A-1)+(w-1),M=(r+1)*A+(w-1),C=(r+1)*A+w,P=(r+1)*(A-1)+w;a.push(E,M,P),a.push(M,C,P)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function _(A,w,E,M,C){const P=Math.cos(A),T=Math.sin(A),D=E/w*A,O=Math.cos(D);C.x=M*(2+O)*.5*P,C.y=M*(2+O)*T*.5,C.z=M*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class X_ extends Rt{constructor(e=new sT(new Y(-1,-1,0),new Y(-1,1,0),new Y(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Y,l=new Y,c=new Be;let u=new Y;const f=[],d=[],p=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(p,2));function x(){for(let A=0;A<t;A++)y(A);y(s===!1?t:0),_(),v()}function y(A){u=e.getPointAt(A/t,u);const w=o.normals[A],E=o.binormals[A];for(let M=0;M<=r;M++){const C=M/r*Math.PI*2,P=Math.sin(C),T=-Math.cos(C);l.x=T*w.x+P*E.x,l.y=T*w.y+P*E.y,l.z=T*w.z+P*E.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let A=1;A<=t;A++)for(let w=1;w<=r;w++){const E=(r+1)*(A-1)+(w-1),M=(r+1)*A+(w-1),C=(r+1)*A+w,P=(r+1)*(A-1)+w;g.push(E,M,P),g.push(M,C,P)}}function _(){for(let A=0;A<=t;A++)for(let w=0;w<=r;w++)c.x=A/t,c.y=w/r,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new X_(new aT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class kU extends Rt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Y,s=new Y;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let g=d,x=d+p;g<x;g+=3)for(let y=0;y<3;y++){const v=a.getX(g+y),_=a.getX(g+(y+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,_),YD(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),YD(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YD(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var JD=Object.freeze({__proto__:null,BoxGeometry:If,CapsuleGeometry:B_,CircleGeometry:O_,ConeGeometry:F_,CylinderGeometry:gp,DodecahedronGeometry:U_,EdgesGeometry:PU,ExtrudeGeometry:z_,IcosahedronGeometry:H_,LatheGeometry:_0,OctahedronGeometry:A0,PlaneGeometry:eu,PolyhedronGeometry:tu,RingGeometry:G_,ShapeGeometry:V_,SphereGeometry:b0,TetrahedronGeometry:W_,TorusGeometry:j_,TorusKnotGeometry:$_,TubeGeometry:X_,WireframeGeometry:kU});class BU extends gi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class OU extends Ia{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class w0 extends gi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fa extends w0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class FU extends gi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UU extends gi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class NU extends gi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class zU extends gi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HU extends gi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zc,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GU extends br{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ro(n,e,t){return lT(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ku(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function lT(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function VU(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function pE(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function cT(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function nZ(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*r;if(!(g<t||g>=i)){f.push(c.times[p]);for(let x=0;x<u;++x)d.push(c.values[p*u+x])}}f.length!==0&&(c.times=Ku(f,c.times.constructor),c.values=Ku(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function iZ(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=a.times.length-1;let x;if(s<=a.times[0]){const v=u,_=f-u;x=ro(a.values,v,_)}else if(s>=a.times[g]){const v=g*f+u,_=v+f-u;x=ro(a.values,v,_)}else{const v=a.createInterpolant(),_=u,A=f-u;v.evaluate(s),x=ro(v.resultBuffer,_,A)}l==="quaternion"&&new oi().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let v=0;v<y;++v){const _=v*p+d;if(l==="quaternion")oi.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const A=p-d*2;for(let w=0;w<A;++w)c.values[_+w]-=x[w]}}}return n.blendMode=UC,n}const rZ={arraySlice:ro,convertArray:Ku,isTypedArray:lT,getKeyframeOrder:VU,sortedArray:pE,flattenJSON:cT,subclip:nZ,makeClipAdditive:iZ};class vp{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WU extends vp{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xu,endingEnd:Xu}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Yu:s=e,a=2*t-i;break;case Fg:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Yu:o=e,l=2*i-t;break;case Fg:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(i-t)/(r-t),x=g*g,y=x*g,v=-d*y+2*d*x-d*g,_=(1+d)*y+(-1.5-2*d)*x+(-.5+d)*g+1,A=(-1-p)*y+(1.5+p)*x+.5*g,w=p*y-p*x;for(let E=0;E!==a;++E)s[E]=v*o[u+E]+_*o[c+E]+A*o[l+E]+w*o[f+E];return s}}class uT extends vp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class jU extends vp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class na{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ku(t,this.TimeBufferType),this.values=Ku(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ku(e.times,Array),values:Ku(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new jU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new uT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fh:t=this.InterpolantFactoryMethodDiscrete;break;case _f:t=this.InterpolantFactoryMethodLinear;break;case w1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fh;case this.InterpolantFactoryMethodLinear:return _f;case this.InterpolantFactoryMethodSmooth:return w1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ro(i,s,o),this.values=ro(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&lT(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ro(this.times),t=ro(this.values),i=this.getValueSize(),r=this.getInterpolation()===w1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,d=f-i,p=f+i;for(let g=0;g!==i;++g){const x=t[f+g];if(x!==t[d+g]||x!==t[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,d=o*i;for(let p=0;p!==i;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=ro(e,0,o),this.values=ro(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=ro(this.times,0),t=ro(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}na.prototype.TimeBufferType=Float32Array;na.prototype.ValueBufferType=Float32Array;na.prototype.DefaultInterpolation=_f;class Df extends na{}Df.prototype.ValueTypeName="bool";Df.prototype.ValueBufferType=Array;Df.prototype.DefaultInterpolation=Fh;Df.prototype.InterpolantFactoryMethodLinear=void 0;Df.prototype.InterpolantFactoryMethodSmooth=void 0;class fT extends na{}fT.prototype.ValueTypeName="color";class Gh extends na{}Gh.prototype.ValueTypeName="number";class $U extends vp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)oi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Vc extends na{InterpolantFactoryMethodLinear(e){return new $U(this.times,this.values,this.getValueSize(),e)}}Vc.prototype.ValueTypeName="quaternion";Vc.prototype.DefaultInterpolation=_f;Vc.prototype.InterpolantFactoryMethodSmooth=void 0;class Lf extends na{}Lf.prototype.ValueTypeName="string";Lf.prototype.ValueBufferType=Array;Lf.prototype.DefaultInterpolation=Fh;Lf.prototype.InterpolantFactoryMethodLinear=void 0;Lf.prototype.InterpolantFactoryMethodSmooth=void 0;class Vh extends na{}Vh.prototype.ValueTypeName="vector";class Wh{constructor(e,t=-1,i,r=b_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ts(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(oZ(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(na.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=VU(l);l=pE(l,1,u),c=pE(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Gh(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=r[f];d||(r[f]=d=[]),d.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,d,p,g,x){if(p.length!==0){const y=[],v=[];cT(p,y,v,g),y.length!==0&&x.push(new f(d,y,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let x=0;x<d[g].morphTargets.length;x++)p[d[g].morphTargets[x]]=-1;for(const x in p){const y=[],v=[];for(let _=0;_!==d[g].morphTargets.length;++_){const A=d[g];y.push(A.time),v.push(A.morphTarget===x?1:0)}r.push(new Gh(".morphTargetInfluence["+x+"]",y,v))}l=p.length*o}else{const p=".bones["+t[f].name+"]";i(Vh,p+".position",d,"pos",r),i(Vc,p+".quaternion",d,"rot",r),i(Vh,p+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sZ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gh;case"vector":case"vector2":case"vector3":case"vector4":return Vh;case"color":return fT;case"quaternion":return Vc;case"bool":case"boolean":return Df;case"string":return Lf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function oZ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sZ(n.type);if(n.times===void 0){const t=[],i=[];cT(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const wf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class dT{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],g=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const XU=new dT;class wr{constructor(e){this.manager=e!==void 0?e:XU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}wr.DEFAULT_MATERIAL_NAME="__DEFAULT";const el={};class aZ extends Error{constructor(e,t){super(e),this.response=t}}class Ds extends wr{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(el[e]!==void 0){el[e].push({onLoad:t,onProgress:i,onError:r});return}el[e]=[],el[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=el[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=d?parseInt(d):0,g=p!==0;let x=0;const y=new ReadableStream({start(v){_();function _(){f.read().then(({done:A,value:w})=>{if(A)v.close();else{x+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:p});for(let M=0,C=u.length;M<C;M++){const P=u[M];P.onProgress&&P.onProgress(E)}v.enqueue(w),_()}})}}});return new Response(y)}else throw new aZ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{wf.add(e,c);const u=el[e];delete el[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=el[e];if(u===void 0)throw this.manager.itemError(e),c;delete el[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ds(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Wh.parse(e[i]);t.push(r)}return t}}class cZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new tT,l=new Ds(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=bn),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+x]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=bn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class jg extends wr{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=zg("img");function l(){u(),wf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class uZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=new v0;s.colorSpace=It;const o=new jg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class fZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new gh,a=new Ds(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Yi,o.wrapT=c.wrapT!==void 0?c.wrapT:Yi,o.magFilter=c.magFilter!==void 0?c.magFilter:bn,o.minFilter=c.minFilter!==void 0?c.minFilter:bn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Pa),c.mipmapCount===1&&(o.minFilter=bn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class YU extends wr{constructor(e){super(e)}load(e,t,i,r){const s=new Mn,o=new jg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class nu extends Lt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class JU extends nu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const hw=new At,KD=new Y,qD=new Y;class hT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Be(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new S_,this._frameExtents=new Be(1,1),this._viewportCount=1,this._viewports=[new Wt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;KD.setFromMatrixPosition(e.matrixWorld),t.position.copy(KD),qD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(qD),t.updateMatrixWorld(),hw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hw),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(hw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class dZ extends hT{constructor(){super(new In(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Uh*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pT extends nu{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new dZ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const QD=new At,dm=new Y,pw=new Y;class hZ extends hT{constructor(){super(new In(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Be(4,2),this._viewportCount=6,this._viewports=[new Wt(2,1,1,1),new Wt(0,1,1,1),new Wt(3,1,1,1),new Wt(1,1,1,1),new Wt(3,0,1,1),new Wt(1,0,1,1)],this._cubeDirections=[new Y(1,0,0),new Y(-1,0,0),new Y(0,0,1),new Y(0,0,-1),new Y(0,1,0),new Y(0,-1,0)],this._cubeUps=[new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,0,1),new Y(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),dm.setFromMatrixPosition(e.matrixWorld),i.position.copy(dm),pw.copy(i.position),pw.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(pw),i.updateMatrixWorld(),r.makeTranslation(-dm.x,-dm.y,-dm.z),QD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QD)}}class mT extends nu{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new hZ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class pZ extends hT{constructor(){super(new Go(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gT extends nu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new pZ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class KU extends nu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class qU extends nu{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class QU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Y)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Y_ extends nu{constructor(e=new QU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class J_ extends wr{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ds(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=J_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ke().setHex(o.value);break;case"v2":r.uniforms[s].value=new Be().fromArray(o.value);break;case"v3":r.uniforms[s].value=new Y().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Wt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Dt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new At().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Be().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Be().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:BU,SpriteMaterial:qC,RawShaderMaterial:OU,ShaderMaterial:Ia,PointsMaterial:I_,MeshPhysicalMaterial:Fa,MeshStandardMaterial:w0,MeshPhongMaterial:FU,MeshToonMaterial:UU,MeshNormalMaterial:NU,MeshLambertMaterial:zU,MeshDepthMaterial:M_,MeshDistanceMaterial:C_,MeshBasicMaterial:es,MeshMatcapMaterial:HU,LineDashedMaterial:GU,LineBasicMaterial:br,Material:gi};return new t[e]}}class Ca{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vT extends Rt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ZU extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ds(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(p,g){if(t[g]!==void 0)return t[g];const y=p.interleavedBuffers[g],v=s(p,y.buffer),_=Kd(y.type,v),A=new y0(_,y.stride);return A.uuid=y.uuid,t[g]=A,A}function s(p,g){if(i[g]!==void 0)return i[g];const y=p.arrayBuffers[g],v=new Uint32Array(y).buffer;return i[g]=v,v}const o=e.isInstancedBufferGeometry?new vT:new Rt,a=e.data.index;if(a!==void 0){const p=Kd(a.type,a.array);o.setIndex(new en(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let x;if(g.isInterleavedBufferAttribute){const y=r(e.data,g.data);x=new Gc(y,g.itemSize,g.offset,g.normalized)}else{const y=Kd(g.type,g.array),v=g.isInstancedBufferAttribute?Af:en;x=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),g.updateRange!==void 0&&(x.updateRange.offset=g.updateRange.offset,x.updateRange.count=g.updateRange.count),o.setAttribute(p,x)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],x=[];for(let y=0,v=g.length;y<v;y++){const _=g[y];let A;if(_.isInterleavedBufferAttribute){const w=r(e.data,_.data);A=new Gc(w,_.itemSize,_.offset,_.normalized)}else{const w=Kd(_.type,_.array);A=new en(w,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),x.push(A)}o.morphAttributes[p]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const x=f[p];o.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new Y;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new Fs(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class mZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ca.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ds(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ca.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ds(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new rf().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new x0().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new ZU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in JD?a=JD[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new J_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Wh.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Kd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new dT(t);s=new jg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let g=0,x=d.length;g<x;g++){const y=d[g],v=a(y);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new gh(v.data,v.width,v.height)))}r[f.uuid]=new Ju(p)}else{const p=a(f.url);r[f.uuid]=new Ju(p)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Kd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new jg(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new gh(g.data,g.width,g.height)))}i[l.uuid]=new Ju(u)}else{const u=await s(l.url);i[l.uuid]=new Ju(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new v0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new gh:u=new Mn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,gZ)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],ZD),u.wrapT=i(a.wrap[1],ZD)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,eL)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,eL)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,x=d.length;g<x;g++){const y=d[g];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(i[y])}return p}return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),i[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let u,f;switch(e.type){case"Scene":o=new Hh,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new R_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new T_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new In(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Go(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new KU(e.color,e.intensity);break;case"DirectionalLight":o=new gT(e.color,e.intensity);break;case"PointLight":o=new mT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new pT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new JU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Y_().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new QC(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Qn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new ZC(u,f,d),o.instanceMatrix=new Af(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new Af(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new SU;break;case"Line":o=new Rl(a(e.geometry),l(e.material));break;case"LineLoop":o=new eT(a(e.geometry),l(e.material));break;case"LineSegments":o=new ea(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new D_(a(e.geometry),l(e.material));break;case"Sprite":o=new wU(l(e.material));break;case"Group":o=new pl;break;case"Bone":o=new P_;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,i,r,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],x=o.getObjectByProperty("uuid",g.object);x!==void 0&&o.addLevel(x,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const gZ={UVMapping:x_,CubeReflectionMapping:Nc,CubeRefractionMapping:zc,EquirectangularReflectionMapping:kg,EquirectangularRefractionMapping:Bg,CubeUVReflectionMapping:dp},ZD={RepeatWrapping:Hc,ClampToEdgeWrapping:Yi,MirroredRepeatWrapping:Bh},eL={NearestFilter:Kn,NearestMipmapNearestFilter:Og,NearestMipmapLinearFilter:ph,LinearFilter:bn,LinearMipmapNearestFilter:__,LinearMipmapLinearFilter:Pa};class eN extends wr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){wf.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let ky;class yT{static getContext(){return ky===void 0&&(ky=new(window.AudioContext||window.webkitAudioContext)),ky}static setContext(e){ky=e}}class vZ extends wr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ds(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);yT.getContext().decodeAudioData(c,function(f){t(f)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class yZ extends Y_{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ke().set(e),s=new Ke().set(t),o=new Y(r.r,r.g,r.b),a=new Y(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class xZ extends Y_{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ke().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const tL=new At,nL=new At,wu=new At;class _Z{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new In,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new In,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,wu.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(tf*t.fov*.5)/t.zoom;let a,l;nL.elements[12]=-r,tL.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,wu.elements[0]=2*t.near/(l-a),wu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(wu),a=-o*t.aspect-s,l=o*t.aspect-s,wu.elements[0]=2*t.near/(l-a),wu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(wu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tL)}}class xT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=iL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=iL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function iL(){return(typeof performance>"u"?Date:performance).now()}const Su=new Y,rL=new oi,AZ=new Y,Eu=new Y;class bZ extends Lt{constructor(){super(),this.type="AudioListener",this.context=yT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Su,rL,AZ),Eu.set(0,0,-1).applyQuaternion(rL),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Su.x,r),t.positionY.linearRampToValueAtTime(Su.y,r),t.positionZ.linearRampToValueAtTime(Su.z,r),t.forwardX.linearRampToValueAtTime(Eu.x,r),t.forwardY.linearRampToValueAtTime(Eu.y,r),t.forwardZ.linearRampToValueAtTime(Eu.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Su.x,Su.y,Su.z),t.setOrientation(Eu.x,Eu.y,Eu.z,i.x,i.y,i.z)}}class tN extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Mu=new Y,sL=new oi,wZ=new Y,Cu=new Y;class SZ extends tN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mu,sL,wZ),Cu.set(0,0,1).applyQuaternion(sL);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mu.x,i),t.positionY.linearRampToValueAtTime(Mu.y,i),t.positionZ.linearRampToValueAtTime(Mu.z,i),t.orientationX.linearRampToValueAtTime(Cu.x,i),t.orientationY.linearRampToValueAtTime(Cu.y,i),t.orientationZ.linearRampToValueAtTime(Cu.z,i)}else t.setPosition(Mu.x,Mu.y,Mu.z),t.setOrientation(Cu.x,Cu.y,Cu.z)}}class EZ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class nN{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){oi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;oi.multiplyQuaternionsFlat(e,o,e,t,e,i),oi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const _T="\\[\\]\\.:\\/",MZ=new RegExp("["+_T+"]","g"),AT="[^"+_T+"]",CZ="[^"+_T.replace("\\.","")+"]",TZ=/((?:WC+[\/:])*)/.source.replace("WC",AT),RZ=/(WCOD+)?/.source.replace("WCOD",CZ),PZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AT),IZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AT),DZ=new RegExp("^"+TZ+RZ+PZ+IZ+"$"),LZ=["material","materials","bones","map"];class kZ{constructor(e,t,i){const r=i||Xt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Xt{constructor(e,t,i){this.path=t,this.parsedPath=i||Xt.parseTrackName(t),this.node=Xt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Xt.Composite(e,t,i):new Xt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(MZ,"")}static parseTrackName(e){const t=DZ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);LZ.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Xt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xt.Composite=kZ;Xt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xt.prototype.GetterByBindingType=[Xt.prototype._getValue_direct,Xt.prototype._getValue_array,Xt.prototype._getValue_arrayElement,Xt.prototype._getValue_toArray];Xt.prototype.SetterByBindingTypeAndVersioning=[[Xt.prototype._setValue_direct,Xt.prototype._setValue_direct_setNeedsUpdate,Xt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_array,Xt.prototype._setValue_array_setNeedsUpdate,Xt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_arrayElement,Xt.prototype._setValue_arrayElement_setNeedsUpdate,Xt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_fromArray,Xt.prototype._setValue_fromArray_setNeedsUpdate,Xt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class BZ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(d);for(let x=0,y=o;x!==y;++x)s[x].push(new Xt(d,i[x],r[x]))}else if(g<c){a=e[g];const x=--c,y=e[x];t[y.uuid]=g,e[g]=y,t[p]=x,e[x]=d;for(let v=0,_=o;v!==_;++v){const A=s[v],w=A[x];let E=A[g];A[g]=w,E===void 0&&(E=new Xt(d,i[v],r[v])),A[x]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let p=0,g=r;p!==g;++p){const x=i[p],y=x[f],v=x[u];x[u]=y,x[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,p=e[d],g=--o,x=e[g];t[p.uuid]=f,e[f]=p,t[x.uuid]=d,e[d]=x,e.pop();for(let y=0,v=r;y!==v;++y){const _=i[y],A=_[d],w=_[g];_[f]=A,_[d]=w,_.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let g=0,x=r;g!==x;++g){const y=i[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(f);for(let d=u,p=l.length;d!==p;++d){const g=l[d];f[d]=new Xt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class iN{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Xu,endingEnd:Xu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=X9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UC:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case b_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Y9;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===$9){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Yu,r.endingEnd=Yu):(e?r.endingStart=this.zeroSlopeAtStart?Yu:Xu:r.endingStart=Fg,t?r.endingEnd=this.zeroSlopeAtEnd?Yu:Xu:r.endingEnd=Fg)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const OZ=new Float32Array(1);class FZ extends Oa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=r[f],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const x=t&&t._propertyBindings[f].binding.parsedPath;g=new nN(Xt.create(i,p,x),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new uT(new Float32Array(2),new Float32Array(2),1,OZ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Wh.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=b_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new iN(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Wh.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class bT{constructor(e){this.value=e}clone(){return new bT(this.value.clone===void 0?this.value:this.value.clone())}}let UZ=0;class NZ extends Oa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:UZ++}),this.name="",this.usage=Ug,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class zZ extends y0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class HZ{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class rN{constructor(e,t,i=0,r=1/0){this.ray=new hp(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new nf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return mE(e,this,i,t),i.sort(oL),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)mE(e[r],this,i,t);return i.sort(oL),i}}function oL(n,e){return n.distance-e.distance}function mE(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)mE(r[s],e,t,!0)}}class gx{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class GZ{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const aL=new Be;class VZ{constructor(e=new Be(1/0,1/0),t=new Be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=aL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lL=new Y,By=new Y;class WZ{constructor(e=new Y,t=new Y){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){lL.subVectors(e,this.start),By.subVectors(this.end,this.start);const i=By.dot(By);let s=By.dot(lL)/i;return t&&(s=qn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const cL=new Y;class jZ extends Lt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Rt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new at(r,3));const s=new br({fog:!1,toneMapped:!1});this.cone=new ea(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),cL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const tc=new Y,Oy=new At,mw=new At;class $Z extends ea{constructor(e){const t=sN(e),i=new Rt,r=[],s=[],o=new Ke(0,0,1),a=new Ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new at(r,3)),i.setAttribute("color",new at(s,3));const l=new br({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");mw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Oy.multiplyMatrices(mw,a.matrixWorld),tc.setFromMatrixPosition(Oy),r.setXYZ(o,tc.x,tc.y,tc.z),Oy.multiplyMatrices(mw,a.parent.matrixWorld),tc.setFromMatrixPosition(Oy),r.setXYZ(o+1,tc.x,tc.y,tc.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function sN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,sN(n.children[t]));return e}class XZ extends Qn{constructor(e,t,i){const r=new b0(t,4,2),s=new es({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const YZ=new Y,uL=new Ke,fL=new Ke;class JZ extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new A0(t);r.rotateY(Math.PI*.5),this.material=new es({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new en(o,3)),this.add(new Qn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");uL.copy(this.light.color),fL.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?uL:fL;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(YZ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class KZ extends ea{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ke(i),r=new Ke(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const x=d===s?i:r;x.toArray(c,p),p+=3,x.toArray(c,p),p+=3,x.toArray(c,p),p+=3,x.toArray(c,p),p+=3}const u=new Rt;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));const f=new br({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class qZ extends ea{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ke(s),o=new Ke(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,g);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<i;f++){const d=f&1?s:o,p=e-e/i*f;for(let g=0;g<r;g++){let x=g/r*(Math.PI*2),y=Math.sin(x)*p,v=Math.cos(x)*p;a.push(y,0,v),l.push(d.r,d.g,d.b),x=(g+1)/r*(Math.PI*2),y=Math.sin(x)*p,v=Math.cos(x)*p,a.push(y,0,v),l.push(d.r,d.g,d.b)}}const c=new Rt;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));const u=new br({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dL=new Y,Fy=new Y,hL=new Y;class QZ extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Rt;r.setAttribute("position",new at([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new br({fog:!1,toneMapped:!1});this.lightPlane=new Rl(r,s),this.add(this.lightPlane),r=new Rt,r.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Rl(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dL.setFromMatrixPosition(this.light.matrixWorld),Fy.setFromMatrixPosition(this.light.target.matrixWorld),hL.subVectors(Fy,dL),this.lightPlane.lookAt(Fy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fy),this.targetLine.scale.z=hL.length()}}const Uy=new Y,Xn=new g0;class ZZ extends ea{constructor(e){const t=new Rt,i=new br({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,x){l(g),l(x)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new at(r,3)),t.setAttribute("color",new at(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ke(16755200),u=new Ke(16711680),f=new Ke(43775),d=new Ke(16777215),p=new Ke(3355443);this.setColors(c,u,f,d,p)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Xn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ii("c",t,e,Xn,0,0,-1),ii("t",t,e,Xn,0,0,1),ii("n1",t,e,Xn,-i,-r,-1),ii("n2",t,e,Xn,i,-r,-1),ii("n3",t,e,Xn,-i,r,-1),ii("n4",t,e,Xn,i,r,-1),ii("f1",t,e,Xn,-i,-r,1),ii("f2",t,e,Xn,i,-r,1),ii("f3",t,e,Xn,-i,r,1),ii("f4",t,e,Xn,i,r,1),ii("u1",t,e,Xn,i*.7,r*1.1,-1),ii("u2",t,e,Xn,-i*.7,r*1.1,-1),ii("u3",t,e,Xn,0,r*2,-1),ii("cf1",t,e,Xn,-i,0,1),ii("cf2",t,e,Xn,i,0,1),ii("cf3",t,e,Xn,0,-r,1),ii("cf4",t,e,Xn,0,r,1),ii("cn1",t,e,Xn,-i,0,-1),ii("cn2",t,e,Xn,i,0,-1),ii("cn3",t,e,Xn,0,-r,-1),ii("cn4",t,e,Xn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ii(n,e,t,i,r,s,o){Uy.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Uy.x,Uy.y,Uy.z)}}const Ny=new bo;class eee extends ea{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Rt;s.setIndex(new en(i,1)),s.setAttribute("position",new en(r,3)),super(s,new br({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ny.setFromObject(this.object),Ny.isEmpty())return;const t=Ny.min,i=Ny.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tee extends ea{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rt;s.setIndex(new en(i,1)),s.setAttribute("position",new at(r,3)),super(s,new br({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nee extends Rl{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Rt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new br({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new Qn(l,new es({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const pL=new Y;let zy,gw;class iee extends Lt{constructor(e=new Y(0,0,1),t=new Y(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",zy===void 0&&(zy=new Rt,zy.setAttribute("position",new at([0,0,0,0,1,0],3)),gw=new gp(0,.5,1,5,1),gw.translate(0,-.5,0)),this.position.copy(t),this.line=new Rl(zy,new br({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qn(gw,new es({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{pL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(pL,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ree extends ea{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Rt;r.setAttribute("position",new at(t,3)),r.setAttribute("color",new at(i,3));const s=new br({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ke,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class see{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Hg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const _=[];for(let A=0,w=v.length;A<w;A++){const E=v[A],M=new rf;M.curves=E.curves,_.push(M)}return _}function i(v,_){const A=_.length;let w=!1;for(let E=A-1,M=0;M<A;E=M++){let C=_[E],P=_[M],T=P.x-C.x,D=P.y-C.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(C=_[M],T=-T,P=_[E],D=-D),v.y<C.y||v.y>P.y)continue;if(v.y===C.y){if(v.x===C.x)return!0}else{const O=D*(v.x-C.x)-T*(v.y-C.y);if(O===0)return!0;if(O<0)continue;w=!w}}else{if(v.y!==C.y)continue;if(P.x<=v.x&&v.x<=C.x||C.x<=v.x&&v.x<=P.x)return!0}}return w}const r=Ma.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new rf,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],g=0,x;d[g]=void 0,p[g]=[];for(let v=0,_=s.length;v<_;v++)a=s[v],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new rf,p:x},d[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:x[0]});if(!d[0])return t(s);if(d.length>1){let v=!1,_=0;for(let A=0,w=d.length;A<w;A++)f[A]=[];for(let A=0,w=d.length;A<w;A++){const E=p[A];for(let M=0;M<E.length;M++){const C=E[M];let P=!0;for(let T=0;T<d.length;T++)i(C.p,d[T].p)&&(A!==T&&_++,P?(P=!1,f[T].push(C)):v=!0);P&&f[A].push(C)}}_>0&&v===!1&&(p=f)}let y;for(let v=0,_=d.length;v<_;v++){l=d[v].s,c.push(l),y=p[v];for(let A=0,w=y.length;A<w;A++)l.holes.push(y[A].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p0);const oee=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:IC,AddEquation:zu,AddOperation:D9,AdditiveAnimationBlendMode:UC,AdditiveBlending:L2,AlphaFormat:N9,AlwaysCompare:oU,AlwaysDepth:E9,AlwaysStencilFunc:Q9,AmbientLight:KU,AmbientLightProbe:xZ,AnimationAction:iN,AnimationClip:Wh,AnimationLoader:lZ,AnimationMixer:FZ,AnimationObjectGroup:BZ,AnimationUtils:rZ,ArcCurve:EU,ArrayCamera:xU,ArrowHelper:iee,Audio:tN,AudioAnalyser:EZ,AudioContext:yT,AudioListener:bZ,AudioLoader:vZ,AxesHelper:ree,BackSide:mr,BasicDepthPacking:K9,BasicShadowMap:f9,Bone:P_,BooleanKeyframeTrack:Df,Box2:VZ,Box3:bo,Box3Helper:tee,BoxGeometry:If,BoxHelper:eee,BufferAttribute:en,BufferGeometry:Rt,BufferGeometryLoader:ZU,ByteType:F9,Cache:wf,Camera:g0,CameraHelper:ZZ,CanvasTexture:TQ,CapsuleGeometry:B_,CatmullRomCurve3:MU,CineonToneMapping:B9,CircleGeometry:O_,ClampToEdgeWrapping:Yi,Clock:xT,Color:Ke,ColorKeyframeTrack:fT,ColorManagement:Zs,CompressedArrayTexture:CQ,CompressedTexture:tT,CompressedTextureLoader:cZ,ConeGeometry:F_,CubeCamera:fU,CubeReflectionMapping:Nc,CubeRefractionMapping:zc,CubeTexture:v0,CubeTextureLoader:uZ,CubeUVReflectionMapping:dp,CubicBezierCurve:iT,CubicBezierCurve3:CU,CubicInterpolant:WU,CullFaceBack:D2,CullFaceFront:u9,CullFaceFrontBack:M$,CullFaceNone:c9,Curve:ta,CurvePath:RU,CustomBlending:d9,CustomToneMapping:O9,CylinderGeometry:gp,Cylindrical:GZ,Data3DTexture:jC,DataArrayTexture:w_,DataTexture:gh,DataTextureLoader:fZ,DataUtils:kX,DecrementStencilOp:B$,DecrementWrapStencilOp:F$,DefaultLoadingManager:XU,DepthFormat:Tc,DepthStencilFormat:xf,DepthTexture:_U,DirectionalLight:gT,DirectionalLightHelper:QZ,DiscreteInterpolant:jU,DisplayP3ColorSpace:GC,DodecahedronGeometry:U_,DoubleSide:Kr,DstAlphaFactor:x9,DstColorFactor:A9,DynamicCopyUsage:q$,DynamicDrawUsage:E1,DynamicReadUsage:Y$,EdgesGeometry:PU,EllipseCurve:L_,EqualCompare:tU,EqualDepth:C9,EqualStencilFunc:H$,EquirectangularReflectionMapping:kg,EquirectangularRefractionMapping:Bg,Euler:pp,EventDispatcher:Oa,ExtrudeGeometry:z_,FileLoader:Ds,Float16BufferAttribute:zX,Float32BufferAttribute:at,Float64BufferAttribute:HX,FloatType:_a,Fog:R_,FogExp2:T_,FramebufferTexture:MQ,FrontSide:Xo,Frustum:S_,GLBufferAttribute:HZ,GLSL1:Z$,GLSL3:aE,GreaterCompare:iU,GreaterDepth:R9,GreaterEqualCompare:sU,GreaterEqualDepth:T9,GreaterEqualStencilFunc:j$,GreaterStencilFunc:V$,GridHelper:KZ,Group:pl,HalfFloatType:Oh,HemisphereLight:JU,HemisphereLightHelper:JZ,HemisphereLightProbe:yZ,IcosahedronGeometry:H_,ImageBitmapLoader:eN,ImageLoader:jg,ImageUtils:WC,IncrementStencilOp:k$,IncrementWrapStencilOp:O$,InstancedBufferAttribute:Af,InstancedBufferGeometry:vT,InstancedInterleavedBuffer:zZ,InstancedMesh:ZC,Int16BufferAttribute:UX,Int32BufferAttribute:NX,Int8BufferAttribute:BX,IntType:DC,InterleavedBuffer:y0,InterleavedBufferAttribute:Gc,Interpolant:vp,InterpolateDiscrete:Fh,InterpolateLinear:_f,InterpolateSmooth:w1,InvertStencilOp:U$,KeepStencilOp:S1,KeyframeTrack:na,LOD:SU,LatheGeometry:_0,Layers:nf,LessCompare:eU,LessDepth:M9,LessEqualCompare:nU,LessEqualDepth:dx,LessEqualStencilFunc:G$,LessStencilFunc:z$,Light:nu,LightProbe:Y_,Line:Rl,Line3:WZ,LineBasicMaterial:br,LineCurve:k_,LineCurve3:TU,LineDashedMaterial:GU,LineLoop:eT,LineSegments:ea,LinearEncoding:zC,LinearFilter:bn,LinearInterpolant:uT,LinearMipMapLinearFilter:I$,LinearMipMapNearestFilter:P$,LinearMipmapLinearFilter:Pa,LinearMipmapNearestFilter:__,LinearSRGBColorSpace:Yo,LinearToneMapping:L9,Loader:wr,LoaderUtils:Ca,LoadingManager:dT,LoopOnce:$9,LoopPingPong:Y9,LoopRepeat:X9,LuminanceAlphaFormat:H9,LuminanceFormat:z9,MOUSE:Bu,Material:gi,MaterialLoader:J_,MathUtils:Nh,Matrix3:Dt,Matrix4:At,MaxEquation:F2,Mesh:Qn,MeshBasicMaterial:es,MeshDepthMaterial:M_,MeshDistanceMaterial:C_,MeshLambertMaterial:zU,MeshMatcapMaterial:HU,MeshNormalMaterial:NU,MeshPhongMaterial:FU,MeshPhysicalMaterial:Fa,MeshStandardMaterial:w0,MeshToonMaterial:UU,MinEquation:O2,MirroredRepeatWrapping:Bh,MixOperation:I9,MultiplyBlending:B2,MultiplyOperation:m0,NearestFilter:Kn,NearestMipMapLinearFilter:R$,NearestMipMapNearestFilter:T$,NearestMipmapLinearFilter:ph,NearestMipmapNearestFilter:Og,NeverCompare:Z9,NeverDepth:S9,NeverStencilFunc:N$,NoBlending:gl,NoColorSpace:Pc,NoToneMapping:Ho,NormalAnimationBlendMode:b_,NormalBlending:vl,NotEqualCompare:rU,NotEqualDepth:P9,NotEqualStencilFunc:W$,NumberKeyframeTrack:Gh,Object3D:Lt,ObjectLoader:mZ,ObjectSpaceNormalMap:q9,OctahedronGeometry:A0,OneFactor:g9,OneMinusDstAlphaFactor:_9,OneMinusDstColorFactor:b9,OneMinusSrcAlphaFactor:PC,OneMinusSrcColorFactor:y9,OrthographicCamera:Go,PCFShadowMap:y_,PCFSoftShadowMap:Jm,PMREMGenerator:cE,Path:Hg,PerspectiveCamera:In,Plane:oc,PlaneGeometry:eu,PlaneHelper:nee,PointLight:mT,PointLightHelper:XZ,Points:D_,PointsMaterial:I_,PolarGridHelper:qZ,PolyhedronGeometry:tu,PositionalAudio:SZ,PropertyBinding:Xt,PropertyMixer:nN,QuadraticBezierCurve:rT,QuadraticBezierCurve3:sT,Quaternion:oi,QuaternionKeyframeTrack:Vc,QuaternionLinearInterpolant:$U,RED_GREEN_RGTC2_Format:sE,RED_RGTC1_Format:j9,REVISION:p0,RGBADepthPacking:HC,RGBAFormat:qr,RGBAIntegerFormat:FC,RGBA_ASTC_10x10_Format:tE,RGBA_ASTC_10x5_Format:Q2,RGBA_ASTC_10x6_Format:Z2,RGBA_ASTC_10x8_Format:eE,RGBA_ASTC_12x10_Format:nE,RGBA_ASTC_12x12_Format:iE,RGBA_ASTC_4x4_Format:W2,RGBA_ASTC_5x4_Format:j2,RGBA_ASTC_5x5_Format:$2,RGBA_ASTC_6x5_Format:X2,RGBA_ASTC_6x6_Format:Y2,RGBA_ASTC_8x5_Format:J2,RGBA_ASTC_8x6_Format:K2,RGBA_ASTC_8x8_Format:q2,RGBA_BPTC_Format:b1,RGBA_ETC2_EAC_Format:V2,RGBA_PVRTC_2BPPV1_Format:H2,RGBA_PVRTC_4BPPV1_Format:z2,RGBA_S3TC_DXT1_Format:x1,RGBA_S3TC_DXT3_Format:_1,RGBA_S3TC_DXT5_Format:A1,RGB_ETC1_Format:W9,RGB_ETC2_Format:G2,RGB_PVRTC_2BPPV1_Format:N2,RGB_PVRTC_4BPPV1_Format:U2,RGB_S3TC_DXT1_Format:y1,RGFormat:V9,RGIntegerFormat:OC,RawShaderMaterial:OU,Ray:hp,Raycaster:rN,RectAreaLight:qU,RedFormat:G9,RedIntegerFormat:BC,ReinhardToneMapping:k9,RepeatWrapping:Hc,ReplaceStencilOp:L$,ReverseSubtractEquation:p9,RingGeometry:G_,SIGNED_RED_GREEN_RGTC2_Format:oE,SIGNED_RED_RGTC1_Format:rE,SRGBColorSpace:It,Scene:Hh,ShaderChunk:Pt,ShaderLib:Fo,ShaderMaterial:Ia,ShadowMaterial:BU,Shape:rf,ShapeGeometry:V_,ShapePath:see,ShapeUtils:Ma,ShortType:U9,Skeleton:x0,SkeletonHelper:$Z,SkinnedMesh:QC,Source:Ju,Sphere:Fs,SphereGeometry:b0,Spherical:gx,SphericalHarmonics3:QU,SplineCurve:oT,SpotLight:pT,SpotLightHelper:jZ,Sprite:wU,SpriteMaterial:qC,SrcAlphaFactor:RC,SrcAlphaSaturateFactor:w9,SrcColorFactor:v9,StaticCopyUsage:K$,StaticDrawUsage:Ug,StaticReadUsage:X$,StereoCamera:_Z,StreamCopyUsage:Q$,StreamDrawUsage:$$,StreamReadUsage:J$,StringKeyframeTrack:Lf,SubtractEquation:h9,SubtractiveBlending:k2,TOUCH:Ou,TangentSpaceNormalMap:Zc,TetrahedronGeometry:W_,Texture:Mn,TextureLoader:YU,TorusGeometry:j_,TorusKnotGeometry:$_,Triangle:Yr,TriangleFanDrawMode:hx,TriangleStripDrawMode:NC,TrianglesDrawMode:J9,TubeGeometry:X_,TwoPassDoubleSide:C$,UVMapping:x_,Uint16BufferAttribute:$C,Uint32BufferAttribute:XC,Uint8BufferAttribute:OX,Uint8ClampedBufferAttribute:FX,Uniform:bT,UniformsGroup:NZ,UniformsLib:qe,UniformsUtils:YC,UnsignedByteType:Ea,UnsignedInt248Type:Cc,UnsignedIntType:hl,UnsignedShort4444Type:LC,UnsignedShort5551Type:kC,UnsignedShortType:A_,VSMShadowMap:ko,Vector2:Be,Vector3:Y,Vector4:Wt,VectorKeyframeTrack:Vh,VideoTexture:EQ,WebGL1Renderer:AU,WebGL3DRenderTarget:wX,WebGLArrayRenderTarget:bX,WebGLCoordinateSystem:Aa,WebGLCubeRenderTarget:dU,WebGLMultipleRenderTargets:SX,WebGLRenderTarget:Jo,WebGLRenderer:KC,WebGLUtils:yU,WebGPUCoordinateSystem:Ng,WireframeGeometry:kU,WrapAroundEnding:Fg,ZeroCurvatureEnding:Xu,ZeroFactor:m9,ZeroSlopeEnding:Yu,ZeroStencilOp:D$,_SRGBAFormat:px,sRGBEncoding:Rc},Symbol.toStringTag,{value:"Module"}));var oN={exports:{}},kf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */kf.ConcurrentRoot=1;kf.ContinuousEventPriority=4;kf.DefaultEventPriority=16;kf.DiscreteEventPriority=1;kf.IdleEventPriority=536870912;kf.LegacyRoot=0;oN.exports=kf;var Zd=oN.exports;function aee(n){let e;const t=new Set,i=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},r=()=>e,s=(c,u=r,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!f(d,g)){const x=d;c(d=g,x)}}return t.add(p),()=>t.delete(p)},l={setState:i,getState:r,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const lee=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),mL=lee?I.useEffect:I.useLayoutEffect;function aN(n){const e=typeof n=="function"?aee(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=I.useReducer(y=>y+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(i),c=I.useRef(r),u=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=i(o));let d,p=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(d=i(o),p=!r(f.current,d)),mL(()=>{p&&(f.current=d),a.current=o,l.current=i,c.current=r,u.current=!1});const g=I.useRef(o);mL(()=>{const y=()=>{try{const _=e.getState(),A=l.current(_);c.current(f.current,A)||(a.current=_,f.current=A,s())}catch{u.current=!0,s()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const x=p?d:f.current;return I.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var lN={exports:{}},cN={exports:{}},uN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,$){var X=H.length;H.push($);e:for(;0<X;){var F=X-1>>>1,j=H[F];if(0<r(j,$))H[F]=$,H[X]=j,X=F;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var $=H[0],X=H.pop();if(X!==$){H[0]=X;e:for(var F=0,j=H.length,se=j>>>1;F<se;){var ne=2*(F+1)-1,ie=H[ne],ce=ne+1,le=H[ce];if(0>r(ie,X))ce<j&&0>r(le,ie)?(H[F]=le,H[ce]=X,F=ce):(H[F]=ie,H[ne]=X,F=ne);else if(ce<j&&0>r(le,X))H[F]=le,H[ce]=X,F=ce;else break e}}return $}function r(H,$){var X=H.sortIndex-$.sortIndex;return X!==0?X:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var $=t(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=H)i(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(c)}}function w(H){if(x=!1,A(H),!g)if(t(l)!==null)g=!0,J(E);else{var $=t(c);$!==null&&Z(w,$.startTime-H)}}function E(H,$){g=!1,x&&(x=!1,v(P),P=-1),p=!0;var X=d;try{for(A($),f=t(l);f!==null&&(!(f.expirationTime>$)||H&&!O());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=$);$=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&i(l),A($)}else i(l);f=t(l)}if(f!==null)var se=!0;else{var ne=t(c);ne!==null&&Z(w,ne.startTime-$),se=!1}return se}finally{f=null,d=X,p=!1}}var M=!1,C=null,P=-1,T=5,D=-1;function O(){return!(n.unstable_now()-D<T)}function N(){if(C!==null){var H=n.unstable_now();D=H;var $=!0;try{$=C(!0,H)}finally{$?z():(M=!1,C=null)}}else M=!1}var z;if(typeof _=="function")z=function(){_(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=N,z=function(){W.postMessage(null)}}else z=function(){y(N,0)};function J(H){C=H,M||(M=!0,z())}function Z(H,$){P=y(function(){H(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,J(E))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var X=d;d=$;try{return H()}finally{d=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=d;d=H;try{return $()}finally{d=X}},n.unstable_scheduleCallback=function(H,$,X){var F=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=X+j,H={id:u++,callback:$,priorityLevel:H,startTime:X,expirationTime:j,sortIndex:-1},X>F?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(x?(v(P),P=-1):x=!0,Z(w,X-F))):(H.sortIndex=j,e(l,H),g||p||(g=!0,J(E))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var $=d;return function(){var X=d;d=$;try{return H.apply(this,arguments)}finally{d=X}}}})(uN);cN.exports=uN;var gE=cN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cee=function(e){var t={},i=I,r=gE,s=Object.assign;function o(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function C(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case x:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return m=h.displayName||null,m!==null?m:C(h.type)||"Memo";case A:m=h._payload,h=h._init;try{return C(h(m))}catch{}}return null}function P(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function T(h){var m=h,b=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(b=m.return),h=m.return;while(h)}return m.tag===3?b:null}function D(h){if(T(h)!==h)throw Error(o(188))}function O(h){var m=h.alternate;if(!m){if(m=T(h),m===null)throw Error(o(188));return m!==h?null:h}for(var b=h,S=m;;){var R=b.return;if(R===null)break;var L=R.alternate;if(L===null){if(S=R.return,S!==null){b=S;continue}break}if(R.child===L.child){for(L=R.child;L;){if(L===b)return D(R),h;if(L===S)return D(R),m;L=L.sibling}throw Error(o(188))}if(b.return!==S.return)b=R,S=L;else{for(var q=!1,oe=R.child;oe;){if(oe===b){q=!0,b=R,S=L;break}if(oe===S){q=!0,S=R,b=L;break}oe=oe.sibling}if(!q){for(oe=L.child;oe;){if(oe===b){q=!0,b=L,S=R;break}if(oe===S){q=!0,S=L,b=R;break}oe=oe.sibling}if(!q)throw Error(o(189))}}if(b.alternate!==S)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?h:m}function N(h){return h=O(h),h!==null?z(h):null}function z(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=z(h);if(m!==null)return m;h=h.sibling}return null}function G(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=G(h);if(m!==null)return m}h=h.sibling}return null}var W=Array.isArray,J=e.getPublicInstance,Z=e.getRootHostContext,H=e.getChildHostContext,$=e.prepareForCommit,X=e.resetAfterCommit,F=e.createInstance,j=e.appendInitialChild,se=e.finalizeInitialChildren,ne=e.prepareUpdate,ie=e.shouldSetTextContent,ce=e.createTextInstance,le=e.scheduleTimeout,ue=e.cancelTimeout,Fe=e.noTimeout,He=e.isPrimaryRenderer,ge=e.supportsMutation,V=e.supportsPersistence,_e=e.supportsHydration,de=e.getInstanceFromNode,ye=e.preparePortalMount,pe=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,ve=e.supportsMicrotasks,Pe=e.scheduleMicrotask,Le=e.supportsTestSelectors,Ee=e.findFiberRoot,$e=e.getBoundingRect,U=e.getTextContent,B=e.isHiddenSubtree,re=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Re=e.appendChild,ze=e.appendChildToContainer,Ne=e.commitTextUpdate,xe=e.commitMount,Q=e.commitUpdate,he=e.insertBefore,Me=e.insertInContainerBefore,we=e.removeChild,Oe=e.removeChildFromContainer,Ye=e.resetTextContent,dt=e.hideInstance,ee=e.hideTextInstance,Ue=e.unhideInstance,me=e.unhideTextInstance,We=e.clearContainer,Je=e.cloneInstance,wt=e.createContainerChildSet,Ft=e.appendChildToContainerChildSet,$t=e.finalizeContainerChildren,zt=e.replaceContainerChildren,tn=e.cloneHiddenInstance,Gt=e.cloneHiddenTextInstance,kt=e.canHydrateInstance,qi=e.canHydrateTextInstance,Pi=e.canHydrateSuspenseInstance,Jt=e.isSuspenseInstancePending,pn=e.isSuspenseInstanceFallback,Hi=e.registerSuspenseInstanceRetry,cn=e.getNextHydratableSibling,Dn=e.getFirstHydratableChild,vi=e.getFirstHydratableChildWithinContainer,Us=e.getFirstHydratableChildWithinSuspenseInstance,Mr=e.hydrateInstance,K=e.hydrateTextInstance,Ae=e.hydrateSuspenseInstance,De=e.getNextHydratableInstanceAfterSuspenseInstance,fe=e.commitHydratedContainer,ke=e.commitHydratedSuspenseInstance,tt=e.clearSuspenseBoundary,ht=e.clearSuspenseBoundaryFromContainer,pt=e.shouldDeleteUnhydratedTailInstances,yt=e.didNotMatchHydratedContainerTextInstance,St=e.didNotMatchHydratedTextInstance,Ve;function mt(h){if(Ve===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);Ve=m&&m[1]||""}return`
`+Ve+h}var on=!1;function nn(h,m){if(!h||on)return"";on=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Xe){var S=Xe}Reflect.construct(h,[],m)}else{try{m.call()}catch(Xe){S=Xe}h.call(m.prototype)}else{try{throw Error()}catch(Xe){S=Xe}h()}}catch(Xe){if(Xe&&S&&typeof Xe.stack=="string"){for(var R=Xe.stack.split(`
`),L=S.stack.split(`
`),q=R.length-1,oe=L.length-1;1<=q&&0<=oe&&R[q]!==L[oe];)oe--;for(;1<=q&&0<=oe;q--,oe--)if(R[q]!==L[oe]){if(q!==1||oe!==1)do if(q--,oe--,0>oe||R[q]!==L[oe]){var Ie=`
`+R[q].replace(" at new "," at ");return h.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",h.displayName)),Ie}while(1<=q&&0<=oe);break}}}finally{on=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?mt(h):""}var Qi=Object.prototype.hasOwnProperty,Gi=[],Kt=-1;function bt(h){return{current:h}}function qt(h){0>Kt||(h.current=Gi[Kt],Gi[Kt]=null,Kt--)}function xt(h,m){Kt++,Gi[Kt]=h.current,h.current=m}var yi={},Ln=bt(yi),kn=bt(!1),Vi=yi;function mn(h,m){var b=h.type.contextTypes;if(!b)return yi;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===m)return S.__reactInternalMemoizedMaskedChildContext;var R={},L;for(L in b)R[L]=m[L];return S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=R),R}function rn(h){return h=h.childContextTypes,h!=null}function Ns(){qt(kn),qt(Ln)}function ci(h,m,b){if(Ln.current!==yi)throw Error(o(168));xt(Ln,m),xt(kn,b)}function oa(h,m,b){var S=h.stateNode;if(m=m.childContextTypes,typeof S.getChildContext!="function")return b;S=S.getChildContext();for(var R in S)if(!(R in m))throw Error(o(108,P(h)||"Unknown",R));return s({},b,S)}function zs(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||yi,Vi=Ln.current,xt(Ln,h),xt(kn,kn.current),!0}function ru(h,m,b){var S=h.stateNode;if(!S)throw Error(o(169));b?(h=oa(h,m,Vi),S.__reactInternalMemoizedMergedChildContext=h,qt(kn),qt(Ln),xt(Ln,h)):qt(kn),xt(kn,b)}var Zi=Math.clz32?Math.clz32:N0,Uf=Math.log,su=Math.LN2;function N0(h){return h>>>=0,h===0?32:31-(Uf(h)/su|0)|0}var Ua=64,Na=4194304;function za(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ou(h,m){var b=h.pendingLanes;if(b===0)return 0;var S=0,R=h.suspendedLanes,L=h.pingedLanes,q=b&268435455;if(q!==0){var oe=q&~R;oe!==0?S=za(oe):(L&=q,L!==0&&(S=za(L)))}else q=b&~R,q!==0?S=za(q):L!==0&&(S=za(L));if(S===0)return 0;if(m!==0&&m!==S&&!(m&R)&&(R=S&-S,L=m&-m,R>=L||R===16&&(L&4194240)!==0))return m;if(S&4&&(S|=b&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=S;0<m;)b=31-Zi(m),R=1<<b,S|=h[b],m&=~R;return S}function z0(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(h,m){for(var b=h.suspendedLanes,S=h.pingedLanes,R=h.expirationTimes,L=h.pendingLanes;0<L;){var q=31-Zi(L),oe=1<<q,Ie=R[q];Ie===-1?(!(oe&b)||oe&S)&&(R[q]=z0(oe,m)):Ie<=m&&(h.expiredLanes|=oe),L&=~oe}}function Ha(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Nf(h){for(var m=[],b=0;31>b;b++)m.push(h);return m}function aa(h,m,b){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Zi(m),h[m]=b}function Ul(h,m){var b=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var S=h.eventTimes;for(h=h.expirationTimes;0<b;){var R=31-Zi(b),L=1<<R;m[R]=0,S[R]=-1,h[R]=-1,b&=~L}}function la(h,m){var b=h.entangledLanes|=m;for(h=h.entanglements;b;){var S=31-Zi(b),R=1<<S;R&m|h[S]&m&&(h[S]|=m),b&=~R}}var Nt=0;function Mp(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Ga=r.unstable_scheduleCallback,zf=r.unstable_cancelCallback,Cp=r.unstable_shouldYield,H0=r.unstable_requestPaint,Tn=r.unstable_now,Nl=r.unstable_ImmediatePriority,G0=r.unstable_UserBlockingPriority,Cr=r.unstable_NormalPriority,Tp=r.unstable_IdlePriority,zl=null,us=null;function Rp(h){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(zl,h,void 0,(h.current.flags&128)===128)}catch{}}function Hf(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var fs=typeof Object.is=="function"?Object.is:Hf,Tr=null,ca=!1,Hs=!1;function Pp(h){Tr===null?Tr=[h]:Tr.push(h)}function Ip(h){ca=!0,Pp(h)}function Hr(){if(!Hs&&Tr!==null){Hs=!0;var h=0,m=Nt;try{var b=Tr;for(Nt=1;h<b.length;h++){var S=b[h];do S=S(!0);while(S!==null)}Tr=null,ca=!1}catch(R){throw Tr!==null&&(Tr=Tr.slice(h+1)),Ga(Nl,Hr),R}finally{Nt=m,Hs=!1}}return null}var au=a.ReactCurrentBatchConfig;function lu(h,m){if(fs(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var b=Object.keys(h),S=Object.keys(m);if(b.length!==S.length)return!1;for(S=0;S<b.length;S++){var R=b[S];if(!Qi.call(m,R)||!fs(h[R],m[R]))return!1}return!0}function cu(h){switch(h.tag){case 5:return mt(h.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return h=nn(h.type,!1),h;case 11:return h=nn(h.type.render,!1),h;case 1:return h=nn(h.type,!0),h;default:return""}}function er(h,m){if(h&&h.defaultProps){m=s({},m),h=h.defaultProps;for(var b in h)m[b]===void 0&&(m[b]=h[b]);return m}return m}var Ii=bt(null),Gf=null,Eo=null,Hl=null;function Vf(){Hl=Eo=Gf=null}function V0(h,m,b){He?(xt(Ii,m._currentValue),m._currentValue=b):(xt(Ii,m._currentValue2),m._currentValue2=b)}function ua(h){var m=Ii.current;qt(Ii),He?h._currentValue=m:h._currentValue2=m}function ui(h,m,b){for(;h!==null;){var S=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,S!==null&&(S.childLanes|=m)):S!==null&&(S.childLanes&m)!==m&&(S.childLanes|=m),h===b)break;h=h.return}}function Di(h,m){Gf=h,Hl=Eo=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(ps=!0),h.firstContext=null)}function un(h){var m=He?h._currentValue:h._currentValue2;if(Hl!==h)if(h={context:h,memoizedValue:m,next:null},Eo===null){if(Gf===null)throw Error(o(308));Eo=h,Gf.dependencies={lanes:0,firstContext:h}}else Eo=Eo.next=h;return m}var xi=null,Mo=!1;function hA(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b3(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Va(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Gl(h,m){var b=h.updateQueue;b!==null&&(b=b.shared,fi!==null&&h.mode&1&&!(Ut&2)?(h=b.interleaved,h===null?(m.next=m,xi===null?xi=[b]:xi.push(b)):(m.next=h.next,h.next=m),b.interleaved=m):(h=b.pending,h===null?m.next=m:(m.next=h.next,h.next=m),b.pending=m))}function W0(h,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194240)!==0)){var S=m.lanes;S&=h.pendingLanes,b|=S,m.lanes=b,la(h,b)}}function w3(h,m){var b=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,b===S)){var R=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var q={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};L===null?R=L=q:L=L.next=q,b=b.next}while(b!==null);L===null?R=L=m:L=L.next=m}else R=L=m;b={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:L,shared:S.shared,effects:S.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=m}function j0(h,m,b,S){var R=h.updateQueue;Mo=!1;var L=R.firstBaseUpdate,q=R.lastBaseUpdate,oe=R.shared.pending;if(oe!==null){R.shared.pending=null;var Ie=oe,Xe=Ie.next;Ie.next=null,q===null?L=Xe:q.next=Xe,q=Ie;var rt=h.alternate;rt!==null&&(rt=rt.updateQueue,oe=rt.lastBaseUpdate,oe!==q&&(oe===null?rt.firstBaseUpdate=Xe:oe.next=Xe,rt.lastBaseUpdate=Ie))}if(L!==null){var Et=R.baseState;q=0,rt=Xe=Ie=null,oe=L;do{var gt=oe.lane,fn=oe.eventTime;if((S&gt)===gt){rt!==null&&(rt=rt.next={eventTime:fn,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var ft=h,rr=oe;switch(gt=m,fn=b,rr.tag){case 1:if(ft=rr.payload,typeof ft=="function"){Et=ft.call(fn,Et,gt);break e}Et=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=rr.payload,gt=typeof ft=="function"?ft.call(fn,Et,gt):ft,gt==null)break e;Et=s({},Et,gt);break e;case 2:Mo=!0}}oe.callback!==null&&oe.lane!==0&&(h.flags|=64,gt=R.effects,gt===null?R.effects=[oe]:gt.push(oe))}else fn={eventTime:fn,lane:gt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},rt===null?(Xe=rt=fn,Ie=Et):rt=rt.next=fn,q|=gt;if(oe=oe.next,oe===null){if(oe=R.shared.pending,oe===null)break;gt=oe,oe=gt.next,gt.next=null,R.lastBaseUpdate=gt,R.shared.pending=null}}while(1);if(rt===null&&(Ie=Et),R.baseState=Ie,R.firstBaseUpdate=Xe,R.lastBaseUpdate=rt,m=R.shared.interleaved,m!==null){R=m;do q|=R.lane,R=R.next;while(R!==m)}else L===null&&(R.shared.lanes=0);Qf|=q,h.lanes=q,h.memoizedState=Et}}function S3(h,m,b){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var S=h[m],R=S.callback;if(R!==null){if(S.callback=null,S=b,typeof R!="function")throw Error(o(191,R));R.call(S)}}}var E3=new i.Component().refs;function pA(h,m,b,S){m=h.memoizedState,b=b(S,m),b=b==null?m:s({},m,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var $0={isMounted:function(h){return(h=h._reactInternals)?T(h)===h:!1},enqueueSetState:function(h,m,b){h=h._reactInternals;var S=Pr(),R=jl(h),L=Va(S,R);L.payload=m,b!=null&&(L.callback=b),Gl(h,L),m=$s(h,R,S),m!==null&&W0(m,h,R)},enqueueReplaceState:function(h,m,b){h=h._reactInternals;var S=Pr(),R=jl(h),L=Va(S,R);L.tag=1,L.payload=m,b!=null&&(L.callback=b),Gl(h,L),m=$s(h,R,S),m!==null&&W0(m,h,R)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var b=Pr(),S=jl(h),R=Va(b,S);R.tag=2,m!=null&&(R.callback=m),Gl(h,R),m=$s(h,S,b),m!==null&&W0(m,h,S)}};function M3(h,m,b,S,R,L,q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,L,q):m.prototype&&m.prototype.isPureReactComponent?!lu(b,S)||!lu(R,L):!0}function C3(h,m,b){var S=!1,R=yi,L=m.contextType;return typeof L=="object"&&L!==null?L=un(L):(R=rn(m)?Vi:Ln.current,S=m.contextTypes,L=(S=S!=null)?mn(h,R):yi),m=new m(b,L),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$0,h.stateNode=m,m._reactInternals=h,S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=L),m}function T3(h,m,b,S){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,S),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,S),m.state!==h&&$0.enqueueReplaceState(m,m.state,null)}function mA(h,m,b,S){var R=h.stateNode;R.props=b,R.state=h.memoizedState,R.refs=E3,hA(h);var L=m.contextType;typeof L=="object"&&L!==null?R.context=un(L):(L=rn(m)?Vi:Ln.current,R.context=mn(h,L)),R.state=h.memoizedState,L=m.getDerivedStateFromProps,typeof L=="function"&&(pA(h,m,L,b),R.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&$0.enqueueReplaceState(R,R.state,null),j0(h,b,R,S),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var Wf=[],jf=0,X0=null,Y0=0,Gs=[],Vs=0,uu=null,Wa=1,ja="";function fu(h,m){Wf[jf++]=Y0,Wf[jf++]=X0,X0=h,Y0=m}function R3(h,m,b){Gs[Vs++]=Wa,Gs[Vs++]=ja,Gs[Vs++]=uu,uu=h;var S=Wa;h=ja;var R=32-Zi(S)-1;S&=~(1<<R),b+=1;var L=32-Zi(m)+R;if(30<L){var q=R-R%5;L=(S&(1<<q)-1).toString(32),S>>=q,R-=q,Wa=1<<32-Zi(m)+R|b<<R|S,ja=L+h}else Wa=1<<L|b<<R|S,ja=h}function gA(h){h.return!==null&&(fu(h,1),R3(h,1,0))}function vA(h){for(;h===X0;)X0=Wf[--jf],Wf[jf]=null,Y0=Wf[--jf],Wf[jf]=null;for(;h===uu;)uu=Gs[--Vs],Gs[Vs]=null,ja=Gs[--Vs],Gs[Vs]=null,Wa=Gs[--Vs],Gs[Vs]=null}var ds=null,hs=null,Rn=!1,Dp=!1,Co=null;function P3(h,m){var b=Xs(5,null,null,0);b.elementType="DELETED",b.stateNode=m,b.return=h,m=h.deletions,m===null?(h.deletions=[b],h.flags|=16):m.push(b)}function I3(h,m){switch(h.tag){case 5:return m=kt(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,ds=h,hs=Dn(m),!0):!1;case 6:return m=qi(m,h.pendingProps),m!==null?(h.stateNode=m,ds=h,hs=null,!0):!1;case 13:if(m=Pi(m),m!==null){var b=uu!==null?{id:Wa,overflow:ja}:null;return h.memoizedState={dehydrated:m,treeContext:b,retryLane:1073741824},b=Xs(18,null,null,0),b.stateNode=m,b.return=h,h.child=b,ds=h,hs=null,!0}return!1;default:return!1}}function yA(h){return(h.mode&1)!==0&&(h.flags&128)===0}function xA(h){if(Rn){var m=hs;if(m){var b=m;if(!I3(h,m)){if(yA(h))throw Error(o(418));m=cn(b);var S=ds;m&&I3(h,m)?P3(S,b):(h.flags=h.flags&-4097|2,Rn=!1,ds=h)}}else{if(yA(h))throw Error(o(418));h.flags=h.flags&-4097|2,Rn=!1,ds=h}}}function D3(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ds=h}function Lp(h){if(!_e||h!==ds)return!1;if(!Rn)return D3(h),Rn=!0,!1;if(h.tag!==3&&(h.tag!==5||pt(h.type)&&!ie(h.type,h.memoizedProps))){var m=hs;if(m){if(yA(h)){for(h=hs;h;)h=cn(h);throw Error(o(418))}for(;m;)P3(h,m),m=cn(m)}}if(D3(h),h.tag===13){if(!_e)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));hs=De(h)}else hs=ds?cn(h.stateNode):null;return!0}function $f(){_e&&(hs=ds=null,Dp=Rn=!1)}function _A(h){Co===null?Co=[h]:Co.push(h)}function kp(h,m,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var S=b.stateNode}if(!S)throw Error(o(147,h));var R=S,L=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===L?m.ref:(m=function(q){var oe=R.refs;oe===E3&&(oe=R.refs={}),q===null?delete oe[L]:oe[L]=q},m._stringRef=L,m)}if(typeof h!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,h))}return h}function J0(h,m){throw h=Object.prototype.toString.call(m),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function L3(h){var m=h._init;return m(h._payload)}function k3(h){function m(be,ae){if(h){var Ce=be.deletions;Ce===null?(be.deletions=[ae],be.flags|=16):Ce.push(ae)}}function b(be,ae){if(!h)return null;for(;ae!==null;)m(be,ae),ae=ae.sibling;return null}function S(be,ae){for(be=new Map;ae!==null;)ae.key!==null?be.set(ae.key,ae):be.set(ae.index,ae),ae=ae.sibling;return be}function R(be,ae){return be=Xl(be,ae),be.index=0,be.sibling=null,be}function L(be,ae,Ce){return be.index=Ce,h?(Ce=be.alternate,Ce!==null?(Ce=Ce.index,Ce<ae?(be.flags|=2,ae):Ce):(be.flags|=2,ae)):(be.flags|=1048576,ae)}function q(be){return h&&be.alternate===null&&(be.flags|=2),be}function oe(be,ae,Ce,et){return ae===null||ae.tag!==6?(ae=ib(Ce,be.mode,et),ae.return=be,ae):(ae=R(ae,Ce),ae.return=be,ae)}function Ie(be,ae,Ce,et){var ut=Ce.type;return ut===u?rt(be,ae,Ce.props.children,et,Ce.key):ae!==null&&(ae.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&L3(ut)===ae.type)?(et=R(ae,Ce.props),et.ref=kp(be,ae,Ce),et.return=be,et):(et=Mv(Ce.type,Ce.key,Ce.props,null,be.mode,et),et.ref=kp(be,ae,Ce),et.return=be,et)}function Xe(be,ae,Ce,et){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==Ce.containerInfo||ae.stateNode.implementation!==Ce.implementation?(ae=rb(Ce,be.mode,et),ae.return=be,ae):(ae=R(ae,Ce.children||[]),ae.return=be,ae)}function rt(be,ae,Ce,et,ut){return ae===null||ae.tag!==7?(ae=yu(Ce,be.mode,et,ut),ae.return=be,ae):(ae=R(ae,Ce),ae.return=be,ae)}function Et(be,ae,Ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=ib(""+ae,be.mode,Ce),ae.return=be,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return Ce=Mv(ae.type,ae.key,ae.props,null,be.mode,Ce),Ce.ref=kp(be,null,ae),Ce.return=be,Ce;case c:return ae=rb(ae,be.mode,Ce),ae.return=be,ae;case A:var et=ae._init;return Et(be,et(ae._payload),Ce)}if(W(ae)||M(ae))return ae=yu(ae,be.mode,Ce,null),ae.return=be,ae;J0(be,ae)}return null}function gt(be,ae,Ce,et){var ut=ae!==null?ae.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ut!==null?null:oe(be,ae,""+Ce,et);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ce.key===ut?Ie(be,ae,Ce,et):null;case c:return Ce.key===ut?Xe(be,ae,Ce,et):null;case A:return ut=Ce._init,gt(be,ae,ut(Ce._payload),et)}if(W(Ce)||M(Ce))return ut!==null?null:rt(be,ae,Ce,et,null);J0(be,Ce)}return null}function fn(be,ae,Ce,et,ut){if(typeof et=="string"&&et!==""||typeof et=="number")return be=be.get(Ce)||null,oe(ae,be,""+et,ut);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return be=be.get(et.key===null?Ce:et.key)||null,Ie(ae,be,et,ut);case c:return be=be.get(et.key===null?Ce:et.key)||null,Xe(ae,be,et,ut);case A:var Bt=et._init;return fn(be,ae,Ce,Bt(et._payload),ut)}if(W(et)||M(et))return be=be.get(Ce)||null,rt(ae,be,et,ut,null);J0(ae,et)}return null}function ft(be,ae,Ce,et){for(var ut=null,Bt=null,Mt=ae,Qt=ae=0,ki=null;Mt!==null&&Qt<Ce.length;Qt++){Mt.index>Qt?(ki=Mt,Mt=null):ki=Mt.sibling;var Zt=gt(be,Mt,Ce[Qt],et);if(Zt===null){Mt===null&&(Mt=ki);break}h&&Mt&&Zt.alternate===null&&m(be,Mt),ae=L(Zt,ae,Qt),Bt===null?ut=Zt:Bt.sibling=Zt,Bt=Zt,Mt=ki}if(Qt===Ce.length)return b(be,Mt),Rn&&fu(be,Qt),ut;if(Mt===null){for(;Qt<Ce.length;Qt++)Mt=Et(be,Ce[Qt],et),Mt!==null&&(ae=L(Mt,ae,Qt),Bt===null?ut=Mt:Bt.sibling=Mt,Bt=Mt);return Rn&&fu(be,Qt),ut}for(Mt=S(be,Mt);Qt<Ce.length;Qt++)ki=fn(Mt,be,Qt,Ce[Qt],et),ki!==null&&(h&&ki.alternate!==null&&Mt.delete(ki.key===null?Qt:ki.key),ae=L(ki,ae,Qt),Bt===null?ut=ki:Bt.sibling=ki,Bt=ki);return h&&Mt.forEach(function(Yl){return m(be,Yl)}),Rn&&fu(be,Qt),ut}function rr(be,ae,Ce,et){var ut=M(Ce);if(typeof ut!="function")throw Error(o(150));if(Ce=ut.call(Ce),Ce==null)throw Error(o(151));for(var Bt=ut=null,Mt=ae,Qt=ae=0,ki=null,Zt=Ce.next();Mt!==null&&!Zt.done;Qt++,Zt=Ce.next()){Mt.index>Qt?(ki=Mt,Mt=null):ki=Mt.sibling;var Yl=gt(be,Mt,Zt.value,et);if(Yl===null){Mt===null&&(Mt=ki);break}h&&Mt&&Yl.alternate===null&&m(be,Mt),ae=L(Yl,ae,Qt),Bt===null?ut=Yl:Bt.sibling=Yl,Bt=Yl,Mt=ki}if(Zt.done)return b(be,Mt),Rn&&fu(be,Qt),ut;if(Mt===null){for(;!Zt.done;Qt++,Zt=Ce.next())Zt=Et(be,Zt.value,et),Zt!==null&&(ae=L(Zt,ae,Qt),Bt===null?ut=Zt:Bt.sibling=Zt,Bt=Zt);return Rn&&fu(be,Qt),ut}for(Mt=S(be,Mt);!Zt.done;Qt++,Zt=Ce.next())Zt=fn(Mt,be,Qt,Zt.value,et),Zt!==null&&(h&&Zt.alternate!==null&&Mt.delete(Zt.key===null?Qt:Zt.key),ae=L(Zt,ae,Qt),Bt===null?ut=Zt:Bt.sibling=Zt,Bt=Zt);return h&&Mt.forEach(function(dH){return m(be,dH)}),Rn&&fu(be,Qt),ut}function Ys(be,ae,Ce,et){if(typeof Ce=="object"&&Ce!==null&&Ce.type===u&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:e:{for(var ut=Ce.key,Bt=ae;Bt!==null;){if(Bt.key===ut){if(ut=Ce.type,ut===u){if(Bt.tag===7){b(be,Bt.sibling),ae=R(Bt,Ce.props.children),ae.return=be,be=ae;break e}}else if(Bt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&L3(ut)===Bt.type){b(be,Bt.sibling),ae=R(Bt,Ce.props),ae.ref=kp(be,Bt,Ce),ae.return=be,be=ae;break e}b(be,Bt);break}else m(be,Bt);Bt=Bt.sibling}Ce.type===u?(ae=yu(Ce.props.children,be.mode,et,Ce.key),ae.return=be,be=ae):(et=Mv(Ce.type,Ce.key,Ce.props,null,be.mode,et),et.ref=kp(be,ae,Ce),et.return=be,be=et)}return q(be);case c:e:{for(Bt=Ce.key;ae!==null;){if(ae.key===Bt)if(ae.tag===4&&ae.stateNode.containerInfo===Ce.containerInfo&&ae.stateNode.implementation===Ce.implementation){b(be,ae.sibling),ae=R(ae,Ce.children||[]),ae.return=be,be=ae;break e}else{b(be,ae);break}else m(be,ae);ae=ae.sibling}ae=rb(Ce,be.mode,et),ae.return=be,be=ae}return q(be);case A:return Bt=Ce._init,Ys(be,ae,Bt(Ce._payload),et)}if(W(Ce))return ft(be,ae,Ce,et);if(M(Ce))return rr(be,ae,Ce,et);J0(be,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ae!==null&&ae.tag===6?(b(be,ae.sibling),ae=R(ae,Ce),ae.return=be,be=ae):(b(be,ae),ae=ib(Ce,be.mode,et),ae.return=be,be=ae),q(be)):b(be,ae)}return Ys}var Xf=k3(!0),B3=k3(!1),Bp={},Ws=bt(Bp),Op=bt(Bp),Yf=bt(Bp);function fa(h){if(h===Bp)throw Error(o(174));return h}function AA(h,m){xt(Yf,m),xt(Op,h),xt(Ws,Bp),h=Z(m),qt(Ws),xt(Ws,h)}function Jf(){qt(Ws),qt(Op),qt(Yf)}function O3(h){var m=fa(Yf.current),b=fa(Ws.current);m=H(b,h.type,m),b!==m&&(xt(Op,h),xt(Ws,m))}function bA(h){Op.current===h&&(qt(Ws),qt(Op))}var Bn=bt(0);function K0(h){for(var m=h;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Jt(b)||pn(b)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var wA=[];function SA(){for(var h=0;h<wA.length;h++){var m=wA[h];He?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}wA.length=0}var q0=a.ReactCurrentDispatcher,js=a.ReactCurrentBatchConfig,Kf=0,$n=null,tr=null,Li=null,Q0=!1,Fp=!1,Up=0,F7=0;function nr(){throw Error(o(321))}function EA(h,m){if(m===null)return!1;for(var b=0;b<m.length&&b<h.length;b++)if(!fs(h[b],m[b]))return!1;return!0}function MA(h,m,b,S,R,L){if(Kf=L,$n=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,q0.current=h===null||h.memoizedState===null?H7:G7,h=b(S,R),Fp){L=0;do{if(Fp=!1,Up=0,25<=L)throw Error(o(301));L+=1,Li=tr=null,m.updateQueue=null,q0.current=V7,h=b(S,R)}while(Fp)}if(q0.current=iv,m=tr!==null&&tr.next!==null,Kf=0,Li=tr=$n=null,Q0=!1,m)throw Error(o(300));return h}function CA(){var h=Up!==0;return Up=0,h}function $a(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?$n.memoizedState=Li=h:Li=Li.next=h,Li}function da(){if(tr===null){var h=$n.alternate;h=h!==null?h.memoizedState:null}else h=tr.next;var m=Li===null?$n.memoizedState:Li.next;if(m!==null)Li=m,tr=h;else{if(h===null)throw Error(o(310));tr=h,h={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Li===null?$n.memoizedState=Li=h:Li=Li.next=h}return Li}function du(h,m){return typeof m=="function"?m(h):m}function Z0(h){var m=da(),b=m.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var S=tr,R=S.baseQueue,L=b.pending;if(L!==null){if(R!==null){var q=R.next;R.next=L.next,L.next=q}S.baseQueue=R=L,b.pending=null}if(R!==null){L=R.next,S=S.baseState;var oe=q=null,Ie=null,Xe=L;do{var rt=Xe.lane;if((Kf&rt)===rt)Ie!==null&&(Ie=Ie.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),S=Xe.hasEagerState?Xe.eagerState:h(S,Xe.action);else{var Et={lane:rt,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Ie===null?(oe=Ie=Et,q=S):Ie=Ie.next=Et,$n.lanes|=rt,Qf|=rt}Xe=Xe.next}while(Xe!==null&&Xe!==L);Ie===null?q=S:Ie.next=oe,fs(S,m.memoizedState)||(ps=!0),m.memoizedState=S,m.baseState=q,m.baseQueue=Ie,b.lastRenderedState=S}if(h=b.interleaved,h!==null){R=h;do L=R.lane,$n.lanes|=L,Qf|=L,R=R.next;while(R!==h)}else R===null&&(b.lanes=0);return[m.memoizedState,b.dispatch]}function ev(h){var m=da(),b=m.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var S=b.dispatch,R=b.pending,L=m.memoizedState;if(R!==null){b.pending=null;var q=R=R.next;do L=h(L,q.action),q=q.next;while(q!==R);fs(L,m.memoizedState)||(ps=!0),m.memoizedState=L,m.baseQueue===null&&(m.baseState=L),b.lastRenderedState=L}return[L,S]}function F3(){}function U3(h,m){var b=$n,S=da(),R=m(),L=!fs(S.memoizedState,R);if(L&&(S.memoizedState=R,ps=!0),S=S.queue,zp(H3.bind(null,b,S,h),[h]),S.getSnapshot!==m||L||Li!==null&&Li.memoizedState.tag&1){if(b.flags|=2048,Np(9,z3.bind(null,b,S,R,m),void 0,null),fi===null)throw Error(o(349));Kf&30||N3(b,m,R)}return R}function N3(h,m,b){h.flags|=16384,h={getSnapshot:m,value:b},m=$n.updateQueue,m===null?(m={lastEffect:null,stores:null},$n.updateQueue=m,m.stores=[h]):(b=m.stores,b===null?m.stores=[h]:b.push(h))}function z3(h,m,b,S){m.value=b,m.getSnapshot=S,G3(m)&&$s(h,1,-1)}function H3(h,m,b){return b(function(){G3(m)&&$s(h,1,-1)})}function G3(h){var m=h.getSnapshot;h=h.value;try{var b=m();return!fs(h,b)}catch{return!0}}function TA(h){var m=$a();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:h},m.queue=h,h=h.dispatch=z7.bind(null,$n,h),[m.memoizedState,h]}function Np(h,m,b,S){return h={tag:h,create:m,destroy:b,deps:S,next:null},m=$n.updateQueue,m===null?(m={lastEffect:null,stores:null},$n.updateQueue=m,m.lastEffect=h.next=h):(b=m.lastEffect,b===null?m.lastEffect=h.next=h:(S=b.next,b.next=h,h.next=S,m.lastEffect=h)),h}function V3(){return da().memoizedState}function tv(h,m,b,S){var R=$a();$n.flags|=h,R.memoizedState=Np(1|m,b,void 0,S===void 0?null:S)}function nv(h,m,b,S){var R=da();S=S===void 0?null:S;var L=void 0;if(tr!==null){var q=tr.memoizedState;if(L=q.destroy,S!==null&&EA(S,q.deps)){R.memoizedState=Np(m,b,L,S);return}}$n.flags|=h,R.memoizedState=Np(1|m,b,L,S)}function RA(h,m){return tv(8390656,8,h,m)}function zp(h,m){return nv(2048,8,h,m)}function W3(h,m){return nv(4,2,h,m)}function j3(h,m){return nv(4,4,h,m)}function $3(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function X3(h,m,b){return b=b!=null?b.concat([h]):null,nv(4,4,$3.bind(null,m,h),b)}function PA(){}function Y3(h,m){var b=da();m=m===void 0?null:m;var S=b.memoizedState;return S!==null&&m!==null&&EA(m,S[1])?S[0]:(b.memoizedState=[h,m],h)}function J3(h,m){var b=da();m=m===void 0?null:m;var S=b.memoizedState;return S!==null&&m!==null&&EA(m,S[1])?S[0]:(h=h(),b.memoizedState=[h,m],h)}function U7(h,m){var b=Nt;Nt=b!==0&&4>b?b:4,h(!0);var S=js.transition;js.transition={};try{h(!1),m()}finally{Nt=b,js.transition=S}}function K3(){return da().memoizedState}function N7(h,m,b){var S=jl(h);b={lane:S,action:b,hasEagerState:!1,eagerState:null,next:null},q3(h)?Q3(m,b):(Z3(h,m,b),b=Pr(),h=$s(h,S,b),h!==null&&eR(h,m,S))}function z7(h,m,b){var S=jl(h),R={lane:S,action:b,hasEagerState:!1,eagerState:null,next:null};if(q3(h))Q3(m,R);else{Z3(h,m,R);var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=m.lastRenderedReducer,L!==null))try{var q=m.lastRenderedState,oe=L(q,b);if(R.hasEagerState=!0,R.eagerState=oe,fs(oe,q))return}catch{}finally{}b=Pr(),h=$s(h,S,b),h!==null&&eR(h,m,S)}}function q3(h){var m=h.alternate;return h===$n||m!==null&&m===$n}function Q3(h,m){Fp=Q0=!0;var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}function Z3(h,m,b){fi!==null&&h.mode&1&&!(Ut&2)?(h=m.interleaved,h===null?(b.next=b,xi===null?xi=[m]:xi.push(m)):(b.next=h.next,h.next=b),m.interleaved=b):(h=m.pending,h===null?b.next=b:(b.next=h.next,h.next=b),m.pending=b)}function eR(h,m,b){if(b&4194240){var S=m.lanes;S&=h.pendingLanes,b|=S,m.lanes=b,la(h,b)}}var iv={readContext:un,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},H7={readContext:un,useCallback:function(h,m){return $a().memoizedState=[h,m===void 0?null:m],h},useContext:un,useEffect:RA,useImperativeHandle:function(h,m,b){return b=b!=null?b.concat([h]):null,tv(4194308,4,$3.bind(null,m,h),b)},useLayoutEffect:function(h,m){return tv(4194308,4,h,m)},useInsertionEffect:function(h,m){return tv(4,2,h,m)},useMemo:function(h,m){var b=$a();return m=m===void 0?null:m,h=h(),b.memoizedState=[h,m],h},useReducer:function(h,m,b){var S=$a();return m=b!==void 0?b(m):m,S.memoizedState=S.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},S.queue=h,h=h.dispatch=N7.bind(null,$n,h),[S.memoizedState,h]},useRef:function(h){var m=$a();return h={current:h},m.memoizedState=h},useState:TA,useDebugValue:PA,useDeferredValue:function(h){var m=TA(h),b=m[0],S=m[1];return RA(function(){var R=js.transition;js.transition={};try{S(h)}finally{js.transition=R}},[h]),b},useTransition:function(){var h=TA(!1),m=h[0];return h=U7.bind(null,h[1]),$a().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,b){var S=$n,R=$a();if(Rn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=m(),fi===null)throw Error(o(349));Kf&30||N3(S,m,b)}R.memoizedState=b;var L={value:b,getSnapshot:m};return R.queue=L,RA(H3.bind(null,S,L,h),[h]),S.flags|=2048,Np(9,z3.bind(null,S,L,b,m),void 0,null),b},useId:function(){var h=$a(),m=fi.identifierPrefix;if(Rn){var b=ja,S=Wa;b=(S&~(1<<32-Zi(S)-1)).toString(32)+b,m=":"+m+"R"+b,b=Up++,0<b&&(m+="H"+b.toString(32)),m+=":"}else b=F7++,m=":"+m+"r"+b.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},G7={readContext:un,useCallback:Y3,useContext:un,useEffect:zp,useImperativeHandle:X3,useInsertionEffect:W3,useLayoutEffect:j3,useMemo:J3,useReducer:Z0,useRef:V3,useState:function(){return Z0(du)},useDebugValue:PA,useDeferredValue:function(h){var m=Z0(du),b=m[0],S=m[1];return zp(function(){var R=js.transition;js.transition={};try{S(h)}finally{js.transition=R}},[h]),b},useTransition:function(){var h=Z0(du)[0],m=da().memoizedState;return[h,m]},useMutableSource:F3,useSyncExternalStore:U3,useId:K3,unstable_isNewReconciler:!1},V7={readContext:un,useCallback:Y3,useContext:un,useEffect:zp,useImperativeHandle:X3,useInsertionEffect:W3,useLayoutEffect:j3,useMemo:J3,useReducer:ev,useRef:V3,useState:function(){return ev(du)},useDebugValue:PA,useDeferredValue:function(h){var m=ev(du),b=m[0],S=m[1];return zp(function(){var R=js.transition;js.transition={};try{S(h)}finally{js.transition=R}},[h]),b},useTransition:function(){var h=ev(du)[0],m=da().memoizedState;return[h,m]},useMutableSource:F3,useSyncExternalStore:U3,useId:K3,unstable_isNewReconciler:!1};function IA(h,m){try{var b="",S=m;do b+=cu(S),S=S.return;while(S);var R=b}catch(L){R=`
Error generating stack: `+L.message+`
`+L.stack}return{value:h,source:m,stack:R}}function DA(h,m){try{console.error(m.value)}catch(b){setTimeout(function(){throw b})}}var W7=typeof WeakMap=="function"?WeakMap:Map;function tR(h,m,b){b=Va(-1,b),b.tag=3,b.payload={element:null};var S=m.value;return b.callback=function(){xv||(xv=!0,KA=S),DA(h,m)},b}function nR(h,m,b){b=Va(-1,b),b.tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var R=m.value;b.payload=function(){return S(R)},b.callback=function(){DA(h,m)}}var L=h.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(b.callback=function(){DA(h,m),typeof S!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})}),b}function iR(h,m,b){var S=h.pingCache;if(S===null){S=h.pingCache=new W7;var R=new Set;S.set(m,R)}else R=S.get(m),R===void 0&&(R=new Set,S.set(m,R));R.has(b)||(R.add(b),h=rH.bind(null,h,m,b),m.then(h,h))}function rR(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function sR(h,m,b,S,R){return h.mode&1?(h.flags|=65536,h.lanes=R,h):(h===m?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(m=Va(-1,1),m.tag=2,Gl(b,m))),b.lanes|=1),h)}function ha(h){h.flags|=4}function oR(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Hp,Gp,rv,sv;if(ge)Hp=function(h,m){for(var b=m.child;b!==null;){if(b.tag===5||b.tag===6)j(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Gp=function(){},rv=function(h,m,b,S,R){if(h=h.memoizedProps,h!==S){var L=m.stateNode,q=fa(Ws.current);b=ne(L,b,h,S,R,q),(m.updateQueue=b)&&ha(m)}},sv=function(h,m,b,S){b!==S&&ha(m)};else if(V){Hp=function(h,m,b,S){for(var R=m.child;R!==null;){if(R.tag===5){var L=R.stateNode;b&&S&&(L=tn(L,R.type,R.memoizedProps,R)),j(h,L)}else if(R.tag===6)L=R.stateNode,b&&S&&(L=Gt(L,R.memoizedProps,R)),j(h,L);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)L=R.child,L!==null&&(L.return=R),Hp(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var aR=function(h,m,b,S){for(var R=m.child;R!==null;){if(R.tag===5){var L=R.stateNode;b&&S&&(L=tn(L,R.type,R.memoizedProps,R)),Ft(h,L)}else if(R.tag===6)L=R.stateNode,b&&S&&(L=Gt(L,R.memoizedProps,R)),Ft(h,L);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)L=R.child,L!==null&&(L.return=R),aR(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};Gp=function(h,m){var b=m.stateNode;if(!oR(h,m)){h=b.containerInfo;var S=wt(h);aR(S,m,!1,!1),b.pendingChildren=S,ha(m),$t(h,S)}},rv=function(h,m,b,S,R){var L=h.stateNode,q=h.memoizedProps;if((h=oR(h,m))&&q===S)m.stateNode=L;else{var oe=m.stateNode,Ie=fa(Ws.current),Xe=null;q!==S&&(Xe=ne(oe,b,q,S,R,Ie)),h&&Xe===null?m.stateNode=L:(L=Je(L,Xe,b,q,S,m,h,oe),se(L,b,S,R,Ie)&&ha(m),m.stateNode=L,h?ha(m):Hp(L,m,!1,!1))}},sv=function(h,m,b,S){b!==S?(h=fa(Yf.current),b=fa(Ws.current),m.stateNode=ce(S,h,b,m),ha(m)):m.stateNode=h.stateNode}}else Gp=function(){},rv=function(){},sv=function(){};function Vp(h,m){if(!Rn)switch(h.tailMode){case"hidden":m=h.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function ir(h){var m=h.alternate!==null&&h.alternate.child===h.child,b=0,S=0;if(m)for(var R=h.child;R!==null;)b|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)b|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=S,h.childLanes=b,m}function j7(h,m,b){var S=m.pendingProps;switch(vA(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(m),null;case 1:return rn(m.type)&&Ns(),ir(m),null;case 3:return S=m.stateNode,Jf(),qt(kn),qt(Ln),SA(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(Lp(m)?ha(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Co!==null&&(ZA(Co),Co=null))),Gp(h,m),ir(m),null;case 5:bA(m),b=fa(Yf.current);var R=m.type;if(h!==null&&m.stateNode!=null)rv(h,m,R,S,b),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!S){if(m.stateNode===null)throw Error(o(166));return ir(m),null}if(h=fa(Ws.current),Lp(m)){if(!_e)throw Error(o(175));h=Mr(m.stateNode,m.type,m.memoizedProps,b,h,m,!Dp),m.updateQueue=h,h!==null&&ha(m)}else{var L=F(R,S,b,h,m);Hp(L,m,!1,!1),m.stateNode=L,se(L,R,S,b,h)&&ha(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ir(m),null;case 6:if(h&&m.stateNode!=null)sv(h,m,h.memoizedProps,S);else{if(typeof S!="string"&&m.stateNode===null)throw Error(o(166));if(h=fa(Yf.current),b=fa(Ws.current),Lp(m)){if(!_e)throw Error(o(176));if(h=m.stateNode,S=m.memoizedProps,(b=K(h,S,m,!Dp))&&(R=ds,R!==null))switch(L=(R.mode&1)!==0,R.tag){case 3:yt(R.stateNode.containerInfo,h,S,L);break;case 5:St(R.type,R.memoizedProps,R.stateNode,h,S,L)}b&&ha(m)}else m.stateNode=ce(S,h,b,m)}return ir(m),null;case 13:if(qt(Bn),S=m.memoizedState,Rn&&hs!==null&&m.mode&1&&!(m.flags&128)){for(h=hs;h;)h=cn(h);return $f(),m.flags|=98560,m}if(S!==null&&S.dehydrated!==null){if(S=Lp(m),h===null){if(!S)throw Error(o(318));if(!_e)throw Error(o(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ae(h,m)}else $f(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return ir(m),null}return Co!==null&&(ZA(Co),Co=null),m.flags&128?(m.lanes=b,m):(S=S!==null,b=!1,h===null?Lp(m):b=h.memoizedState!==null,S&&!b&&(m.child.flags|=8192,m.mode&1&&(h===null||Bn.current&1?_i===0&&(_i=3):tb())),m.updateQueue!==null&&(m.flags|=4),ir(m),null);case 4:return Jf(),Gp(h,m),h===null&&ye(m.stateNode.containerInfo),ir(m),null;case 10:return ua(m.type._context),ir(m),null;case 17:return rn(m.type)&&Ns(),ir(m),null;case 19:if(qt(Bn),R=m.memoizedState,R===null)return ir(m),null;if(S=(m.flags&128)!==0,L=R.rendering,L===null)if(S)Vp(R,!1);else{if(_i!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(L=K0(h),L!==null){for(m.flags|=128,Vp(R,!1),h=L.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=b,S=m.child;S!==null;)b=S,R=h,b.flags&=14680066,L=b.alternate,L===null?(b.childLanes=0,b.lanes=R,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=L.childLanes,b.lanes=L.lanes,b.child=L.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=L.memoizedProps,b.memoizedState=L.memoizedState,b.updateQueue=L.updateQueue,b.type=L.type,R=L.dependencies,b.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),S=S.sibling;return xt(Bn,Bn.current&1|2),m.child}h=h.sibling}R.tail!==null&&Tn()>JA&&(m.flags|=128,S=!0,Vp(R,!1),m.lanes=4194304)}else{if(!S)if(h=K0(L),h!==null){if(m.flags|=128,S=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),Vp(R,!0),R.tail===null&&R.tailMode==="hidden"&&!L.alternate&&!Rn)return ir(m),null}else 2*Tn()-R.renderingStartTime>JA&&b!==1073741824&&(m.flags|=128,S=!0,Vp(R,!1),m.lanes=4194304);R.isBackwards?(L.sibling=m.child,m.child=L):(h=R.last,h!==null?h.sibling=L:m.child=L,R.last=L)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=Tn(),m.sibling=null,h=Bn.current,xt(Bn,S?h&1|2:h&1),m):(ir(m),null);case 22:case 23:return eb(),S=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==S&&(m.flags|=8192),S&&m.mode&1?ms&1073741824&&(ir(m),ge&&m.subtreeFlags&6&&(m.flags|=8192)):ir(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var $7=a.ReactCurrentOwner,ps=!1;function Rr(h,m,b,S){m.child=h===null?B3(m,null,b,S):Xf(m,h.child,b,S)}function lR(h,m,b,S,R){b=b.render;var L=m.ref;return Di(m,R),S=MA(h,m,b,S,L,R),b=CA(),h!==null&&!ps?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,Xa(h,m,R)):(Rn&&b&&gA(m),m.flags|=1,Rr(h,m,S,R),m.child)}function cR(h,m,b,S,R){if(h===null){var L=b.type;return typeof L=="function"&&!nb(L)&&L.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(m.tag=15,m.type=L,uR(h,m,L,S,R)):(h=Mv(b.type,null,S,m,m.mode,R),h.ref=m.ref,h.return=m,m.child=h)}if(L=h.child,!(h.lanes&R)){var q=L.memoizedProps;if(b=b.compare,b=b!==null?b:lu,b(q,S)&&h.ref===m.ref)return Xa(h,m,R)}return m.flags|=1,h=Xl(L,S),h.ref=m.ref,h.return=m,m.child=h}function uR(h,m,b,S,R){if(h!==null&&lu(h.memoizedProps,S)&&h.ref===m.ref)if(ps=!1,(h.lanes&R)!==0)h.flags&131072&&(ps=!0);else return m.lanes=h.lanes,Xa(h,m,R);return LA(h,m,b,S,R)}function fR(h,m,b){var S=m.pendingProps,R=S.children,L=h!==null?h.memoizedState:null;if(S.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},xt(qf,ms),ms|=b;else if(b&1073741824)m.memoizedState={baseLanes:0,cachePool:null},S=L!==null?L.baseLanes:b,xt(qf,ms),ms|=S;else return h=L!==null?L.baseLanes|b:b,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,xt(qf,ms),ms|=h,null;else L!==null?(S=L.baseLanes|b,m.memoizedState=null):S=b,xt(qf,ms),ms|=S;return Rr(h,m,R,b),m.child}function dR(h,m){var b=m.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(m.flags|=512,m.flags|=2097152)}function LA(h,m,b,S,R){var L=rn(b)?Vi:Ln.current;return L=mn(m,L),Di(m,R),b=MA(h,m,b,S,L,R),S=CA(),h!==null&&!ps?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,Xa(h,m,R)):(Rn&&S&&gA(m),m.flags|=1,Rr(h,m,b,R),m.child)}function hR(h,m,b,S,R){if(rn(b)){var L=!0;zs(m)}else L=!1;if(Di(m,R),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),C3(m,b,S),mA(m,b,S,R),S=!0;else if(h===null){var q=m.stateNode,oe=m.memoizedProps;q.props=oe;var Ie=q.context,Xe=b.contextType;typeof Xe=="object"&&Xe!==null?Xe=un(Xe):(Xe=rn(b)?Vi:Ln.current,Xe=mn(m,Xe));var rt=b.getDerivedStateFromProps,Et=typeof rt=="function"||typeof q.getSnapshotBeforeUpdate=="function";Et||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==S||Ie!==Xe)&&T3(m,q,S,Xe),Mo=!1;var gt=m.memoizedState;q.state=gt,j0(m,S,q,R),Ie=m.memoizedState,oe!==S||gt!==Ie||kn.current||Mo?(typeof rt=="function"&&(pA(m,b,rt,S),Ie=m.memoizedState),(oe=Mo||M3(m,b,oe,S,gt,Ie,Xe))?(Et||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(m.flags|=4194308)):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=S,m.memoizedState=Ie),q.props=S,q.state=Ie,q.context=Xe,S=oe):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),S=!1)}else{q=m.stateNode,b3(h,m),oe=m.memoizedProps,Xe=m.type===m.elementType?oe:er(m.type,oe),q.props=Xe,Et=m.pendingProps,gt=q.context,Ie=b.contextType,typeof Ie=="object"&&Ie!==null?Ie=un(Ie):(Ie=rn(b)?Vi:Ln.current,Ie=mn(m,Ie));var fn=b.getDerivedStateFromProps;(rt=typeof fn=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==Et||gt!==Ie)&&T3(m,q,S,Ie),Mo=!1,gt=m.memoizedState,q.state=gt,j0(m,S,q,R);var ft=m.memoizedState;oe!==Et||gt!==ft||kn.current||Mo?(typeof fn=="function"&&(pA(m,b,fn,S),ft=m.memoizedState),(Xe=Mo||M3(m,b,Xe,S,gt,ft,Ie)||!1)?(rt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(S,ft,Ie),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(S,ft,Ie)),typeof q.componentDidUpdate=="function"&&(m.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof q.componentDidUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(m.flags|=1024),m.memoizedProps=S,m.memoizedState=ft),q.props=S,q.state=ft,q.context=Ie,S=Xe):(typeof q.componentDidUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(m.flags|=1024),S=!1)}return kA(h,m,b,S,L,R)}function kA(h,m,b,S,R,L){dR(h,m);var q=(m.flags&128)!==0;if(!S&&!q)return R&&ru(m,b,!1),Xa(h,m,L);S=m.stateNode,$7.current=m;var oe=q&&typeof b.getDerivedStateFromError!="function"?null:S.render();return m.flags|=1,h!==null&&q?(m.child=Xf(m,h.child,null,L),m.child=Xf(m,null,oe,L)):Rr(h,m,oe,L),m.memoizedState=S.state,R&&ru(m,b,!0),m.child}function pR(h){var m=h.stateNode;m.pendingContext?ci(h,m.pendingContext,m.pendingContext!==m.context):m.context&&ci(h,m.context,!1),AA(h,m.containerInfo)}function mR(h,m,b,S,R){return $f(),_A(R),m.flags|=256,Rr(h,m,b,S),m.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function av(h){return{baseLanes:h,cachePool:null}}function gR(h,m,b){var S=m.pendingProps,R=Bn.current,L=!1,q=(m.flags&128)!==0,oe;if((oe=q)||(oe=h!==null&&h.memoizedState===null?!1:(R&2)!==0),oe?(L=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),xt(Bn,R&1),h===null)return xA(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?pn(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(R=S.children,h=S.fallback,L?(S=m.mode,L=m.child,R={mode:"hidden",children:R},!(S&1)&&L!==null?(L.childLanes=0,L.pendingProps=R):L=Cv(R,S,0,null),h=yu(h,S,b,null),L.return=m,h.return=m,L.sibling=h,m.child=L,m.child.memoizedState=av(b),m.memoizedState=ov,h):BA(m,R));if(R=h.memoizedState,R!==null){if(oe=R.dehydrated,oe!==null){if(q)return m.flags&256?(m.flags&=-257,lv(h,m,b,Error(o(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(L=S.fallback,R=m.mode,S=Cv({mode:"visible",children:S.children},R,0,null),L=yu(L,R,b,null),L.flags|=2,S.return=m,L.return=m,S.sibling=L,m.child=S,m.mode&1&&Xf(m,h.child,null,b),m.child.memoizedState=av(b),m.memoizedState=ov,L);if(!(m.mode&1))m=lv(h,m,b,null);else if(pn(oe))m=lv(h,m,b,Error(o(419)));else if(S=(b&h.childLanes)!==0,ps||S){if(S=fi,S!==null){switch(b&-b){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}S=L&(S.suspendedLanes|b)?0:L,S!==0&&S!==R.retryLane&&(R.retryLane=S,$s(h,S,-1))}tb(),m=lv(h,m,b,Error(o(421)))}else Jt(oe)?(m.flags|=128,m.child=h.child,m=sH.bind(null,h),Hi(oe,m),m=null):(b=R.treeContext,_e&&(hs=Us(oe),ds=m,Rn=!0,Co=null,Dp=!1,b!==null&&(Gs[Vs++]=Wa,Gs[Vs++]=ja,Gs[Vs++]=uu,Wa=b.id,ja=b.overflow,uu=m)),m=BA(m,m.pendingProps.children),m.flags|=4096);return m}return L?(S=yR(h,m,S.children,S.fallback,b),L=m.child,R=h.child.memoizedState,L.memoizedState=R===null?av(b):{baseLanes:R.baseLanes|b,cachePool:null},L.childLanes=h.childLanes&~b,m.memoizedState=ov,S):(b=vR(h,m,S.children,b),m.memoizedState=null,b)}return L?(S=yR(h,m,S.children,S.fallback,b),L=m.child,R=h.child.memoizedState,L.memoizedState=R===null?av(b):{baseLanes:R.baseLanes|b,cachePool:null},L.childLanes=h.childLanes&~b,m.memoizedState=ov,S):(b=vR(h,m,S.children,b),m.memoizedState=null,b)}function BA(h,m){return m=Cv({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function vR(h,m,b,S){var R=h.child;return h=R.sibling,b=Xl(R,{mode:"visible",children:b}),!(m.mode&1)&&(b.lanes=S),b.return=m,b.sibling=null,h!==null&&(S=m.deletions,S===null?(m.deletions=[h],m.flags|=16):S.push(h)),m.child=b}function yR(h,m,b,S,R){var L=m.mode;h=h.child;var q=h.sibling,oe={mode:"hidden",children:b};return!(L&1)&&m.child!==h?(b=m.child,b.childLanes=0,b.pendingProps=oe,m.deletions=null):(b=Xl(h,oe),b.subtreeFlags=h.subtreeFlags&14680064),q!==null?S=Xl(q,S):(S=yu(S,L,R,null),S.flags|=2),S.return=m,b.return=m,b.sibling=S,m.child=b,S}function lv(h,m,b,S){return S!==null&&_A(S),Xf(m,h.child,null,b),h=BA(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function xR(h,m,b){h.lanes|=m;var S=h.alternate;S!==null&&(S.lanes|=m),ui(h.return,m,b)}function OA(h,m,b,S,R){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:S,tail:b,tailMode:R}:(L.isBackwards=m,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=b,L.tailMode=R)}function _R(h,m,b){var S=m.pendingProps,R=S.revealOrder,L=S.tail;if(Rr(h,m,S.children,b),S=Bn.current,S&2)S=S&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&xR(h,b,m);else if(h.tag===19)xR(h,b,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(xt(Bn,S),!(m.mode&1))m.memoizedState=null;else switch(R){case"forwards":for(b=m.child,R=null;b!==null;)h=b.alternate,h!==null&&K0(h)===null&&(R=b),b=b.sibling;b=R,b===null?(R=m.child,m.child=null):(R=b.sibling,b.sibling=null),OA(m,!1,R,b,L);break;case"backwards":for(b=null,R=m.child,m.child=null;R!==null;){if(h=R.alternate,h!==null&&K0(h)===null){m.child=R;break}h=R.sibling,R.sibling=b,b=R,R=h}OA(m,!0,b,null,L);break;case"together":OA(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Xa(h,m,b){if(h!==null&&(m.dependencies=h.dependencies),Qf|=m.lanes,!(b&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(o(153));if(m.child!==null){for(h=m.child,b=Xl(h,h.pendingProps),m.child=b,b.return=m;h.sibling!==null;)h=h.sibling,b=b.sibling=Xl(h,h.pendingProps),b.return=m;b.sibling=null}return m.child}function X7(h,m,b){switch(m.tag){case 3:pR(m),$f();break;case 5:O3(m);break;case 1:rn(m.type)&&zs(m);break;case 4:AA(m,m.stateNode.containerInfo);break;case 10:V0(m,m.type._context,m.memoizedProps.value);break;case 13:var S=m.memoizedState;if(S!==null)return S.dehydrated!==null?(xt(Bn,Bn.current&1),m.flags|=128,null):b&m.child.childLanes?gR(h,m,b):(xt(Bn,Bn.current&1),h=Xa(h,m,b),h!==null?h.sibling:null);xt(Bn,Bn.current&1);break;case 19:if(S=(b&m.childLanes)!==0,h.flags&128){if(S)return _R(h,m,b);m.flags|=128}var R=m.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),xt(Bn,Bn.current),S)break;return null;case 22:case 23:return m.lanes=0,fR(h,m,b)}return Xa(h,m,b)}function Y7(h,m){switch(vA(m),m.tag){case 1:return rn(m.type)&&Ns(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Jf(),qt(kn),qt(Ln),SA(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return bA(m),null;case 13:if(qt(Bn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(o(340));$f()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return qt(Bn),null;case 4:return Jf(),null;case 10:return ua(m.type._context),null;case 22:case 23:return eb(),null;case 24:return null;default:return null}}var cv=!1,hu=!1,J7=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function uv(h,m){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(S){Wr(h,m,S)}else b.current=null}function FA(h,m,b){try{b()}catch(S){Wr(h,m,S)}}var AR=!1;function K7(h,m){for($(h.containerInfo),Ze=m;Ze!==null;)if(h=Ze,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,Ze=m;else for(;Ze!==null;){h=Ze;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,R=b.memoizedState,L=h.stateNode,q=L.getSnapshotBeforeUpdate(h.elementType===h.type?S:er(h.type,S),R);L.__reactInternalSnapshotBeforeUpdate=q}break;case 3:ge&&We(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){Wr(h,h.return,oe)}if(m=h.sibling,m!==null){m.return=h.return,Ze=m;break}Ze=h.return}return b=AR,AR=!1,b}function pu(h,m,b){var S=m.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&h)===h){var L=R.destroy;R.destroy=void 0,L!==void 0&&FA(m,b,L)}R=R.next}while(R!==S)}}function Wp(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&h)===h){var S=b.create;b.destroy=S()}b=b.next}while(b!==m)}}function UA(h){var m=h.ref;if(m!==null){var b=h.stateNode;switch(h.tag){case 5:h=J(b);break;default:h=b}typeof m=="function"?m(h):m.current=h}}function bR(h,m,b){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(zl,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var S=h=h.next;do{var R=S,L=R.destroy;R=R.tag,L!==void 0&&(R&2||R&4)&&FA(m,b,L),S=S.next}while(S!==h)}break;case 1:if(uv(m,b),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(q){Wr(m,b,q)}break;case 5:uv(m,b);break;case 4:ge?TR(h,m,b):V&&V&&(m=m.stateNode.containerInfo,b=wt(m),zt(m,b))}}function wR(h,m,b){for(var S=m;;)if(bR(h,S,b),S.child===null||ge&&S.tag===4){if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function SR(h){var m=h.alternate;m!==null&&(h.alternate=null,SR(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ge(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function ER(h){return h.tag===5||h.tag===3||h.tag===4}function MR(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ER(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function CR(h){if(ge){e:{for(var m=h.return;m!==null;){if(ER(m))break e;m=m.return}throw Error(o(160))}var b=m;switch(b.tag){case 5:m=b.stateNode,b.flags&32&&(Ye(m),b.flags&=-33),b=MR(h),zA(h,b,m);break;case 3:case 4:m=b.stateNode.containerInfo,b=MR(h),NA(h,b,m);break;default:throw Error(o(161))}}}function NA(h,m,b){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?Me(b,h,m):ze(b,h);else if(S!==4&&(h=h.child,h!==null))for(NA(h,m,b),h=h.sibling;h!==null;)NA(h,m,b),h=h.sibling}function zA(h,m,b){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?he(b,h,m):Re(b,h);else if(S!==4&&(h=h.child,h!==null))for(zA(h,m,b),h=h.sibling;h!==null;)zA(h,m,b),h=h.sibling}function TR(h,m,b){for(var S=m,R=!1,L,q;;){if(!R){R=S.return;e:for(;;){if(R===null)throw Error(o(160));switch(L=R.stateNode,R.tag){case 5:q=!1;break e;case 3:L=L.containerInfo,q=!0;break e;case 4:L=L.containerInfo,q=!0;break e}R=R.return}R=!0}if(S.tag===5||S.tag===6)wR(h,S,b),q?Oe(L,S.stateNode):we(L,S.stateNode);else if(S.tag===18)q?ht(L,S.stateNode):tt(L,S.stateNode);else if(S.tag===4){if(S.child!==null){L=S.stateNode.containerInfo,q=!0,S.child.return=S,S=S.child;continue}}else if(bR(h,S,b),S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return,S.tag===4&&(R=!1)}S.sibling.return=S.return,S=S.sibling}}function HA(h,m){if(ge){switch(m.tag){case 0:case 11:case 14:case 15:pu(3,m,m.return),Wp(3,m),pu(5,m,m.return);return;case 1:return;case 5:var b=m.stateNode;if(b!=null){var S=m.memoizedProps;h=h!==null?h.memoizedProps:S;var R=m.type,L=m.updateQueue;m.updateQueue=null,L!==null&&Q(b,L,R,h,S,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));b=m.memoizedProps,Ne(m.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&fe(m.stateNode.containerInfo);return;case 12:return;case 13:fv(m);return;case 19:fv(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:pu(3,m,m.return),Wp(3,m),pu(5,m,m.return);return;case 12:return;case 13:fv(m);return;case 19:fv(m);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&fe(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(V){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,zt(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function fv(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new J7),m.forEach(function(S){var R=oH.bind(null,h,S);b.has(S)||(b.add(S),S.then(R,R))})}}function q7(h,m){for(Ze=m;Ze!==null;){m=Ze;var b=m.deletions;if(b!==null)for(var S=0;S<b.length;S++){var R=b[S];try{var L=h;ge?TR(L,R,m):wR(L,R,m);var q=R.alternate;q!==null&&(q.return=null),R.return=null}catch(ut){Wr(R,m,ut)}}if(b=m.child,m.subtreeFlags&12854&&b!==null)b.return=m,Ze=b;else for(;Ze!==null;){m=Ze;try{var oe=m.flags;if(oe&32&&ge&&Ye(m.stateNode),oe&512){var Ie=m.alternate;if(Ie!==null){var Xe=Ie.ref;Xe!==null&&(typeof Xe=="function"?Xe(null):Xe.current=null)}}if(oe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var rt=m.alternate;(rt===null||rt.memoizedState===null)&&(YA=Tn())}break;case 22:var Et=m.memoizedState!==null,gt=m.alternate,fn=gt!==null&&gt.memoizedState!==null;if(b=m,ge){e:if(S=b,R=Et,L=null,ge)for(var ft=S;;){if(ft.tag===5){if(L===null){L=ft;var rr=ft.stateNode;R?dt(rr):Ue(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(L===null){var Ys=ft.stateNode;R?ee(Ys):me(Ys,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===S)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===S)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===S)break e;L===ft&&(L=null),ft=ft.return}L===ft&&(L=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Et&&!fn&&b.mode&1){Ze=b;for(var be=b.child;be!==null;){for(b=Ze=be;Ze!==null;){S=Ze;var ae=S.child;switch(S.tag){case 0:case 11:case 14:case 15:pu(4,S,S.return);break;case 1:uv(S,S.return);var Ce=S.stateNode;if(typeof Ce.componentWillUnmount=="function"){var et=S.return;try{Ce.props=S.memoizedProps,Ce.state=S.memoizedState,Ce.componentWillUnmount()}catch(ut){Wr(S,et,ut)}}break;case 5:uv(S,S.return);break;case 22:if(S.memoizedState!==null){IR(b);continue}}ae!==null?(ae.return=S,Ze=ae):IR(b)}be=be.sibling}}}switch(oe&4102){case 2:CR(m),m.flags&=-3;break;case 6:CR(m),m.flags&=-3,HA(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,HA(m.alternate,m);break;case 4:HA(m.alternate,m)}}catch(ut){Wr(m,m.return,ut)}if(b=m.sibling,b!==null){b.return=m.return,Ze=b;break}Ze=m.return}}}function Q7(h,m,b){Ze=h,RR(h)}function RR(h,m,b){for(var S=(h.mode&1)!==0;Ze!==null;){var R=Ze,L=R.child;if(R.tag===22&&S){var q=R.memoizedState!==null||cv;if(!q){var oe=R.alternate,Ie=oe!==null&&oe.memoizedState!==null||hu;oe=cv;var Xe=hu;if(cv=q,(hu=Ie)&&!Xe)for(Ze=R;Ze!==null;)q=Ze,Ie=q.child,q.tag===22&&q.memoizedState!==null?DR(R):Ie!==null?(Ie.return=q,Ze=Ie):DR(R);for(;L!==null;)Ze=L,RR(L),L=L.sibling;Ze=R,cv=oe,hu=Xe}PR(h)}else R.subtreeFlags&8772&&L!==null?(L.return=R,Ze=L):PR(h)}}function PR(h){for(;Ze!==null;){var m=Ze;if(m.flags&8772){var b=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:hu||Wp(5,m);break;case 1:var S=m.stateNode;if(m.flags&4&&!hu)if(b===null)S.componentDidMount();else{var R=m.elementType===m.type?b.memoizedProps:er(m.type,b.memoizedProps);S.componentDidUpdate(R,b.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var L=m.updateQueue;L!==null&&S3(m,L,S);break;case 3:var q=m.updateQueue;if(q!==null){if(b=null,m.child!==null)switch(m.child.tag){case 5:b=J(m.child.stateNode);break;case 1:b=m.child.stateNode}S3(m,q,b)}break;case 5:var oe=m.stateNode;b===null&&m.flags&4&&xe(oe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var Xe=Ie.memoizedState;if(Xe!==null){var rt=Xe.dehydrated;rt!==null&&ke(rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}hu||m.flags&512&&UA(m)}catch(Et){Wr(m,m.return,Et)}}if(m===h){Ze=null;break}if(b=m.sibling,b!==null){b.return=m.return,Ze=b;break}Ze=m.return}}function IR(h){for(;Ze!==null;){var m=Ze;if(m===h){Ze=null;break}var b=m.sibling;if(b!==null){b.return=m.return,Ze=b;break}Ze=m.return}}function DR(h){for(;Ze!==null;){var m=Ze;try{switch(m.tag){case 0:case 11:case 15:var b=m.return;try{Wp(4,m)}catch(Ie){Wr(m,b,Ie)}break;case 1:var S=m.stateNode;if(typeof S.componentDidMount=="function"){var R=m.return;try{S.componentDidMount()}catch(Ie){Wr(m,R,Ie)}}var L=m.return;try{UA(m)}catch(Ie){Wr(m,L,Ie)}break;case 5:var q=m.return;try{UA(m)}catch(Ie){Wr(m,q,Ie)}}}catch(Ie){Wr(m,m.return,Ie)}if(m===h){Ze=null;break}var oe=m.sibling;if(oe!==null){oe.return=m.return,Ze=oe;break}Ze=m.return}}var dv=0,hv=1,pv=2,mv=3,gv=4;if(typeof Symbol=="function"&&Symbol.for){var jp=Symbol.for;dv=jp("selector.component"),hv=jp("selector.has_pseudo_class"),pv=jp("selector.role"),mv=jp("selector.test_id"),gv=jp("selector.text")}function GA(h){var m=de(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(h=Ee(h),h===null)throw Error(o(362));return h.stateNode.current}function VA(h,m){switch(m.$$typeof){case dv:if(h.type===m.value)return!0;break;case hv:e:{m=m.value,h=[h,0];for(var b=0;b<h.length;){var S=h[b++],R=h[b++],L=m[R];if(S.tag!==5||!B(S)){for(;L!=null&&VA(S,L);)R++,L=m[R];if(R===m.length){m=!0;break e}else for(S=S.child;S!==null;)h.push(S,R),S=S.sibling}}m=!1}return m;case pv:if(h.tag===5&&re(h.stateNode,m.value))return!0;break;case gv:if((h.tag===5||h.tag===6)&&(h=U(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case mv:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function WA(h){switch(h.$$typeof){case dv:return"<"+(C(h.value)||"Unknown")+">";case hv:return":has("+(WA(h)||"")+")";case pv:return'[role="'+h.value+'"]';case gv:return'"'+h.value+'"';case mv:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function LR(h,m){var b=[];h=[h,0];for(var S=0;S<h.length;){var R=h[S++],L=h[S++],q=m[L];if(R.tag!==5||!B(R)){for(;q!=null&&VA(R,q);)L++,q=m[L];if(L===m.length)b.push(R);else for(R=R.child;R!==null;)h.push(R,L),R=R.sibling}}return b}function jA(h,m){if(!Le)throw Error(o(363));h=GA(h),h=LR(h,m),m=[],h=Array.from(h);for(var b=0;b<h.length;){var S=h[b++];if(S.tag===5)B(S)||m.push(S.stateNode);else for(S=S.child;S!==null;)h.push(S),S=S.sibling}return m}var Z7=Math.ceil,vv=a.ReactCurrentDispatcher,$A=a.ReactCurrentOwner,ni=a.ReactCurrentBatchConfig,Ut=0,fi=null,di=null,Wi=0,ms=0,qf=bt(0),_i=0,$p=null,Qf=0,yv=0,XA=0,Xp=null,Gr=null,YA=0,JA=1/0;function Zf(){JA=Tn()+500}var xv=!1,KA=null,Vl=null,_v=!1,Wl=null,Av=0,Yp=0,qA=null,bv=-1,wv=0;function Pr(){return Ut&6?Tn():bv!==-1?bv:bv=Tn()}function jl(h){return h.mode&1?Ut&2&&Wi!==0?Wi&-Wi:au.transition!==null?(wv===0&&(h=Ua,Ua<<=1,!(Ua&4194240)&&(Ua=64),wv=h),wv):(h=Nt,h!==0?h:pe()):1}function $s(h,m,b){if(50<Yp)throw Yp=0,qA=null,Error(o(185));var S=Sv(h,m);return S===null?null:(aa(S,m,b),(!(Ut&2)||S!==fi)&&(S===fi&&(!(Ut&2)&&(yv|=m),_i===4&&$l(S,Wi)),Vr(S,b),m===1&&Ut===0&&!(h.mode&1)&&(Zf(),ca&&Hr())),S)}function Sv(h,m){h.lanes|=m;var b=h.alternate;for(b!==null&&(b.lanes|=m),b=h,h=h.return;h!==null;)h.childLanes|=m,b=h.alternate,b!==null&&(b.childLanes|=m),b=h,h=h.return;return b.tag===3?b.stateNode:null}function Vr(h,m){var b=h.callbackNode;Ep(h,m);var S=ou(h,h===fi?Wi:0);if(S===0)b!==null&&zf(b),h.callbackNode=null,h.callbackPriority=0;else if(m=S&-S,h.callbackPriority!==m){if(b!=null&&zf(b),m===1)h.tag===0?Ip(BR.bind(null,h)):Pp(BR.bind(null,h)),ve?Pe(function(){Ut===0&&Hr()}):Ga(Nl,Hr),b=null;else{switch(Mp(S)){case 1:b=Nl;break;case 4:b=G0;break;case 16:b=Cr;break;case 536870912:b=Tp;break;default:b=Cr}b=WR(b,kR.bind(null,h))}h.callbackPriority=m,h.callbackNode=b}}function kR(h,m){if(bv=-1,wv=0,Ut&6)throw Error(o(327));var b=h.callbackNode;if(vu()&&h.callbackNode!==b)return null;var S=ou(h,h===fi?Wi:0);if(S===0)return null;if(S&30||S&h.expiredLanes||m)m=Ev(h,S);else{m=S;var R=Ut;Ut|=2;var L=UR();(fi!==h||Wi!==m)&&(Zf(),mu(h,m));do try{nH();break}catch(oe){FR(h,oe)}while(1);Vf(),vv.current=L,Ut=R,di!==null?m=0:(fi=null,Wi=0,m=_i)}if(m!==0){if(m===2&&(R=Ha(h),R!==0&&(S=R,m=QA(h,R))),m===1)throw b=$p,mu(h,0),$l(h,S),Vr(h,Tn()),b;if(m===6)$l(h,S);else{if(R=h.current.alternate,!(S&30)&&!eH(R)&&(m=Ev(h,S),m===2&&(L=Ha(h),L!==0&&(S=L,m=QA(h,L))),m===1))throw b=$p,mu(h,0),$l(h,S),Vr(h,Tn()),b;switch(h.finishedWork=R,h.finishedLanes=S,m){case 0:case 1:throw Error(o(345));case 2:gu(h,Gr);break;case 3:if($l(h,S),(S&130023424)===S&&(m=YA+500-Tn(),10<m)){if(ou(h,0)!==0)break;if(R=h.suspendedLanes,(R&S)!==S){Pr(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=le(gu.bind(null,h,Gr),m);break}gu(h,Gr);break;case 4:if($l(h,S),(S&4194240)===S)break;for(m=h.eventTimes,R=-1;0<S;){var q=31-Zi(S);L=1<<q,q=m[q],q>R&&(R=q),S&=~L}if(S=R,S=Tn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Z7(S/1960))-S,10<S){h.timeoutHandle=le(gu.bind(null,h,Gr),S);break}gu(h,Gr);break;case 5:gu(h,Gr);break;default:throw Error(o(329))}}}return Vr(h,Tn()),h.callbackNode===b?kR.bind(null,h):null}function QA(h,m){var b=Xp;return h.current.memoizedState.isDehydrated&&(mu(h,m).flags|=256),h=Ev(h,m),h!==2&&(m=Gr,Gr=b,m!==null&&ZA(m)),h}function ZA(h){Gr===null?Gr=h:Gr.push.apply(Gr,h)}function eH(h){for(var m=h;;){if(m.flags&16384){var b=m.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var S=0;S<b.length;S++){var R=b[S],L=R.getSnapshot;R=R.value;try{if(!fs(L(),R))return!1}catch{return!1}}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function $l(h,m){for(m&=~XA,m&=~yv,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var b=31-Zi(m),S=1<<b;h[b]=-1,m&=~S}}function BR(h){if(Ut&6)throw Error(o(327));vu();var m=ou(h,0);if(!(m&1))return Vr(h,Tn()),null;var b=Ev(h,m);if(h.tag!==0&&b===2){var S=Ha(h);S!==0&&(m=S,b=QA(h,S))}if(b===1)throw b=$p,mu(h,0),$l(h,m),Vr(h,Tn()),b;if(b===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,gu(h,Gr),Vr(h,Tn()),null}function OR(h){Wl!==null&&Wl.tag===0&&!(Ut&6)&&vu();var m=Ut;Ut|=1;var b=ni.transition,S=Nt;try{if(ni.transition=null,Nt=1,h)return h()}finally{Nt=S,ni.transition=b,Ut=m,!(Ut&6)&&Hr()}}function eb(){ms=qf.current,qt(qf)}function mu(h,m){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==Fe&&(h.timeoutHandle=Fe,ue(b)),di!==null)for(b=di.return;b!==null;){var S=b;switch(vA(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Ns();break;case 3:Jf(),qt(kn),qt(Ln),SA();break;case 5:bA(S);break;case 4:Jf();break;case 13:qt(Bn);break;case 19:qt(Bn);break;case 10:ua(S.type._context);break;case 22:case 23:eb()}b=b.return}if(fi=h,di=h=Xl(h.current,null),Wi=ms=m,_i=0,$p=null,XA=yv=Qf=0,Gr=Xp=null,xi!==null){for(m=0;m<xi.length;m++)if(b=xi[m],S=b.interleaved,S!==null){b.interleaved=null;var R=S.next,L=b.pending;if(L!==null){var q=L.next;L.next=R,S.next=q}b.pending=S}xi=null}return h}function FR(h,m){do{var b=di;try{if(Vf(),q0.current=iv,Q0){for(var S=$n.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}Q0=!1}if(Kf=0,Li=tr=$n=null,Fp=!1,Up=0,$A.current=null,b===null||b.return===null){_i=1,$p=m,di=null;break}e:{var L=h,q=b.return,oe=b,Ie=m;if(m=Wi,oe.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var Xe=Ie,rt=oe,Et=rt.tag;if(!(rt.mode&1)&&(Et===0||Et===11||Et===15)){var gt=rt.alternate;gt?(rt.updateQueue=gt.updateQueue,rt.memoizedState=gt.memoizedState,rt.lanes=gt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var fn=rR(q);if(fn!==null){fn.flags&=-257,sR(fn,q,oe,L,m),fn.mode&1&&iR(L,Xe,m),m=fn,Ie=Xe;var ft=m.updateQueue;if(ft===null){var rr=new Set;rr.add(Ie),m.updateQueue=rr}else ft.add(Ie);break e}else{if(!(m&1)){iR(L,Xe,m),tb();break e}Ie=Error(o(426))}}else if(Rn&&oe.mode&1){var Ys=rR(q);if(Ys!==null){!(Ys.flags&65536)&&(Ys.flags|=256),sR(Ys,q,oe,L,m),_A(Ie);break e}}L=Ie,_i!==4&&(_i=2),Xp===null?Xp=[L]:Xp.push(L),Ie=IA(Ie,oe),oe=q;do{switch(oe.tag){case 3:oe.flags|=65536,m&=-m,oe.lanes|=m;var be=tR(oe,Ie,m);w3(oe,be);break e;case 1:L=Ie;var ae=oe.type,Ce=oe.stateNode;if(!(oe.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Vl===null||!Vl.has(Ce)))){oe.flags|=65536,m&=-m,oe.lanes|=m;var et=nR(oe,L,m);w3(oe,et);break e}}oe=oe.return}while(oe!==null)}zR(b)}catch(ut){m=ut,di===b&&b!==null&&(di=b=b.return);continue}break}while(1)}function UR(){var h=vv.current;return vv.current=iv,h===null?iv:h}function tb(){(_i===0||_i===3||_i===2)&&(_i=4),fi===null||!(Qf&268435455)&&!(yv&268435455)||$l(fi,Wi)}function Ev(h,m){var b=Ut;Ut|=2;var S=UR();fi===h&&Wi===m||mu(h,m);do try{tH();break}catch(R){FR(h,R)}while(1);if(Vf(),Ut=b,vv.current=S,di!==null)throw Error(o(261));return fi=null,Wi=0,_i}function tH(){for(;di!==null;)NR(di)}function nH(){for(;di!==null&&!Cp();)NR(di)}function NR(h){var m=VR(h.alternate,h,ms);h.memoizedProps=h.pendingProps,m===null?zR(h):di=m,$A.current=null}function zR(h){var m=h;do{var b=m.alternate;if(h=m.return,m.flags&32768){if(b=Y7(b,m),b!==null){b.flags&=32767,di=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{_i=6,di=null;return}}else if(b=j7(b,m,ms),b!==null){di=b;return}if(m=m.sibling,m!==null){di=m;return}di=m=h}while(m!==null);_i===0&&(_i=5)}function gu(h,m){var b=Nt,S=ni.transition;try{ni.transition=null,Nt=1,iH(h,m,b)}finally{ni.transition=S,Nt=b}return null}function iH(h,m,b){do vu();while(Wl!==null);if(Ut&6)throw Error(o(327));var S=h.finishedWork,R=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var L=S.lanes|S.childLanes;if(Ul(h,L),h===fi&&(di=fi=null,Wi=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||_v||(_v=!0,WR(Cr,function(){return vu(),null})),L=(S.flags&15990)!==0,S.subtreeFlags&15990||L){L=ni.transition,ni.transition=null;var q=Nt;Nt=1;var oe=Ut;Ut|=4,$A.current=null,K7(h,S),q7(h,S),X(h.containerInfo),h.current=S,Q7(S),H0(),Ut=oe,Nt=q,ni.transition=L}else h.current=S;if(_v&&(_v=!1,Wl=h,Av=R),L=h.pendingLanes,L===0&&(Vl=null),Rp(S.stateNode),Vr(h,Tn()),m!==null)for(b=h.onRecoverableError,S=0;S<m.length;S++)b(m[S]);if(xv)throw xv=!1,h=KA,KA=null,h;return Av&1&&h.tag!==0&&vu(),L=h.pendingLanes,L&1?h===qA?Yp++:(Yp=0,qA=h):Yp=0,Hr(),null}function vu(){if(Wl!==null){var h=Mp(Av),m=ni.transition,b=Nt;try{if(ni.transition=null,Nt=16>h?16:h,Wl===null)var S=!1;else{if(h=Wl,Wl=null,Av=0,Ut&6)throw Error(o(331));var R=Ut;for(Ut|=4,Ze=h.current;Ze!==null;){var L=Ze,q=L.child;if(Ze.flags&16){var oe=L.deletions;if(oe!==null){for(var Ie=0;Ie<oe.length;Ie++){var Xe=oe[Ie];for(Ze=Xe;Ze!==null;){var rt=Ze;switch(rt.tag){case 0:case 11:case 15:pu(8,rt,L)}var Et=rt.child;if(Et!==null)Et.return=rt,Ze=Et;else for(;Ze!==null;){rt=Ze;var gt=rt.sibling,fn=rt.return;if(SR(rt),rt===Xe){Ze=null;break}if(gt!==null){gt.return=fn,Ze=gt;break}Ze=fn}}}var ft=L.alternate;if(ft!==null){var rr=ft.child;if(rr!==null){ft.child=null;do{var Ys=rr.sibling;rr.sibling=null,rr=Ys}while(rr!==null)}}Ze=L}}if(L.subtreeFlags&2064&&q!==null)q.return=L,Ze=q;else e:for(;Ze!==null;){if(L=Ze,L.flags&2048)switch(L.tag){case 0:case 11:case 15:pu(9,L,L.return)}var be=L.sibling;if(be!==null){be.return=L.return,Ze=be;break e}Ze=L.return}}var ae=h.current;for(Ze=ae;Ze!==null;){q=Ze;var Ce=q.child;if(q.subtreeFlags&2064&&Ce!==null)Ce.return=q,Ze=Ce;else e:for(q=ae;Ze!==null;){if(oe=Ze,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Wp(9,oe)}}catch(ut){Wr(oe,oe.return,ut)}if(oe===q){Ze=null;break e}var et=oe.sibling;if(et!==null){et.return=oe.return,Ze=et;break e}Ze=oe.return}}if(Ut=R,Hr(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(zl,h)}catch{}S=!0}return S}finally{Nt=b,ni.transition=m}}return!1}function HR(h,m,b){m=IA(b,m),m=tR(h,m,1),Gl(h,m),m=Pr(),h=Sv(h,1),h!==null&&(aa(h,1,m),Vr(h,m))}function Wr(h,m,b){if(h.tag===3)HR(h,h,b);else for(;m!==null;){if(m.tag===3){HR(m,h,b);break}else if(m.tag===1){var S=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Vl===null||!Vl.has(S))){h=IA(b,h),h=nR(m,h,1),Gl(m,h),h=Pr(),m=Sv(m,1),m!==null&&(aa(m,1,h),Vr(m,h));break}}m=m.return}}function rH(h,m,b){var S=h.pingCache;S!==null&&S.delete(m),m=Pr(),h.pingedLanes|=h.suspendedLanes&b,fi===h&&(Wi&b)===b&&(_i===4||_i===3&&(Wi&130023424)===Wi&&500>Tn()-YA?mu(h,0):XA|=b),Vr(h,m)}function GR(h,m){m===0&&(h.mode&1?(m=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):m=1);var b=Pr();h=Sv(h,m),h!==null&&(aa(h,m,b),Vr(h,b))}function sH(h){var m=h.memoizedState,b=0;m!==null&&(b=m.retryLane),GR(h,b)}function oH(h,m){var b=0;switch(h.tag){case 13:var S=h.stateNode,R=h.memoizedState;R!==null&&(b=R.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(m),GR(h,b)}var VR;VR=function(h,m,b){if(h!==null)if(h.memoizedProps!==m.pendingProps||kn.current)ps=!0;else{if(!(h.lanes&b)&&!(m.flags&128))return ps=!1,X7(h,m,b);ps=!!(h.flags&131072)}else ps=!1,Rn&&m.flags&1048576&&R3(m,Y0,m.index);switch(m.lanes=0,m.tag){case 2:var S=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var R=mn(m,Ln.current);Di(m,b),R=MA(null,m,S,h,R,b);var L=CA();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,rn(S)?(L=!0,zs(m)):L=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,hA(m),R.updater=$0,m.stateNode=R,R._reactInternals=m,mA(m,S,h,b),m=kA(null,m,S,!0,L,b)):(m.tag=0,Rn&&L&&gA(m),Rr(null,m,R,b),m=m.child),m;case 16:S=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,R=S._init,S=R(S._payload),m.type=S,R=m.tag=lH(S),h=er(S,h),R){case 0:m=LA(null,m,S,h,b);break e;case 1:m=hR(null,m,S,h,b);break e;case 11:m=lR(null,m,S,h,b);break e;case 14:m=cR(null,m,S,er(S.type,h),b);break e}throw Error(o(306,S,""))}return m;case 0:return S=m.type,R=m.pendingProps,R=m.elementType===S?R:er(S,R),LA(h,m,S,R,b);case 1:return S=m.type,R=m.pendingProps,R=m.elementType===S?R:er(S,R),hR(h,m,S,R,b);case 3:e:{if(pR(m),h===null)throw Error(o(387));S=m.pendingProps,L=m.memoizedState,R=L.element,b3(h,m),j0(m,S,null,b);var q=m.memoizedState;if(S=q.element,_e&&L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:q.cache,transitions:q.transitions},m.updateQueue.baseState=L,m.memoizedState=L,m.flags&256){R=Error(o(423)),m=mR(h,m,S,b,R);break e}else if(S!==R){R=Error(o(424)),m=mR(h,m,S,b,R);break e}else for(_e&&(hs=vi(m.stateNode.containerInfo),ds=m,Rn=!0,Co=null,Dp=!1),b=B3(m,null,S,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if($f(),S===R){m=Xa(h,m,b);break e}Rr(h,m,S,b)}m=m.child}return m;case 5:return O3(m),h===null&&xA(m),S=m.type,R=m.pendingProps,L=h!==null?h.memoizedProps:null,q=R.children,ie(S,R)?q=null:L!==null&&ie(S,L)&&(m.flags|=32),dR(h,m),Rr(h,m,q,b),m.child;case 6:return h===null&&xA(m),null;case 13:return gR(h,m,b);case 4:return AA(m,m.stateNode.containerInfo),S=m.pendingProps,h===null?m.child=Xf(m,null,S,b):Rr(h,m,S,b),m.child;case 11:return S=m.type,R=m.pendingProps,R=m.elementType===S?R:er(S,R),lR(h,m,S,R,b);case 7:return Rr(h,m,m.pendingProps,b),m.child;case 8:return Rr(h,m,m.pendingProps.children,b),m.child;case 12:return Rr(h,m,m.pendingProps.children,b),m.child;case 10:e:{if(S=m.type._context,R=m.pendingProps,L=m.memoizedProps,q=R.value,V0(m,S,q),L!==null)if(fs(L.value,q)){if(L.children===R.children&&!kn.current){m=Xa(h,m,b);break e}}else for(L=m.child,L!==null&&(L.return=m);L!==null;){var oe=L.dependencies;if(oe!==null){q=L.child;for(var Ie=oe.firstContext;Ie!==null;){if(Ie.context===S){if(L.tag===1){Ie=Va(-1,b&-b),Ie.tag=2;var Xe=L.updateQueue;if(Xe!==null){Xe=Xe.shared;var rt=Xe.pending;rt===null?Ie.next=Ie:(Ie.next=rt.next,rt.next=Ie),Xe.pending=Ie}}L.lanes|=b,Ie=L.alternate,Ie!==null&&(Ie.lanes|=b),ui(L.return,b,m),oe.lanes|=b;break}Ie=Ie.next}}else if(L.tag===10)q=L.type===m.type?null:L.child;else if(L.tag===18){if(q=L.return,q===null)throw Error(o(341));q.lanes|=b,oe=q.alternate,oe!==null&&(oe.lanes|=b),ui(q,b,m),q=L.sibling}else q=L.child;if(q!==null)q.return=L;else for(q=L;q!==null;){if(q===m){q=null;break}if(L=q.sibling,L!==null){L.return=q.return,q=L;break}q=q.return}L=q}Rr(h,m,R.children,b),m=m.child}return m;case 9:return R=m.type,S=m.pendingProps.children,Di(m,b),R=un(R),S=S(R),m.flags|=1,Rr(h,m,S,b),m.child;case 14:return S=m.type,R=er(S,m.pendingProps),R=er(S.type,R),cR(h,m,S,R,b);case 15:return uR(h,m,m.type,m.pendingProps,b);case 17:return S=m.type,R=m.pendingProps,R=m.elementType===S?R:er(S,R),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,rn(S)?(h=!0,zs(m)):h=!1,Di(m,b),C3(m,S,R),mA(m,S,R,b),kA(null,m,S,!0,h,b);case 19:return _R(h,m,b);case 22:return fR(h,m,b)}throw Error(o(156,m.tag))};function WR(h,m){return Ga(h,m)}function aH(h,m,b,S){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(h,m,b,S){return new aH(h,m,b,S)}function nb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function lH(h){if(typeof h=="function")return nb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===_)return 14}return 2}function Xl(h,m){var b=h.alternate;return b===null?(b=Xs(h.tag,m,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=m,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,m=h.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function Mv(h,m,b,S,R,L){var q=2;if(S=h,typeof h=="function")nb(h)&&(q=1);else if(typeof h=="string")q=5;else e:switch(h){case u:return yu(b.children,R,L,m);case f:q=8,R|=8;break;case d:return h=Xs(12,b,m,R|2),h.elementType=d,h.lanes=L,h;case y:return h=Xs(13,b,m,R),h.elementType=y,h.lanes=L,h;case v:return h=Xs(19,b,m,R),h.elementType=v,h.lanes=L,h;case w:return Cv(b,R,L,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:q=10;break e;case g:q=9;break e;case x:q=11;break e;case _:q=14;break e;case A:q=16,S=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return m=Xs(q,b,m,R),m.elementType=h,m.type=S,m.lanes=L,m}function yu(h,m,b,S){return h=Xs(7,h,S,m),h.lanes=b,h}function Cv(h,m,b,S){return h=Xs(22,h,S,m),h.elementType=w,h.lanes=b,h.stateNode={},h}function ib(h,m,b){return h=Xs(6,h,null,m),h.lanes=b,h}function rb(h,m,b){return m=Xs(4,h.children!==null?h.children:[],h.key,m),m.lanes=b,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function cH(h,m,b,S,R){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=S,this.onRecoverableError=R,_e&&(this.mutableSourceEagerHydrationData=null)}function jR(h,m,b,S,R,L,q,oe,Ie){return h=new cH(h,m,b,oe,Ie),m===1?(m=1,L===!0&&(m|=8)):m=0,L=Xs(3,null,null,m),h.current=L,L.stateNode=h,L.memoizedState={element:S,isDehydrated:b,cache:null,transitions:null},hA(L),h}function $R(h){if(!h)return yi;h=h._reactInternals;e:{if(T(h)!==h||h.tag!==1)throw Error(o(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(rn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(h.tag===1){var b=h.type;if(rn(b))return oa(h,b,m)}return m}function XR(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=N(m),h===null?null:h.stateNode}function YR(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<m?b:m}}function sb(h,m){YR(h,m),(h=h.alternate)&&YR(h,m)}function uH(h){return h=N(h),h===null?null:h.stateNode}function fH(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var m=Pr();$s(h,134217728,m),sb(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=Pr(),b=jl(h);$s(h,b,m),sb(h,b)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var b=za(m.pendingLanes);b!==0&&(la(m,b|1),Vr(m,Tn()),!(Ut&6)&&(Zf(),Hr()))}break;case 13:var S=Pr();OR(function(){return $s(h,1,S)}),sb(h,1)}},t.batchedUpdates=function(h,m){var b=Ut;Ut|=1;try{return h(m)}finally{Ut=b,Ut===0&&(Zf(),ca&&Hr())}},t.createComponentSelector=function(h){return{$$typeof:dv,value:h}},t.createContainer=function(h,m,b,S,R,L,q){return jR(h,m,!1,null,b,S,R,L,q)},t.createHasPseudoClassSelector=function(h){return{$$typeof:hv,value:h}},t.createHydrationContainer=function(h,m,b,S,R,L,q,oe,Ie){return h=jR(b,S,!0,h,R,L,q,oe,Ie),h.context=$R(null),b=h.current,S=Pr(),R=jl(b),L=Va(S,R),L.callback=m??null,Gl(b,L),h.current.lanes=R,aa(h,R,S),Vr(h,S),h},t.createPortal=function(h,m,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:h,containerInfo:m,implementation:b}},t.createRoleSelector=function(h){return{$$typeof:pv,value:h}},t.createTestNameSelector=function(h){return{$$typeof:mv,value:h}},t.createTextSelector=function(h){return{$$typeof:gv,value:h}},t.deferredUpdates=function(h){var m=Nt,b=ni.transition;try{return ni.transition=null,Nt=16,h()}finally{Nt=m,ni.transition=b}},t.discreteUpdates=function(h,m,b,S,R){var L=Nt,q=ni.transition;try{return ni.transition=null,Nt=1,h(m,b,S,R)}finally{Nt=L,ni.transition=q,Ut===0&&Zf()}},t.findAllNodes=jA,t.findBoundingRects=function(h,m){if(!Le)throw Error(o(363));m=jA(h,m),h=[];for(var b=0;b<m.length;b++)h.push($e(m[b]));for(m=h.length-1;0<m;m--){b=h[m];for(var S=b.x,R=S+b.width,L=b.y,q=L+b.height,oe=m-1;0<=oe;oe--)if(m!==oe){var Ie=h[oe],Xe=Ie.x,rt=Xe+Ie.width,Et=Ie.y,gt=Et+Ie.height;if(S>=Xe&&L>=Et&&R<=rt&&q<=gt){h.splice(m,1);break}else if(S!==Xe||b.width!==Ie.width||gt<L||Et>q){if(!(L!==Et||b.height!==Ie.height||rt<S||Xe>R)){Xe>S&&(Ie.width+=Xe-S,Ie.x=S),rt<R&&(Ie.width=R-Xe),h.splice(m,1);break}}else{Et>L&&(Ie.height+=Et-L,Ie.y=L),gt<q&&(Ie.height=q-Et),h.splice(m,1);break}}}return h},t.findHostInstance=XR,t.findHostInstanceWithNoPortals=function(h){return h=O(h),h=h!==null?G(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return XR(h)},t.flushControlled=function(h){var m=Ut;Ut|=1;var b=ni.transition,S=Nt;try{ni.transition=null,Nt=1,h()}finally{Nt=S,ni.transition=b,Ut=m,Ut===0&&(Zf(),Hr())}},t.flushPassiveEffects=vu,t.flushSync=OR,t.focusWithin=function(h,m){if(!Le)throw Error(o(363));for(h=GA(h),m=LR(h,m),m=Array.from(m),h=0;h<m.length;){var b=m[h++];if(!B(b)){if(b.tag===5&&Te(b.stateNode))return!0;for(b=b.child;b!==null;)m.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(h,m){if(!Le)throw Error(o(363));var b=0,S=[];h=[GA(h),0];for(var R=0;R<h.length;){var L=h[R++],q=h[R++],oe=m[q];if((L.tag!==5||!B(L))&&(VA(L,oe)&&(S.push(WA(oe)),q++,q>b&&(b=q)),q<m.length))for(L=L.child;L!==null;)h.push(L,q),L=L.sibling}if(b<m.length){for(h=[];b<m.length;b++)h.push(WA(m[b]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return J(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:uH,findFiberByHostInstance:h.findFiberByHostInstance||fH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{zl=m.inject(h),us=m}catch{}h=!!m.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,m,b,S){if(!Le)throw Error(o(363));h=jA(h,m);var R=Se(h,b,S).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(h,m){var b=m._getVersion;b=b(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,b]:h.mutableSourceEagerHydrationData.push(m,b)},t.runWithPriority=function(h,m){var b=Nt;try{return Nt=h,m()}finally{Nt=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,m,b,S){var R=m.current,L=Pr(),q=jl(R);return b=$R(b),m.context===null?m.context=b:m.pendingContext=b,m=Va(L,q),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),Gl(R,m),h=$s(R,q,L),h!==null&&W0(h,R,q),q},t};lN.exports=cee;var uee=lN.exports;const fee=Ba(uee);function fN(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const cl=[];function dN(n,e,t=!1,i={}){for(const s of cl)if(fN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=cl.indexOf(r);s!==-1&&cl.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(cl.push(r),!t)throw r.promise}const hN=(n,e,t)=>dN(n,e,!1,t),dee=(n,e,t)=>void dN(n,e,!0,t),hee=n=>{if(n===void 0||n.length===0)cl.splice(0,cl.length);else{const e=cl.find(t=>fN(n,t.keys,t.equal));if(e){const t=cl.indexOf(e);t!==-1&&cl.splice(t,1)}}},wT={},pee=n=>void Object.assign(wT,n);function mee(n,e){function t(u,{args:f=[],attach:d,...p},g){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;y=Ld(v,{type:u,root:g,attach:d,primitive:!0})}else{const v=wT[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Ld(new v(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Rt?y.__r3f.attach="geometry":y instanceof gi&&(y.__r3f.attach="material")),x!=="inject"&&xw(y,p),y}function i(u,f){let d=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?yw(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Ld(f,{}),f.__r3f.parent=u,yE(f),kd(f)}}function r(u,f,d){let p=!1;if(f){var g,x;if((g=f.__r3f)!=null&&g.attach)yw(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const y=u.children.filter(_=>_!==f),v=y.indexOf(d);u.children=[...y.slice(0,v),f,...y.slice(v)],p=!0}p||(x=u.__r3f)==null||x.objects.push(f),f.__r3f||Ld(f,{}),f.__r3f.parent=u,yE(f),kd(f)}}function s(u,f,d=!1){u&&[...u].forEach(p=>o(f,p,d))}function o(u,f,d){if(f){var p,g,x;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==f)),(g=f.__r3f)!=null&&g.attach)_L(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&wee(f.__r3f.root,f)}const _=(x=f.__r3f)==null?void 0:x.primitive,A=d===void 0?f.dispose!==null&&!_:d;if(!_){var v;s((v=f.__r3f)==null?void 0:v.objects,f,A),s(f.children,f,A)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),A&&f.dispose&&f.type!=="Scene"&&gE.unstable_scheduleCallback(gE.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),kd(u)}}function a(u,f,d,p){var g;const x=(g=u.__r3f)==null?void 0:g.parent;if(!x)return;const y=t(f,d,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&i(y,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>i(y,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),i(x,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:fee({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,i(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&r(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const{args:g=[],children:x,...y}=p,{args:v=[],children:_,...A}=d;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((E,M)=>E!==v[M]))return[!0];const w=_N(u,y,A,!0);return w.changes.length?[!1,w]:null}},commitUpdate(u,[f,d],p,g,x,y){f?a(u,p,x,y):xw(u,d)},commitMount(u,f,d,p){var g;const x=(g=u.__r3f)!=null?g:{};u.raycast&&x.handlers&&x.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ld(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&_L(p,u,d),u.isObject3D&&(u.visible=!1),kd(u)},unhideInstance(u,f){var d;const{attach:p,parent:g}=(d=u.__r3f)!=null?d:{};p&&g&&yw(g,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),kd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&_n.fun(performance.now)?performance.now:_n.fun(Date.now)?Date.now:()=>0,scheduleTimeout:_n.fun(setTimeout)?setTimeout:void 0,cancelTimeout:_n.fun(clearTimeout)?clearTimeout:void 0}),applyProps:xw}}var gL,vL;const vw=n=>"colorSpace"in n||"outputColorSpace"in n,pN=()=>{var n;return(n=wT.ColorManagement)!=null?n:null},mN=n=>n&&n.isOrthographicCamera,gee=n=>n&&n.hasOwnProperty("current"),S0=typeof window<"u"&&((gL=window.document)!=null&&gL.createElement||((vL=window.navigator)==null?void 0:vL.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function gN(n){const e=I.useRef(n);return S0(()=>void(e.current=n),[n]),e}function vee({set:n}){return S0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class vN extends I.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}vN.getDerivedStateFromError=()=>({error:!0});const yN="__default",yL=new Map,yee=n=>n&&!!n.memoized&&!!n.changes;function xN(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const hm=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},_n={obj:n=>n===Object(n)&&!_n.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(_n.str(n)||_n.num(n))return n===e;const s=_n.obj(n);if(s&&i==="reference")return n===e;const o=_n.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!_n.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(_n.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function xee(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function _ee(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ld(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function vE(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const xL=/-\d+$/;function yw(n,e,t){if(_n.str(t)){if(xL.test(t)){const s=t.replace(xL,""),{target:o,key:a}=vE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=vE(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function _L(n,e,t){var i,r;if(_n.str(t)){const{target:s,key:o}=vE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function _N(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(r),p=[];if(c){const x=Object.keys(l);for(let y=0;y<x.length;y++)r.hasOwnProperty(x[y])||d.unshift([x[y],yN+"remove"])}d.forEach(([x,y])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&x==="object"||_n.equ(y,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return p.push([x,y,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),p.push([x,y,!1,_]);for(const A in r){const w=r[A];A.startsWith(`${x}-`)&&p.push([A,w,!1,A.split("-")])}});const g={...r};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function xw(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=yee(e)?e:_N(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[p,g,x,y]=c[d];if(vw(n)){const w="srgb",E="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?w:E):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?w:E)}let v=n,_=v[p];if(y.length&&(_=y.reduce((A,w)=>A[w],n),!(_&&_.set))){const[A,...w]=y.reverse();v=w.reverse().reduce((E,M)=>E[M],n),p=A}if(g===yN+"remove")if(v.constructor){let A=yL.get(v.constructor);A||(A=new v.constructor,yL.set(v.constructor,A)),g=A[p]}else g=0;if(x)g?s.handlers[p]=g:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof nf)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const A=_ instanceof Ke;!A&&_.setScalar?_.setScalar(g):_ instanceof nf&&g instanceof nf?_.mask=g.mask:_.set(g),!pN()&&!a.linear&&A&&_.convertSRGBToLinear()}}else if(v[p]=g,v[p]instanceof Mn&&v[p].format===qr&&v[p].type===Ea){const A=v[p];vw(A)&&vw(a.gl)?A.colorSpace=a.gl.outputColorSpace:A.encoding=a.gl.outputEncoding}kd(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(n);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&yE(n),n}function kd(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function yE(n){n.onUpdate==null||n.onUpdate(n)}function Aee(n,e){n.manual||(mN(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Hy(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function bee(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zd.ContinuousEventPriority;default:return Zd.DefaultEventPriority}}function AN(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function wee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{AN(t.capturedMap,e,i,r)})}function See(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<p.length;v++){const _=hm(p[v]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const _=hm(v);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var A;_.events.compute==null||_.events.compute(l,_,(A=_.previousRoot)==null?void 0:A.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(v,!0):[]}let x=p.flatMap(g).sort((v,_)=>{const A=hm(v.object),w=hm(_.object);return!A||!w?v.distance-_.distance:w.events.priority-A.events.priority||v.distance-_.distance}).filter(v=>{const _=Hy(v);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const v of x){let _=v.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...v,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())f.has(Hy(v.intersection))||d.push(v.intersection);return d}function r(l,c,u,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const g of l){const x=hm(g.object)||d,{raycaster:y,pointer:v,camera:_,internal:A}=x,w=new Y(v.x,v.y,0).unproject(_),E=D=>{var O,N;return(O=(N=A.capturedMap.get(D))==null?void 0:N.has(g.eventObject))!=null?O:!1},M=D=>{const O={intersection:g,target:c.target};A.capturedMap.has(D)?A.capturedMap.get(D).set(g.eventObject,O):A.capturedMap.set(D,new Map([[g.eventObject,O]])),c.target.setPointerCapture(D)},C=D=>{const O=A.capturedMap.get(D);O&&AN(A.capturedMap,g.eventObject,O,D)};let P={};for(let D in c){let O=c[D];typeof O!="function"&&(P[D]=O)}let T={...g,...P,pointer:v,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:w,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!D||D.has(g.eventObject))&&(T.stopped=p.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:C},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:C},nativeEvent:c};if(f(T),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(Hy(u)),d!=null&&d.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=i(u,p?t:void 0),v=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(A=>A.eventObject)),g&&!y.length&&v<=2&&(o(u,d.interaction),f&&f(u)),p&&s(y);function _(A){const w=A.eventObject,E=w.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(p){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const C=Hy(A),P=d.hovered.get(C);P?P.stopped&&A.stopPropagation():(d.hovered.set(C,A),M.onPointerOver==null||M.onPointerOver(A),M.onPointerEnter==null||M.onPointerEnter(A))}M.onPointerMove==null||M.onPointerMove(A)}else{const C=M[l];C?(!g||d.initialHits.includes(w))&&(o(u,d.interaction.filter(P=>!d.initialHits.includes(P))),C(A)):g&&d.initialHits.includes(w)&&o(u,d.interaction.filter(P=>!d.initialHits.includes(P)))}}r(y,u,v,_)}}return{handlePointer:a}}const bN=n=>!!(n!=null&&n.render),vx=I.createContext(null),Eee=(n,e)=>{const t=aN((a,l)=>{const c=new Y,u=new Y,f=new Y;function d(v=l().camera,_=u,A=l().size){const{width:w,height:E,top:M,left:C}=A,P=w/E;_ instanceof Y?f.copy(_):f.set(..._);const T=v.getWorldPosition(c).distanceTo(f);if(mN(v))return{width:w/v.zoom,height:E/v.zoom,top:M,left:C,factor:1,distance:T,aspect:P};{const D=v.fov*Math.PI/180,O=2*Math.tan(D/2)*T,N=O*(w/E);return{width:N,height:O,top:M,left:C,factor:w/N,distance:T,aspect:P}}}let p;const g=v=>a(_=>({performance:{..._.performance,current:v}})),x=new Be;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(l(),v),advance:(v,_)=>e(v,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xT,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();p&&clearTimeout(p),v.performance.current!==v.performance.min&&g(v.performance.min),p=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>a(_=>({..._,events:{..._.events,...v}})),setSize:(v,_,A,w,E)=>{const M=l().camera,C={width:v,height:_,top:w||0,left:E||0,updateStyle:A};a(P=>({size:C,viewport:{...P.viewport,...d(M,u,C)}}))},setDpr:v=>a(_=>{const A=xN(v);return{viewport:{..._.viewport,dpr:A,initialDpr:_.viewport.initialDpr||A}}}),setFrameloop:(v="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,v!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,_,A)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:v,priority:_,store:A}),w.subscribers=w.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==v))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==r||c.dpr!==s){var d;r=l,s=c.dpr,Aee(a,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function ST(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let Gy,wN=new Set,SN=new Set,EN=new Set;const MN=n=>ST(n,wN),CN=n=>ST(n,SN),Mee=n=>ST(n,EN);function _w(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function pm(n,e){switch(n){case"before":return _w(wN,e);case"after":return _w(SN,e);case"tail":return _w(EN,e)}}let Aw,bw;function ww(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Aw=e.internal.subscribers,Gy=0;Gy<Aw.length;Gy++)bw=Aw[Gy],bw.ref.current(bw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Cee(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,pm("before",l);for(const u of n.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=ww(l,r))}if(pm("after",l),t===0)return pm("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&pm("before",l),u)ww(l,u,f);else for(const d of n.values())ww(l,d.store.getState());c&&pm("after",l)}return{loop:s,invalidate:o,advance:a}}function TN(){const n=I.useContext(vx);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function cr(n=t=>t,e){return TN()(n,e)}function Sr(n,e=0){const t=TN(),i=t.getState().internal.subscribe,r=gN(n);return S0(()=>i(r,e,t),[e,i,t]),null}function RN(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,xee(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function E0(n,e,t,i){const r=Array.isArray(e)?e:[e],s=hN(RN(t,i),[n,...r],{equal:_n.equ});return Array.isArray(e)?s:s[0]}E0.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return dee(RN(t),[n,...i])};E0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return hee([n,...t])};const jh=new Map,{invalidate:AL,advance:bL}=Cee(jh),{reconciler:yx,applyProps:wd}=mee(jh,bee),Sd={objects:"shallow",strict:!1},Tee=(n,e)=>{const t=typeof n=="function"?n(e):n;return bN(t)?t:new KC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Ree(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Pee(n){const e=jh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Eee(AL,bL),o=t||yx.createContainer(s,Zd.ConcurrentRoot,null,!1,null,"",r,null);e||jh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:g,onCreated:x,shadows:y=!1,linear:v=!1,flat:_=!1,legacy:A=!1,orthographic:w=!1,frameloop:E="always",dpr:M=[1,2],performance:C,raycaster:P,camera:T,onPointerMissed:D}=u,O=s.getState(),N=O.gl;O.gl||O.set({gl:N=Tee(f,n)});let z=O.raycaster;z||O.set({raycaster:z=new rN});const{params:G,...W}=P||{};if(_n.equ(W,z,Sd)||wd(z,{...W}),_n.equ(G,z.params,Sd)||wd(z,{params:{...z.params,...G}}),!O.camera||O.camera===c&&!_n.equ(c,T,Sd)){c=T;const F=T instanceof g0,j=F?T:w?new Go(0,0,0,0,.1,1e3):new In(75,0,.1,1e3);F||(j.position.z=5,T&&wd(j,T),!O.camera&&!(T!=null&&T.rotation)&&j.lookAt(0,0,0)),O.set({camera:j})}if(!O.scene){let F;p instanceof Hh?F=p:(F=new Hh,p&&wd(F,p)),O.set({scene:Ld(F)})}if(!O.xr){const F=(ne,ie)=>{const ce=s.getState();ce.frameloop!=="never"&&bL(ne,!0,ce,ie)},j=()=>{const ne=s.getState();ne.gl.xr.enabled=ne.gl.xr.isPresenting,ne.gl.xr.setAnimationLoop(ne.gl.xr.isPresenting?F:null),ne.gl.xr.isPresenting||AL(ne)},se={connect(){const ne=s.getState().gl;ne.xr.addEventListener("sessionstart",j),ne.xr.addEventListener("sessionend",j)},disconnect(){const ne=s.getState().gl;ne.xr.removeEventListener("sessionstart",j),ne.xr.removeEventListener("sessionend",j)}};N.xr&&se.connect(),O.set({xr:se})}if(N.shadowMap){const F=N.shadowMap.enabled,j=N.shadowMap.type;if(N.shadowMap.enabled=!!y,_n.boo(y))N.shadowMap.type=Jm;else if(_n.str(y)){var J;const se={basic:f9,percentage:y_,soft:Jm,variance:ko};N.shadowMap.type=(J=se[y])!=null?J:Jm}else _n.obj(y)&&Object.assign(N.shadowMap,y);(F!==N.shadowMap.enabled||j!==N.shadowMap.type)&&(N.shadowMap.needsUpdate=!0)}const Z=pN();Z&&("enabled"in Z?Z.enabled=!A:"legacyMode"in Z&&(Z.legacyMode=A)),wd(N,{outputEncoding:v?3e3:3001,toneMapping:_?Ho:IC}),O.legacy!==A&&O.set(()=>({legacy:A})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==_&&O.set(()=>({flat:_})),f&&!_n.fun(f)&&!bN(f)&&!_n.equ(f,N,Sd)&&wd(N,f),g&&!O.events.handlers&&O.set({events:g(s)});const X=Ree(n,d);return _n.equ(X,O.size,Sd)||O.setSize(X.width,X.height,X.updateStyle,X.top,X.left),M&&O.viewport.dpr!==xN(M)&&O.setDpr(M),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:D}),C&&!_n.equ(C,O.performance,Sd)&&O.set(F=>({performance:{...F.performance,...C}})),a=x,l=!0,this},render(u){return l||this.configure(),yx.updateContainer(I.createElement(Iee,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){PN(n)}}}function Iee({store:n,children:e,onCreated:t,rootElement:i}){return S0(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),I.createElement(vx.Provider,{value:n},e)}function PN(n,e){const t=jh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),yx.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),_ee(r),jh.delete(n),e&&e(n)}catch{}},500)})}}yx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});function yn(){return yn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yn.apply(this,arguments)}function xE(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!i;return i||(i=setTimeout(l,e)),u&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}xE.debounce=xE;var Dee=xE;const wL=Ba(Dee);function Lee(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=I.useRef(!1);I.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=I.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:A,top:w,width:E,height:M,bottom:C,right:P,x:T,y:D}=l.current.element.getBoundingClientRect(),O={left:A,top:w,width:E,height:M,bottom:C,right:P,x:T,y:D};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),f.current&&!Fee(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,u?wL(_,u):_,c?wL(_,c):_]},[a,r,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=_=>{!_||_===l.current.element||(x(),l.current.element=_,l.current.scrollContainers=IN(_),y())};return Bee(g,!!t),kee(p),I.useEffect(()=>{x(),y()},[t,g,p]),I.useEffect(()=>x,[]),[v,o,d]}function kee(n){I.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Bee(n,e){I.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function IN(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...IN(n.parentElement)]}const Oee=["x","y","top","bottom","left","right","width","height"],Fee=(n,e)=>Oee.every(t=>n[t]===e[t]);var Uee=Object.defineProperty,Nee=Object.defineProperties,zee=Object.getOwnPropertyDescriptors,SL=Object.getOwnPropertySymbols,Hee=Object.prototype.hasOwnProperty,Gee=Object.prototype.propertyIsEnumerable,EL=(n,e,t)=>e in n?Uee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ML=(n,e)=>{for(var t in e||(e={}))Hee.call(e,t)&&EL(n,t,e[t]);if(SL)for(var t of SL(e))Gee.call(e,t)&&EL(n,t,e[t]);return n},Vee=(n,e)=>Nee(n,zee(e));function DN(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=DN(i,e,t);if(r)return r;i=e?null:i.sibling}}function LN(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ET=LN(I.createContext(null));class kN extends I.Component{render(){return I.createElement(ET.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:CL,ReactCurrentDispatcher:TL}=I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Wee(){const n=I.useContext(ET);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const i of[CL==null?void 0:CL.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=DN(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function jee(){var n,e;const t=Wee(),[i]=I.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==ET&&!i.has(s)&&i.set(s,(e=TL==null?void 0:TL.current)==null?void 0:e.readContext(LN(s))),r=r.return}return i}function $ee(){const n=jee();return I.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>I.createElement(e,null,I.createElement(t.Provider,Vee(ML({},i),{value:n.get(t)}))),e=>I.createElement(kN,ML({},e))),[n])}const Sw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xee(n){const{handlePointer:e}=See(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Sw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Sw[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Sw[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Yee=I.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=Xee,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:x,performance:y,raycaster:v,camera:_,onPointerMissed:A,onCreated:w,...E},M){I.useMemo(()=>pee(oee),[]);const C=$ee(),[P,T]=Lee({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=I.useRef(null),O=I.useRef(null);I.useImperativeHandle(M,()=>D.current);const N=gN(A),[z,G]=I.useState(!1),[W,J]=I.useState(!1);if(z)throw z;if(W)throw W;const Z=I.useRef(null);S0(()=>{const $=D.current;T.width>0&&T.height>0&&$&&(Z.current||(Z.current=Pee($)),Z.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:x,performance:y,raycaster:v,camera:_,size:T,onPointerMissed:(...X)=>N.current==null?void 0:N.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?gee(a)?a.current:a:O.current),l&&X.setEvents({compute:(F,j)=>{const se=F[l+"X"],ne=F[l+"Y"];j.pointer.set(se/j.size.width*2-1,-(ne/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),w==null||w(X)}}),Z.current.render(I.createElement(C,null,I.createElement(vN,{set:J},I.createElement(I.Suspense,{fallback:I.createElement(vee,{set:G})},e)))))}),I.useEffect(()=>{const $=D.current;if($)return()=>PN($)},[]);const H=a?"none":"auto";return I.createElement("div",yn({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...r}},E),I.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},I.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),K_=I.forwardRef(function(e,t){return I.createElement(kN,null,I.createElement(Yee,yn({},e,{ref:t})))}),Jee=`
uniform float u_intensity;
uniform float u_time;


varying float vDisplacement;

vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {

    vec3 vSigmaX = dFdx( surf_pos.xyz );
    vec3 vSigmaY = dFdy( surf_pos.xyz );
    vec3 vN = surf_norm; // normalized

    vec3 R1 = cross( vSigmaY, vN );
    vec3 R2 = cross( vN, vSigmaX );

    float fDet = dot( vSigmaX, R1 ) * faceDirection;

    vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
    return normalize( abs( fDet ) * surf_norm - vGrad );

}
`,Kee=`
    normal = perturbNormalArb( - vViewPosition, normal, vec2(dFdx(vDisplacement), dFdy(vDisplacement)), faceDirection ); 
`,qee=`
uniform float u_intensity;
uniform float u_time;

varying vec3 vPosition;
varying float vDisplacement;
varying vec2 vUv;


vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}

float noise(vec3 P){
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}






float map(float value, float inMin, float inMax, float outMin, float outMax) {
    return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);
}

float smoothMod(float axis, float amp, float rad){
    float top = cos(PI * (axis / amp)) * sin(PI * (axis / amp));
    float bottom = pow(sin(PI * (axis / amp)), 2.0) + pow(rad, 2.0);
    float at = atan(top / bottom);
    return amp * (1.0 / 2.0) - (1.0 / PI) * at;
}

float wave(vec3 position){
    float color = float(smoothMod(position.y*6.0,1.0,1.5));
    return map(color, 0.3, 0.6,0.0,1.0);
}
`,Qee=`

vec3 cords = normal;
cords.y += u_time;

vec3 noiseCords = vec3(noise(cords));
float pattern = wave(noiseCords);

vUv = uv;
vPosition = position;
vDisplacement = pattern* u_intensity;

transformed += normalize( objectNormal ) * vDisplacement;
`,M0=new Y,MT=new Y,Zee=new Y;function ete(n,e,t){const i=M0.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function tte(n,e){const t=M0.setFromMatrixPosition(n.matrixWorld),i=MT.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(Zee);return r.angleTo(s)>Math.PI/2}function nte(n,e,t,i){const r=M0.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function ite(n,e){if(e instanceof Go)return e.zoom;if(e instanceof In){const t=M0.setFromMatrixPosition(n.matrixWorld),i=MT.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function rte(n,e,t){if(e instanceof In||e instanceof Go){const i=M0.setFromMatrixPosition(n.matrixWorld),r=MT.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const _E=n=>Math.abs(n)<1e-10?0:n;function BN(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=_E(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const ste=(n=>e=>BN(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ote=(n=>(e,t)=>BN(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function ate(n){return n&&typeof n=="object"&&"current"in n}const lte=I.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:d,castShadow:p,receiveShadow:g,material:x,geometry:y,zIndexRange:v=[16777271,0],calculatePosition:_=ete,as:A="div",wrapperClass:w,pointerEvents:E="auto",...M},C)=>{const{gl:P,camera:T,scene:D,size:O,raycaster:N,events:z,viewport:G}=cr(),[W]=I.useState(()=>document.createElement(A)),J=I.useRef(),Z=I.useRef(null),H=I.useRef(0),$=I.useRef([0,0]),X=I.useRef(null),F=I.useRef(null),j=(a==null?void 0:a.current)||z.connected||P.domElement.parentNode,se=I.useRef(null),ne=I.useRef(!1),ie=I.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&ate(f[0]),[f]);I.useLayoutEffect(()=>{const He=P.domElement;f&&f==="blending"?(He.style.zIndex=`${Math.floor(v[0]/2)}`,He.style.position="absolute",He.style.pointerEvents="none"):(He.style.zIndex=null,He.style.position=null,He.style.pointerEvents=null)},[f]),I.useLayoutEffect(()=>{if(Z.current){const He=J.current=u_(W);if(D.updateMatrixWorld(),u)W.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ge=_(Z.current,T,O);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ge[0]}px,${ge[1]}px,0);transform-origin:0 0;`}return j&&(r?j.prepend(W):j.appendChild(W)),()=>{j&&j.removeChild(W),He.unmount()}}},[j,u]),I.useLayoutEffect(()=>{w&&(W.className=w)},[w]);const ce=I.useMemo(()=>u?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,u]),le=I.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);I.useLayoutEffect(()=>{if(ne.current=!1,u){var He;(He=J.current)==null||He.render(I.createElement("div",{ref:X,style:ce},I.createElement("div",{ref:F,style:le},I.createElement("div",{ref:C,className:i,style:t,children:n}))))}else{var ge;(ge=J.current)==null||ge.render(I.createElement("div",{ref:C,style:ce,className:i,children:n}))}});const ue=I.useRef(!0);Sr(He=>{if(Z.current){T.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const ge=u?$.current:_(Z.current,T,O);if(u||Math.abs(H.current-T.zoom)>e||Math.abs($.current[0]-ge[0])>e||Math.abs($.current[1]-ge[1])>e){const V=tte(Z.current,T);let _e=!1;ie&&(f!=="blending"?_e=[D]:Array.isArray(f)&&(_e=f.map(Ge=>Ge.current)));const de=ue.current;if(_e){const Ge=nte(Z.current,T,N,_e);ue.current=Ge&&!V}else ue.current=!V;de!==ue.current&&(d?d(!ue.current):W.style.display=ue.current?"block":"none");const ye=Math.floor(v[0]/2),pe=f?ie?[v[0],ye]:[ye-1,0]:v;if(W.style.zIndex=`${rte(Z.current,T,pe)}`,u){const[Ge,ve]=[O.width/2,O.height/2],Pe=T.projectionMatrix.elements[5]*ve,{isOrthographicCamera:Le,top:Ee,left:$e,bottom:U,right:B}=T,re=ste(T.matrixWorldInverse),Te=Le?`scale(${Pe})translate(${_E(-(B+$e)/2)}px,${_E((Ee+U)/2)}px)`:`translateZ(${Pe}px)`;let Se=Z.current.matrixWorld;c&&(Se=T.matrixWorldInverse.clone().transpose().copyPosition(Se).scale(Z.current.scale),Se.elements[3]=Se.elements[7]=Se.elements[11]=0,Se.elements[15]=1),W.style.width=O.width+"px",W.style.height=O.height+"px",W.style.perspective=Le?"":`${Pe}px`,X.current&&F.current&&(X.current.style.transform=`${Te}${re}translate(${Ge}px,${ve}px)`,F.current.style.transform=ote(Se,1/((l||10)/400)))}else{const Ge=l===void 0?1:ite(Z.current,T)*l;W.style.transform=`translate3d(${ge[0]}px,${ge[1]}px,0) scale(${Ge})`}$.current=ge,H.current=T.zoom}}if(!ie&&se.current&&!ne.current)if(u){if(X.current){const ge=X.current.children[0];if(ge!=null&&ge.clientWidth&&ge!=null&&ge.clientHeight){const{isOrthographicCamera:V}=T;if(V||y)M.scale&&(Array.isArray(M.scale)?M.scale instanceof Y?se.current.scale.copy(M.scale.clone().divideScalar(1)):se.current.scale.set(1/M.scale[0],1/M.scale[1],1/M.scale[2]):se.current.scale.setScalar(1/M.scale));else{const _e=(l||10)/400,de=ge.clientWidth*_e,ye=ge.clientHeight*_e;se.current.scale.set(de,ye,1)}ne.current=!0}}}else{const ge=W.children[0];if(ge!=null&&ge.clientWidth&&ge!=null&&ge.clientHeight){const V=1/G.factor,_e=ge.clientWidth*V,de=ge.clientHeight*V;se.current.scale.set(_e,de,1),ne.current=!0}se.current.lookAt(He.camera.position)}});const Fe=I.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return I.createElement("group",yn({},M,{ref:Z}),f&&!ie&&I.createElement("mesh",{castShadow:p,receiveShadow:g,ref:se},y||I.createElement("planeGeometry",null),x||I.createElement("shaderMaterial",{side:Kr,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader})))});function cte(n,e="pointer",t="auto"){I.useEffect(()=>{if(n)return document.body.style.cursor=e,()=>void(document.body.style.cursor=t)},[n])}function ON(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function eg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function ute(n,e){if(n){if(typeof n=="string")return AE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AE(n,e)}}function fte(n){if(Array.isArray(n))return AE(n)}function dte(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(n){return fte(n)||dte(n)||ute(n)||hte()}new Be;new Be;function mte(n,e,t){return Math.max(e,Math.min(t,n))}function gte(n,e){return mte(n-Math.floor(n/e)*e,0,e)}function vte(n,e){var t=gte(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function FN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ks=function n(e,t,i){var r=this;FN(this,n),eg(this,"dot2",function(s,o){return r.x*s+r.y*o}),eg(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},yte=[new Ks(1,1,0),new Ks(-1,1,0),new Ks(1,-1,0),new Ks(-1,-1,0),new Ks(1,0,1),new Ks(-1,0,1),new Ks(1,0,-1),new Ks(-1,0,-1),new Ks(0,1,1),new Ks(0,-1,1),new Ks(0,1,-1),new Ks(0,-1,-1)],RL=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],PL=new Array(512),IL=new Array(512),xte=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=RL[t]^e&255:i=RL[t]^e>>8&255,PL[t]=PL[t+256]=i,IL[t]=IL[t+256]=yte[i%12]}};xte(0);function _te(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function DL(n){var e=_te(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Ate=function n(e){var t=this;FN(this,n),eg(this,"seed",0),eg(this,"init",function(i){t.seed=i,t.value=DL(i)}),eg(this,"value",DL(this.seed)),this.init(e)};new Ate(Math.random());var bte=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*r)/t)},UN=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Si(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:UN,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;i=Math.max(1e-4,i);var c=2/i,u=o(c*r),f=n[e]-t,d=t,p=s*i;f=Math.min(Math.max(f,-p),p),t=n[e]-f;var g=(n.__damp[l]+c*f)*r;n.__damp[l]=(n.__damp[l]-c*g)*u;var x=t+(f+g)*u;return d-n[e]>0==x>d&&(x=d,n.__damp[l]=(x-d)/r),n[e]=x,!0}function vh(n,e,t,i,r,s,o,a){return Si(n,e,n[e]+vte(n[e],t),i,r,s,o,a)}var mm=new Be,LL,kL;function wte(n,e,t,i,r,s,o){return typeof e=="number"?mm.setScalar(e):Array.isArray(e)?mm.set(e[0],e[1]):mm.copy(e),LL=Si(n,"x",mm.x,t,i,r,s,o),kL=Si(n,"y",mm.y,t,i,r,s,o),LL||kL}var Ed=new Y,BL,OL,FL;function bE(n,e,t,i,r,s,o){return typeof e=="number"?Ed.setScalar(e):Array.isArray(e)?Ed.set(e[0],e[1],e[2]):Ed.copy(e),BL=Si(n,"x",Ed.x,t,i,r,s,o),OL=Si(n,"y",Ed.y,t,i,r,s,o),FL=Si(n,"z",Ed.z,t,i,r,s,o),BL||OL||FL}var Tu=new Wt,UL,NL,zL,HL;function Ste(n,e,t,i,r,s,o){return typeof e=="number"?Tu.setScalar(e):Array.isArray(e)?Tu.set(e[0],e[1],e[2],e[3]):Tu.copy(e),UL=Si(n,"x",Tu.x,t,i,r,s,o),NL=Si(n,"y",Tu.y,t,i,r,s,o),zL=Si(n,"z",Tu.z,t,i,r,s,o),HL=Si(n,"w",Tu.w,t,i,r,s,o),UL||NL||zL||HL}var gm=new pp,GL,VL,WL;function Ete(n,e,t,i,r,s,o){return Array.isArray(e)?gm.set(e[0],e[1],e[2],e[3]):gm.copy(e),GL=vh(n,"x",gm.x,t,i,r,s,o),VL=vh(n,"y",gm.y,t,i,r,s,o),WL=vh(n,"z",gm.z,t,i,r,s,o),GL||VL||WL}var Md=new Ke,jL,$L,XL;function Mte(n,e,t,i,r,s,o){return e instanceof Ke?Md.copy(e):Array.isArray(e)?Md.setRGB(e[0],e[1],e[2]):Md.set(e),jL=Si(n,"r",Md.r,t,i,r,s,o),$L=Si(n,"g",Md.g,t,i,r,s,o),XL=Si(n,"b",Md.b,t,i,r,s,o),jL||$L||XL}var Do=new oi,tl=new Wt,YL=new Wt,vm=new Wt,JL,KL,qL,QL;function NN(n,e,t,i,r,s,o){var a=n;Array.isArray(e)?Do.set(e[0],e[1],e[2],e[3]):Do.copy(e);var l=n.dot(Do)>0?1:-1;return Do.x*=l,Do.y*=l,Do.z*=l,Do.w*=l,JL=Si(n,"x",Do.x,t,i,r,s,o),KL=Si(n,"y",Do.y,t,i,r,s,o),qL=Si(n,"z",Do.z,t,i,r,s,o),QL=Si(n,"w",Do.w,t,i,r,s,o),tl.set(n.x,n.y,n.z,n.w).normalize(),YL.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),vm.copy(tl).multiplyScalar(YL.dot(tl)/tl.dot(tl)),a.__damp.velocity_x-=vm.x,a.__damp.velocity_y-=vm.y,a.__damp.velocity_z-=vm.z,a.__damp.velocity_w-=vm.w,n.set(tl.x,tl.y,tl.z,tl.w),JL||KL||qL||QL}var ym=new gx,ZL,ek,tk;function Cte(n,e,t,i,r,s,o){return Array.isArray(e)?ym.set(e[0],e[1],e[2]):ym.copy(e),ZL=Si(n,"radius",ym.radius,t,i,r,s,o),ek=vh(n,"phi",ym.phi,t,i,r,s,o),tk=vh(n,"theta",ym.theta,t,i,r,s,o),ZL||ek||tk}var Vy=new At,nk=new Y,ik=new oi,rk=new Y,sk,ok,ak;function Tte(n,e,t,i,r,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new Y,rotation:new oi,scale:new Y},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Vy.set.apply(Vy,pte(e)):Vy.copy(e),Vy.decompose(nk,ik,rk),sk=bE(a.__damp.position,nk,t,i,r,s,o),ok=NN(a.__damp.rotation,ik,t,i,r,s,o),ak=bE(a.__damp.scale,rk,t,i,r,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),sk||ok||ak}var lk=Object.freeze({__proto__:null,rsqw:bte,exp:UN,damp:Si,dampAngle:vh,damp2:wte,damp3:bE,damp4:Ste,dampE:Ete,dampC:Mte,dampQ:NN,dampS:Cte,dampM:Tte});const CT=I.createContext(null);function ia(){return I.useContext(CT)}function Rte({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:i,pages:r=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:f,gl:d,size:p,invalidate:g,events:x}=cr(),[y]=I.useState(()=>document.createElement("div")),[v]=I.useState(()=>document.createElement("div")),[_]=I.useState(()=>document.createElement("div")),A=d.domElement.parentNode,w=I.useRef(0),E=I.useMemo(()=>({el:y,eps:n,fill:v,fixed:_,horizontal:i,damping:o,offset:0,delta:0,scroll:w,pages:r,range(P,T,D=0){const O=P-D,N=O+T+D*2;return this.offset<O?0:this.offset>N?1:(this.offset-O)/(N-O)},curve(P,T,D=0){return Math.sin(this.range(P,T,D)*Math.PI)},visible(P,T,D=0){const O=P-D,N=O+T+D*2;return this.offset>=O&&this.offset<=N}}),[n,o,i,r]);I.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[i?"overflowX":"overflowY"]="auto",y.style[i?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const T in l)y.style[T]=l[T];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",y.appendChild(_),v.style.height=i?"100%":`${r*s*100}%`,v.style.width=i?`${r*s*100}%`:"100%",v.style.pointerEvents="none",y.appendChild(v),A.appendChild(y),y[i?"scrollLeft":"scrollTop"]=1;const C=x.connected||d.domElement;requestAnimationFrame(()=>x.connect==null?void 0:x.connect(y));const P=u().events.compute;return f({compute(T,D){const{left:O,top:N}=A.getBoundingClientRect(),z=T.clientX-O,G=T.clientY-N;D.pointer.set(z/D.size.width*2-1,-(G/D.size.height)*2+1),D.raycaster.setFromCamera(D.pointer,D.camera)}}),()=>{A.removeChild(y),f({compute:P}),x.connect==null||x.connect(C)}},[r,s,i,y,v,_,A]),I.useEffect(()=>{if(x.connected===y){const C=p[i?"width":"height"],P=y[i?"scrollWidth":"scrollHeight"],T=P-C;let D=0,O=!0,N=!0;const z=()=>{if(!(!e||N)&&(g(),D=y[i?"scrollLeft":"scrollTop"],w.current=D/T,t)){if(!O){if(D>=T){const W=1-E.offset;y[i?"scrollLeft":"scrollTop"]=1,w.current=E.offset=-W,O=!0}else if(D<=0){const W=1+E.offset;y[i?"scrollLeft":"scrollTop"]=P,w.current=E.offset=W,O=!0}}O&&setTimeout(()=>O=!1,40)}};y.addEventListener("scroll",z,{passive:!0}),requestAnimationFrame(()=>N=!1);const G=W=>y.scrollLeft+=W.deltaY/2;return i&&y.addEventListener("wheel",G,{passive:!0}),()=>{y.removeEventListener("scroll",z),i&&y.removeEventListener("wheel",G)}}},[y,x,p,t,E,g,i,e]);let M=0;return Sr((C,P)=>{M=E.offset,lk.damp(E,"offset",w.current,o,P,a,void 0,n),lk.damp(E,"delta",Math.abs(M-E.offset),o,P,a,void 0,n),E.delta>n&&g()}),I.createElement(CT.Provider,{value:E},c)}const Pte=I.forwardRef(({children:n},e)=>{const t=I.useRef(null),i=ia(),{width:r,height:s}=cr(o=>o.viewport);return Sr(()=>{t.current.position.x=i.horizontal?-r*(i.pages-1)*i.offset:0,t.current.position.y=i.horizontal?0:s*(i.pages-1)*i.offset}),I.createElement("group",{ref:ON([e,t])},n)}),Ite=I.forwardRef(({children:n,style:e,...t},i)=>{const r=ia(),s=I.useRef(null),{width:o,height:a}=cr(u=>u.size),l=I.useContext(vx),c=I.useMemo(()=>u_(r.fixed),[r.fixed]);return Sr(()=>{r.delta>r.eps&&(s.current.style.transform=`translate3d(${r.horizontal?-o*(r.pages-1)*r.offset:0}px,${r.horizontal?0:a*(r.pages-1)*-r.offset}px,0)`)}),c.render(I.createElement("div",yn({ref:ON([i,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),I.createElement(CT.Provider,{value:r},I.createElement(vx.Provider,{value:l},n)))),null}),Dte=I.forwardRef(({html:n,...e},t)=>{const i=n?Ite:Pte;return I.createElement(i,yn({ref:t},e))});function Lte(n,e,t){return Math.max(e,Math.min(n,t))}const pr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function ck(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function uk(n,e,t,i=.15){return i===0?Lte(n,e,t):n<e?-ck(e-n,t-e,i)+e:n>t?+ck(n-t,t-e,i)+t:n}function kte(n,[e,t],[i,r]){const[[s,o],[a,l]]=n;return[uk(e,s,o,i),uk(t,a,l,r)]}function Bte(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ote(n){var e=Bte(n,"string");return typeof e=="symbol"?e:String(e)}function $r(n,e,t){return e=Ote(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(t),!0).forEach(function(i){$r(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fk(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const zN={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function dk(n){return n?n[0].toUpperCase()+n.slice(1):""}const Fte=["enter","leave"];function Ute(n=!1,e){return n&&!Fte.includes(e)}function Nte(n,e="",t=!1){const i=zN[n],r=i&&i[e]||e;return"on"+dk(n)+dk(r)+(Ute(t,r)?"Capture":"")}const zte=["gotpointercapture","lostpointercapture"];function Hte(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=zte.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function Gte(n,e=""){const t=zN[n],i=t&&t[e]||e;return n+i}function q_(n){return"touches"in n}function HN(n){return q_(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Vte(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function Wte(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function GN(n){return q_(n)?Wte(n)[0]:n}function jte(n){return Vte(n).map(e=>e.identifier)}function Ew(n){const e=GN(n);return q_(n)?e.identifier:e.pointerId}function hk(n){const e=GN(n);return[e.clientX,e.clientY]}function $te(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function xx(n,...e){return typeof n=="function"?n(...e):n}function Xte(){}function Yte(...n){return n.length===0?Xte:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function pk(n,e){return Object.assign({},e,n||{})}const Jte=32;let Kte=class{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?xx(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,$te(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const M=t._delta.map(Math.abs);pr.addTo(t._distance,M)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=i.threshold,{_step:u,values:f}=t;if(i.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(i.hasCustomTransform){const[M,C]=f;d[0]=u[0]!==!1?M-u[0]:0,d[1]=u[1]!==!1?C-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=xx(i.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[x,y]=t.offset,[[v,_],[A,w]]=t._bounds;t.overflow=[x<v?-1:x>_?1:0,y<A?-1:y>w?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const E=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=kte(t._bounds,t.offset,E),t.delta=pr.sub(t.offset,p),this.computeMovement(),g&&(!t.last||s>Jte)){t.delta=pr.sub(t.offset,p);const M=t.delta.map(Math.abs);pr.addTo(t.distance,M),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[M[0]/s,M[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(Vn(Vn(Vn({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}};function qte([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class Qte extends Kte{constructor(...e){super(...e),$r(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=pr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=pr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[HN(e)]:i.axisThreshold;t.axis=qte(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Zte=n=>n,mk=.15,VN={enabled(n=!0){return n},eventOptions(n,e,t){return Vn(Vn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[mk,mk];case!1:return[0,0];default:return pr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return pr.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||Zte},threshold(n){return pr.toVector(n,0)}},ene=0,C0=Vn(Vn({},VN),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=ene){return n},bounds(n={}){if(typeof n=="function")return s=>C0.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),gk={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class tne extends Qte{constructor(...e){super(...e),$r(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=C0.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=Ew(e),i._pointerActive=!0,this.computeValues(hk(e)),this.computeInitial(),t.preventScrollAxis&&HN(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const r=Ew(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=hk(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=pr.sub(s,t._values),this.computeValues(s)),pr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=Ew(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=i.swipe.velocity,[p,g]=i.swipe.distance,x=i.swipe.duration;if(t.elapsedTime<x){const y=Math.abs(a/t.timeDelta),v=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>p&&(t.swipe[0]=Math.sign(a)),v>d&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,nne(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=gk[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,pr.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in gk&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function nne(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const T0=typeof window<"u"&&window.document&&window.document.createElement;function ine(){return T0&&"ontouchstart"in window}function vk(){return ine()||T0&&window.navigator.maxTouchPoints>1}function rne(){return T0&&"onpointerdown"in window}function sne(){return T0&&"exitPointerLock"in window.document}function one(){try{return"constructor"in GestureEvent}catch{return!1}}const ao={isBrowser:T0,gesture:one(),touch:vk(),touchscreen:vk(),pointer:rne(),pointerLock:sne()},ane=250,lne=180,cne=.5,une=50,fne=250,dne=10,yk={mouse:0,touch:0,pen:8},hne=Vn(Vn({},C0),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&ao.pointerLock,ao.touch&&t?"touch":this.pointerLock?"mouse":ao.pointer&&!r?"pointer":ao.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?ane:void 0,!(!ao.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=pr.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=cne,distance:e=une,duration:t=fne}={}){return{velocity:this.transform(pr.toVector(n)),distance:this.transform(pr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return lne;case!1:return 0;default:return n}},axisThreshold(n){return n?Vn(Vn({},yk),n):yk},keyboardDisplacement(n=dne){return n}});Vn(Vn({},VN),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!ao.touch&&ao.gesture)return"gesture";if(ao.touch&&i)return"touch";if(ao.touchscreen){if(ao.pointer)return"pointer";if(ao.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const a=pk(xx(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=pk(xx(i,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",pr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Vn(Vn({},C0),{},{mouseOnly:(n=!0)=>n});Vn(Vn({},C0),{},{mouseOnly:(n=!0)=>n});const WN=new Map,wE=new Map;function pne(n){WN.set(n.key,n.engine),wE.set(n.key,n.resolver)}const mne={key:"drag",engine:tne,resolver:hne};function gne(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function vne(n,e){if(n==null)return{};var t=gne(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const yne={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=ao.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},xne=["target","eventOptions","window","enabled","transform"];function C1(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=C1(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function _ne(n,e,t={}){const i=n,{target:r,eventOptions:s,window:o,enabled:a,transform:l}=i,c=vne(i,xne);if(t.shared=C1({target:r,eventOptions:s,window:o,enabled:a,transform:l},yne),e){const u=wE.get(e);t[e]=C1(Vn({shared:t.shared},c),u)}else for(const u in c){const f=wE.get(u);f&&(t[u]=C1(Vn({shared:t.shared},c[u]),f))}return t}class jN{constructor(e,t){$r(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const o=this._listeners,a=Gte(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Vn(Vn({},l),s);e.addEventListener(a,r,c);const u=()=>{e.removeEventListener(a,r,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Ane{constructor(){$r(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class bne{constructor(e){$r(this,"gestures",new Set),$r(this,"_targetEventStore",new jN(this)),$r(this,"gestureEventStores",{}),$r(this,"gestureTimeoutStores",{}),$r(this,"handlers",{}),$r(this,"config",{}),$r(this,"pointerIds",new Set),$r(this,"touchIds",new Set),$r(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),wne(this,e)}setEventIds(e){if(q_(e))return this.touchIds=new Set(jte(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=_ne(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=xk(i,a.eventOptions,!!r);if(a.enabled){const c=WN.get(o);new c(this,e,o).bind(l)}}const s=xk(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Vn(Vn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in i)i[s]=Yte(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:a,passive:l}=Hte(s);this._targetEventStore.add(r,o,"",i[s],{capture:a,passive:l})}}}}function Cd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new jN(n,e),n.gestureTimeoutStores[e]=new Ane}function wne(n,e){e.drag&&Cd(n,"drag"),e.wheel&&Cd(n,"wheel"),e.scroll&&Cd(n,"scroll"),e.move&&Cd(n,"move"),e.pinch&&Cd(n,"pinch"),e.hover&&Cd(n,"hover")}const xk=(n,e,t)=>(i,r,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?i:Nte(i,r,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function Sne(n,e={},t,i){const r=te.useMemo(()=>new bne(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),te.useEffect(r.effect.bind(r)),te.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function Ene(n,e){return pne(mne),Sne({drag:n},e||{},"drag")}const Mne=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(i.getState());c=d=>{const p=o(d);if(!u(f,p)){const g=f;a(f=p,g)}},l!=null&&l.fireImmediately&&a(f,f)}return r(c)},n(e,t,i)};function _k(n,e){if(e===J9)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===hx||e===NC){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===hx)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Cne=Object.defineProperty,Tne=(n,e,t)=>e in n?Cne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ct=(n,e,t)=>(Tne(n,typeof e!="symbol"?e+"":e,t),t);const Ak=(n,e)=>(n%e+e)%e;let Rne=class extends Oa{constructor(e,t){super(),Ct(this,"object"),Ct(this,"domElement"),Ct(this,"enabled",!0),Ct(this,"target",new Y),Ct(this,"minDistance",0),Ct(this,"maxDistance",1/0),Ct(this,"minZoom",0),Ct(this,"maxZoom",1/0),Ct(this,"minPolarAngle",0),Ct(this,"maxPolarAngle",Math.PI),Ct(this,"minAzimuthAngle",-1/0),Ct(this,"maxAzimuthAngle",1/0),Ct(this,"enableDamping",!1),Ct(this,"dampingFactor",.05),Ct(this,"enableZoom",!0),Ct(this,"zoomSpeed",1),Ct(this,"enableRotate",!0),Ct(this,"rotateSpeed",1),Ct(this,"enablePan",!0),Ct(this,"panSpeed",1),Ct(this,"screenSpacePanning",!0),Ct(this,"keyPanSpeed",7),Ct(this,"autoRotate",!1),Ct(this,"autoRotateSpeed",2),Ct(this,"reverseOrbit",!1),Ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ct(this,"mouseButtons",{LEFT:Bu.ROTATE,MIDDLE:Bu.DOLLY,RIGHT:Bu.PAN}),Ct(this,"touches",{ONE:Ou.ROTATE,TWO:Ou.DOLLY_PAN}),Ct(this,"target0"),Ct(this,"position0"),Ct(this,"zoom0"),Ct(this,"_domElementKeyEvents",null),Ct(this,"getPolarAngle"),Ct(this,"getAzimuthalAngle"),Ct(this,"setPolarAngle"),Ct(this,"setAzimuthalAngle"),Ct(this,"getDistance"),Ct(this,"listenToKeyEvents"),Ct(this,"saveState"),Ct(this,"reset"),Ct(this,"update"),Ct(this,"connect"),Ct(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let he=Ak(Q,2*Math.PI),Me=u.phi;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let we=Math.abs(he-Me);2*Math.PI-we<we&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),f.phi=he-Me,i.update()},this.setAzimuthalAngle=Q=>{let he=Ak(Q,2*Math.PI),Me=u.theta;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let we=Math.abs(he-Me);2*Math.PI-we<we&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),f.theta=he-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",B),this._domElementKeyEvents=Q},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Q=new Y,he=new oi().setFromUnitVectors(e.up,new Y(0,1,0)),Me=he.clone().invert(),we=new Y,Oe=new oi,Ye=2*Math.PI;return function(){const ee=i.object.position;Q.copy(ee).sub(i.target),Q.applyQuaternion(he),u.setFromVector3(Q),i.autoRotate&&l===a.NONE&&N(D()),i.enableDamping?(u.theta+=f.theta*i.dampingFactor,u.phi+=f.phi*i.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Ue=i.minAzimuthAngle,me=i.maxAzimuthAngle;return isFinite(Ue)&&isFinite(me)&&(Ue<-Math.PI?Ue+=Ye:Ue>Math.PI&&(Ue-=Ye),me<-Math.PI?me+=Ye:me>Math.PI&&(me-=Ye),Ue<=me?u.theta=Math.max(Ue,Math.min(me,u.theta)):u.theta=u.theta>(Ue+me)/2?Math.max(Ue,u.theta):Math.min(me,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(i.minDistance,Math.min(i.maxDistance,u.radius)),i.enableDamping===!0?i.target.addScaledVector(p,i.dampingFactor):i.target.add(p),Q.setFromSpherical(u),Q.applyQuaternion(Me),ee.copy(i.target).add(Q),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,p.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),p.set(0,0,0)),d=1,g||we.distanceToSquared(i.object.position)>c||8*(1-Oe.dot(i.object.quaternion))>c?(i.dispatchEvent(r),we.copy(i.object.position),Oe.copy(i.object.quaternion),g=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Q,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Se),i.domElement.addEventListener("pointerdown",Ge),i.domElement.addEventListener("pointercancel",Le),i.domElement.addEventListener("wheel",U)},this.dispose=()=>{var Q,he,Me,we,Oe,Ye;(Q=i.domElement)==null||Q.removeEventListener("contextmenu",Se),(he=i.domElement)==null||he.removeEventListener("pointerdown",Ge),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",Le),(we=i.domElement)==null||we.removeEventListener("wheel",U),(Oe=i.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",ve),(Ye=i.domElement)==null||Ye.ownerDocument.removeEventListener("pointerup",Pe),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",B)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new gx,f=new gx;let d=1;const p=new Y;let g=!1;const x=new Be,y=new Be,v=new Be,_=new Be,A=new Be,w=new Be,E=new Be,M=new Be,C=new Be,P=[],T={};function D(){return 2*Math.PI/60/60*i.autoRotateSpeed}function O(){return Math.pow(.95,i.zoomSpeed)}function N(Q){i.reverseOrbit?f.theta+=Q:f.theta-=Q}function z(Q){i.reverseOrbit?f.phi+=Q:f.phi-=Q}const G=(()=>{const Q=new Y;return function(Me,we){Q.setFromMatrixColumn(we,0),Q.multiplyScalar(-Me),p.add(Q)}})(),W=(()=>{const Q=new Y;return function(Me,we){i.screenSpacePanning===!0?Q.setFromMatrixColumn(we,1):(Q.setFromMatrixColumn(we,0),Q.crossVectors(i.object.up,Q)),Q.multiplyScalar(Me),p.add(Q)}})(),J=(()=>{const Q=new Y;return function(Me,we){const Oe=i.domElement;if(Oe&&i.object instanceof In&&i.object.isPerspectiveCamera){const Ye=i.object.position;Q.copy(Ye).sub(i.target);let dt=Q.length();dt*=Math.tan(i.object.fov/2*Math.PI/180),G(2*Me*dt/Oe.clientHeight,i.object.matrix),W(2*we*dt/Oe.clientHeight,i.object.matrix)}else Oe&&i.object instanceof Go&&i.object.isOrthographicCamera?(G(Me*(i.object.right-i.object.left)/i.object.zoom/Oe.clientWidth,i.object.matrix),W(we*(i.object.top-i.object.bottom)/i.object.zoom/Oe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Z(Q){i.object instanceof In&&i.object.isPerspectiveCamera?d/=Q:i.object instanceof Go&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Q)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(Q){i.object instanceof In&&i.object.isPerspectiveCamera?d*=Q:i.object instanceof Go&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Q)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function $(Q){x.set(Q.clientX,Q.clientY)}function X(Q){E.set(Q.clientX,Q.clientY)}function F(Q){_.set(Q.clientX,Q.clientY)}function j(Q){y.set(Q.clientX,Q.clientY),v.subVectors(y,x).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(N(2*Math.PI*v.x/he.clientHeight),z(2*Math.PI*v.y/he.clientHeight)),x.copy(y),i.update()}function se(Q){M.set(Q.clientX,Q.clientY),C.subVectors(M,E),C.y>0?Z(O()):C.y<0&&H(O()),E.copy(M),i.update()}function ne(Q){A.set(Q.clientX,Q.clientY),w.subVectors(A,_).multiplyScalar(i.panSpeed),J(w.x,w.y),_.copy(A),i.update()}function ie(Q){Q.deltaY<0?H(O()):Q.deltaY>0&&Z(O()),i.update()}function ce(Q){let he=!1;switch(Q.code){case i.keys.UP:J(0,i.keyPanSpeed),he=!0;break;case i.keys.BOTTOM:J(0,-i.keyPanSpeed),he=!0;break;case i.keys.LEFT:J(i.keyPanSpeed,0),he=!0;break;case i.keys.RIGHT:J(-i.keyPanSpeed,0),he=!0;break}he&&(Q.preventDefault(),i.update())}function le(){if(P.length==1)x.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),he=.5*(P[0].pageY+P[1].pageY);x.set(Q,he)}}function ue(){if(P.length==1)_.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),he=.5*(P[0].pageY+P[1].pageY);_.set(Q,he)}}function Fe(){const Q=P[0].pageX-P[1].pageX,he=P[0].pageY-P[1].pageY,Me=Math.sqrt(Q*Q+he*he);E.set(0,Me)}function He(){i.enableZoom&&Fe(),i.enablePan&&ue()}function ge(){i.enableZoom&&Fe(),i.enableRotate&&le()}function V(Q){if(P.length==1)y.set(Q.pageX,Q.pageY);else{const Me=xe(Q),we=.5*(Q.pageX+Me.x),Oe=.5*(Q.pageY+Me.y);y.set(we,Oe)}v.subVectors(y,x).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(N(2*Math.PI*v.x/he.clientHeight),z(2*Math.PI*v.y/he.clientHeight)),x.copy(y)}function _e(Q){if(P.length==1)A.set(Q.pageX,Q.pageY);else{const he=xe(Q),Me=.5*(Q.pageX+he.x),we=.5*(Q.pageY+he.y);A.set(Me,we)}w.subVectors(A,_).multiplyScalar(i.panSpeed),J(w.x,w.y),_.copy(A)}function de(Q){const he=xe(Q),Me=Q.pageX-he.x,we=Q.pageY-he.y,Oe=Math.sqrt(Me*Me+we*we);M.set(0,Oe),C.set(0,Math.pow(M.y/E.y,i.zoomSpeed)),Z(C.y),E.copy(M)}function ye(Q){i.enableZoom&&de(Q),i.enablePan&&_e(Q)}function pe(Q){i.enableZoom&&de(Q),i.enableRotate&&V(Q)}function Ge(Q){var he,Me;i.enabled!==!1&&(P.length===0&&((he=i.domElement)==null||he.ownerDocument.addEventListener("pointermove",ve),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",Pe)),Re(Q),Q.pointerType==="touch"?re(Q):Ee(Q))}function ve(Q){i.enabled!==!1&&(Q.pointerType==="touch"?Te(Q):$e(Q))}function Pe(Q){var he,Me,we;ze(Q),P.length===0&&((he=i.domElement)==null||he.releasePointerCapture(Q.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",ve),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",Pe)),i.dispatchEvent(o),l=a.NONE}function Le(Q){ze(Q)}function Ee(Q){let he;switch(Q.button){case 0:he=i.mouseButtons.LEFT;break;case 1:he=i.mouseButtons.MIDDLE;break;case 2:he=i.mouseButtons.RIGHT;break;default:he=-1}switch(he){case Bu.DOLLY:if(i.enableZoom===!1)return;X(Q),l=a.DOLLY;break;case Bu.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enablePan===!1)return;F(Q),l=a.PAN}else{if(i.enableRotate===!1)return;$(Q),l=a.ROTATE}break;case Bu.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enableRotate===!1)return;$(Q),l=a.ROTATE}else{if(i.enablePan===!1)return;F(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function $e(Q){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;j(Q);break;case a.DOLLY:if(i.enableZoom===!1)return;se(Q);break;case a.PAN:if(i.enablePan===!1)return;ne(Q);break}}function U(Q){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),i.dispatchEvent(s),ie(Q),i.dispatchEvent(o))}function B(Q){i.enabled===!1||i.enablePan===!1||ce(Q)}function re(Q){switch(Ne(Q),P.length){case 1:switch(i.touches.ONE){case Ou.ROTATE:if(i.enableRotate===!1)return;le(),l=a.TOUCH_ROTATE;break;case Ou.PAN:if(i.enablePan===!1)return;ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ou.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;He(),l=a.TOUCH_DOLLY_PAN;break;case Ou.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ge(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Te(Q){switch(Ne(Q),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;V(Q),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;_e(Q),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ye(Q),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;pe(Q),i.update();break;default:l=a.NONE}}function Se(Q){i.enabled!==!1&&Q.preventDefault()}function Re(Q){P.push(Q)}function ze(Q){delete T[Q.pointerId];for(let he=0;he<P.length;he++)if(P[he].pointerId==Q.pointerId){P.splice(he,1);return}}function Ne(Q){let he=T[Q.pointerId];he===void 0&&(he=new Be,T[Q.pointerId]=he),he.set(Q.pageX,Q.pageY)}function xe(Q){const he=Q.pointerId===P[0].pointerId?P[1]:P[0];return T[he.pointerId]}t!==void 0&&this.connect(t),this.update()}};class TT extends wr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new kne(t)}),this.register(function(t){return new Gne(t)}),this.register(function(t){return new Vne(t)}),this.register(function(t){return new Wne(t)}),this.register(function(t){return new One(t)}),this.register(function(t){return new Fne(t)}),this.register(function(t){return new Une(t)}),this.register(function(t){return new Nne(t)}),this.register(function(t){return new Lne(t)}),this.register(function(t){return new zne(t)}),this.register(function(t){return new Bne(t)}),this.register(function(t){return new Hne(t)}),this.register(function(t){return new Ine(t)}),this.register(function(t){return new jne(t)}),this.register(function(t){return new $ne(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ca.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ds(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ca.decodeText(new Uint8Array(e.slice(0,4)))===$N){try{o[Vt.KHR_BINARY_GLTF]=new Xne(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Vt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ca.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new oie(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case Vt.KHR_MATERIALS_UNLIT:o[u]=new Dne;break;case Vt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Yne(s,this.dracoLoader);break;case Vt.KHR_TEXTURE_TRANSFORM:o[u]=new Jne;break;case Vt.KHR_MESH_QUANTIZATION:o[u]=new Kne;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Pne(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Vt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Ine{constructor(e){this.parser=e,this.name=Vt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ke(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new gT(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new mT(u),c.distance=f;break;case"spot":c=new pT(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ac(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Dne{constructor(){this.name=Vt.KHR_MATERIALS_UNLIT}getMaterialType(){return es}extendParams(e,t,i){const r=[];e.color=new Ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class Lne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class kne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Be(a,a)}return Promise.all(s)}}class Bne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class One{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Fne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Une{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ke(a[0],a[1],a[2]),Promise.all(s)}}class Nne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class zne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ke(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Hne{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Gne{constructor(e){this.parser=e,this.name=Vt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Vne{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Wne{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jne{constructor(e){this.name=Vt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,f=r.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,r.mode,r.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,d,r.mode,r.filter),p})})}else return null}}class $ne{constructor(e){this.name=Vt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==no.TRIANGLES&&c.mode!==no.TRIANGLE_STRIP&&c.mode!==no.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,p=[];for(const g of f){const x=new At,y=new Y,v=new oi,_=new Y(1,1,1),A=new ZC(g.geometry,g.material,d);for(let w=0;w<d;w++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,w),l.SCALE&&_.fromBufferAttribute(l.SCALE,w),A.setMatrixAt(w,x.compose(y,v,_));for(const w in l)w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&g.geometry.setAttribute(w,l[w]);Lt.prototype.copy.call(A,g),this.parser.assignFinalMaterial(A),p.push(A)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const $N="glTF",xm=12,bk={JSON:1313821514,BIN:5130562};class Xne{constructor(e){this.name=Vt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,xm);if(this.header={magic:Ca.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$N)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-xm,r=new DataView(e,xm);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===bk.JSON){const l=new Uint8Array(e,xm+s,o);this.content=Ca.decodeText(l)}else if(a===bk.BIN){const l=xm+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Yne{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=SE[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=SE[u]||u.toLowerCase();if(o[u]!==void 0){const d=i.accessors[e.attributes[u]],p=yh[d.componentType];c[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){r.decodeDracoFile(u,function(d){for(const p in d.attributes){const g=d.attributes[p],x=l[p];x!==void 0&&(g.normalized=x)}f(d)},a,c)})})}}class Jne{constructor(){this.name=Vt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Kne{constructor(){this.name=Vt.KHR_MESH_QUANTIZATION}}class XN extends vp{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,f=(i-t)/u,d=f*f,p=d*f,g=e*c,x=g-c,y=-2*p+3*d,v=p-d,_=1-y,A=v-d+f;for(let w=0;w!==a;w++){const E=o[x+w+a],M=o[x+w+l]*u,C=o[g+w+a],P=o[g+w]*u;s[w]=_*E+A*M+y*C+v*P}return s}}const qne=new oi;class Qne extends XN{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return qne.fromArray(s).normalize().toArray(s),s}}const no={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},yh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},wk={9728:Kn,9729:bn,9984:Og,9985:__,9986:ph,9987:Pa},Sk={33071:Yi,33648:Bh,10497:Hc},Mw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},SE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...p0.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},nc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Zne={CUBICSPLINE:void 0,LINEAR:_f,STEP:Fh},Cw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function eie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new w0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Xo})),n.DefaultMaterial}function Ru(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ac(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function tie(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(i){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(r){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function nie(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function iie(n){let e;const t=n.extensions&&n.extensions[Vt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Tw(t.attributes):e=n.indices+":"+Tw(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Tw(n.targets[i]);return e}function Tw(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function EE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function rie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const sie=new At;class oie{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Pne,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new YU(this.options.manager):this.textureLoader=new eN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ds(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Ru(s,a,r),ac(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Vt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ca.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Mw[r.type],a=yh[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new en(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Mw[r.type],c=yh[r.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=r.byteOffset||0,p=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let x,y;if(p&&p!==f){const v=Math.floor(d/p),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let A=t.cache.get(_);A||(x=new c(a,v*p,r.count*p/u),A=new y0(x,p/u),t.cache.add(_,A)),y=new Gc(A,l,d%p/u,g)}else a===null?x=new c(r.count*l):x=new c(a,d,r.count*l),y=new en(x,l,g);if(r.sparse!==void 0){const v=Mw.SCALAR,_=yh[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,E=new _(o[1],A,r.sparse.count*v),M=new c(o[2],w,r.sparse.count*l);a!==null&&(y=new en(y.array.slice(),y.itemSize,y.normalized));for(let C=0,P=E.length;C<P;C++){const T=E[C];if(y.setX(T,M[C*l]),l>=2&&y.setY(T,M[C*l+1]),l>=3&&y.setZ(T,M[C*l+2]),l>=4&&y.setW(T,M[C*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=wk[d.magFilter]||bn,u.minFilter=wk[d.minFilter]||Pa,u.wrapS=Sk[d.wrapS]||Hc,u.wrapT=Sk[d.wrapT]||Hc,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let g=d;t.isImageBitmapLoader===!0&&(g=function(x){const y=new Mn(x);y.needsUpdate=!0,d(y)}),t.load(Ca.resolveURL(f,s.path),g,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||rie(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Vt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Vt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Vt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new I_,gi.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new br,gi.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return w0}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Vt.KHR_MATERIALS_UNLIT]){const f=r[Vt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Ke(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Kr);const u=s.alphaMode||Cw.OPAQUE;if(u===Cw.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Cw.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==es&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Be(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==es&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==es&&(a.emissive=new Ke().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==es&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),ac(f,s),t.associations.set(f,{materials:e}),s.extensions&&Ru(r,f,s),f})}createUniqueName(e){const t=Xt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Vt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Ek(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=iie(c),f=r[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[Vt.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=Ek(new Rt,c,t),r[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?eie(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,g=u.length;p<g;p++){const x=u[p],y=o[p];let v;const _=c[p];if(y.mode===no.TRIANGLES||y.mode===no.TRIANGLE_STRIP||y.mode===no.TRIANGLE_FAN||y.mode===void 0)v=s.isSkinnedMesh===!0?new QC(x,_):new Qn(x,_),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),y.mode===no.TRIANGLE_STRIP?v.geometry=_k(v.geometry,NC):y.mode===no.TRIANGLE_FAN&&(v.geometry=_k(v.geometry,hx));else if(y.mode===no.LINES)v=new ea(x,_);else if(y.mode===no.LINE_STRIP)v=new Rl(x,_);else if(y.mode===no.LINE_LOOP)v=new eT(x,_);else if(y.mode===no.POINTS)v=new D_(x,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(v.geometry.morphAttributes).length>0&&nie(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),ac(v,s),y.extensions&&Ru(r,v,y),t.assignFinalMaterial(v),f.push(v)}for(let p=0,g=f.length;p<g;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&Ru(r,f[0],s),f[0];const d=new pl;s.extensions&&Ru(r,d,s),t.associations.set(d,{meshes:e});for(let p=0,g=f.length;p<g;p++)d.add(f[p]);return d})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new In(Nh.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Go(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ac(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new At;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new x0(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=i.channels.length;u<f;u++){const d=i.channels[u],p=i.samplers[d.sampler],g=d.target,x=g.node,y=i.parameters!==void 0?i.parameters[p.input]:p.input,v=i.parameters!==void 0?i.parameters[p.output]:p.output;g.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",v)),l.push(p),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],d=u[1],p=u[2],g=u[3],x=u[4],y=[];for(let v=0,_=f.length;v<_;v++){const A=f[v],w=d[v],E=p[v],M=g[v],C=x[v];if(A===void 0)continue;A.updateMatrix();let P;switch(nc[C.path]){case nc.weights:P=Gh;break;case nc.rotation:P=Vc;break;case nc.position:case nc.scale:default:P=Vh;break}const T=A.name?A.name:A.uuid,D=M.interpolation!==void 0?Zne[M.interpolation]:_f,O=[];nc[C.path]===nc.weights?A.traverse(function(z){z.morphTargetInfluences&&O.push(z.name?z.name:z.uuid)}):O.push(T);let N=E.array;if(E.normalized){const z=EE(N.constructor),G=new Float32Array(N.length);for(let W=0,J=N.length;W<J;W++)G[W]=N[W]*z;N=G}for(let z=0,G=O.length;z<G;z++){const W=new P(O[z]+"."+nc[C.path],w.array,N,D);M.interpolation==="CUBICSPLINE"&&(W.createInterpolant=function(Z){const H=this instanceof Vc?Qne:XN;return new H(this.times,this.values,this.getValueSize()/3,Z)},W.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(W)}}return new Wh(r,void 0,y)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,sie)});for(let p=0,g=f.length;p<g;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new P_:c.length>1?u=new pl:c.length===1?u=c[0]:u=new Lt,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),ac(u,s),s.extensions&&Ru(i,u,s),s.matrix!==void 0){const f=new At;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new pl;i.name&&(s.name=r.createUniqueName(i.name)),ac(s,i),i.extensions&&Ru(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,p]of r.associations)(d instanceof gi||d instanceof Mn)&&f.set(d,p);return u.traverse(d=>{const p=r.associations.get(d);p!=null&&f.set(d,p)}),f};return r.associations=c(s),s})}}function aie(n,e,t){const i=e.attributes,r=new bo;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new Y(l[0],l[1],l[2]),new Y(c[0],c[1],c[2])),a.normalized){const u=EE(yh[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Y,l=new Y;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const x=EE(yh[d.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Fs;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function Ek(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=SE[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return ac(n,e),aie(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?tie(n,e.targets,t):n})}const Rw=new WeakMap;class lie extends wr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ds(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Rw.has(e)){const l=Rw.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Rw.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Rt;e.index&&t.setIndex(new en(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new en(o,a))}return t}_loadLibrary(e,t){const i=new Ds(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=cie.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function cie(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const g=t(f,d,p,c),x=g.attributes.map(y=>y.array.buffer);g.index&&x.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},x)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,p;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const x={index:null,attributes:[]};for(const y in u){const v=self[f[y]];let _,A;if(c.useUniqueIDs)A=u[y],_=a.GetAttributeByUniqueId(d,A);else{if(A=a.GetAttributeId(d,o[u[y]]),A===-1)continue;_=a.GetAttribute(d,A)}x.attributes.push(r(o,a,d,y,v,_))}return g===o.TRIANGULAR_MESH&&(x.index=i(o,a,d)),o.destroy(d),x}function i(o,a,l){const u=l.num_faces()*3,f=u*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const p=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:p,itemSize:1}}function r(o,a,l,c,u,f){const d=f.num_components(),g=l.num_points()*d,x=g*u.BYTES_PER_ELEMENT,y=s(o,u),v=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,f,y,x,v);const _=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:_,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Wy;const Pw=()=>{if(Wy)return Wy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const x=f.charCodeAt(g);d[g]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let p=0;for(let g=0;g<f.length;++g)d[p++]=d[g]<60?i[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,p)}function l(f,d,p,g,x,y){const v=s.exports.sbrk,_=p+3&-4,A=v(_*g),w=v(x.length),E=new Uint8Array(s.exports.memory.buffer);E.set(x,w);const M=f(A,p,g,w,x.length);if(M===0&&y&&y(A,_,g),d.set(E.subarray(A,A+p*g)),v(A-v(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Wy={ready:o,supported:!0,decodeVertexBuffer(f,d,p,g,x){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,g,s.exports[c[x]])},decodeIndexBuffer(f,d,p,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,g)},decodeIndexSequence(f,d,p,g){l(s.exports.meshopt_decodeIndexSequence,f,d,p,g)},decodeGltfBuffer(f,d,p,g,x,y){l(s.exports[u[x]],f,d,p,g,s.exports[c[y]])}},Wy};function R0(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}function uie(){var n=Object.create(null);function e(r,s){var o=r.id,a=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var u=r.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),c=i("<"+a+">.init",c),u&&(u=i("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(r,s){var o,a=r.id,l=r.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function i(r,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(r){var s=r.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function fie(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var YN=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return YN=function(){return n},n},die=0,hie=0,Iw=!1,tg=Object.create(null),ng=Object.create(null),ME=Object.create(null);function P0(n){if((!n||typeof n.init!="function")&&!Iw)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId;if(!YN())return fie(n);r==null&&(r="#default");var s="workerModule"+ ++die,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(Iw=!0,c=P0({workerId:r,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+T1(c)+`
)}`}),Iw=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=Mk(r,"registerModule",l.workerModuleData);var f=function(){a=null,ng[r].delete(f)};(ng[r]||(ng[r]=new Set)).add(f)}return a.then(function(d){var p=d.isCallable;if(p)return Mk(r,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:T1(t),getTransferables:i&&T1(i)},l}function pie(n){ng[n]&&ng[n].forEach(function(e){e()}),tg[n]&&(tg[n].terminate(),delete tg[n])}function T1(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function mie(n){var e=tg[n];if(!e){var t=T1(uie);e=tg[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,o=ME[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete ME[s],o(r)}}return e}function Mk(n,e,t){return new Promise(function(i,r){var s=++hie;ME[s]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},mie(n).postMessage({messageId:s,action:e,data:t})})}function JN(){var n=function(e){function t($,X,F,j,se,ne,ie,ce){var le=1-ie;ce.x=le*le*$+2*le*ie*F+ie*ie*se,ce.y=le*le*X+2*le*ie*j+ie*ie*ne}function i($,X,F,j,se,ne,ie,ce,le,ue){var Fe=1-le;ue.x=Fe*Fe*Fe*$+3*Fe*Fe*le*F+3*Fe*le*le*se+le*le*le*ie,ue.y=Fe*Fe*Fe*X+3*Fe*Fe*le*j+3*Fe*le*le*ne+le*le*le*ce}function r($,X){for(var F=/([MLQCZ])([^MLQCZ]*)/g,j,se,ne,ie,ce;j=F.exec($);){var le=j[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ue){return parseFloat(ue)});switch(j[1]){case"M":ie=se=le[0],ce=ne=le[1];break;case"L":(le[0]!==ie||le[1]!==ce)&&X("L",ie,ce,ie=le[0],ce=le[1]);break;case"Q":{X("Q",ie,ce,ie=le[2],ce=le[3],le[0],le[1]);break}case"C":{X("C",ie,ce,ie=le[4],ce=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(ie!==se||ce!==ne)&&X("L",ie,ce,se,ne);break}}}function s($,X,F){F===void 0&&(F=16);var j={x:0,y:0};r($,function(se,ne,ie,ce,le,ue,Fe,He,ge){switch(se){case"L":X(ne,ie,ce,le);break;case"Q":{for(var V=ne,_e=ie,de=1;de<F;de++)t(ne,ie,ue,Fe,ce,le,de/(F-1),j),X(V,_e,j.x,j.y),V=j.x,_e=j.y;break}case"C":{for(var ye=ne,pe=ie,Ge=1;Ge<F;Ge++)i(ne,ie,ue,Fe,He,ge,ce,le,Ge/(F-1),j),X(ye,pe,j.x,j.y),ye=j.x,pe=j.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u($,X){var F=$.getContext?$.getContext("webgl",c):$,j=l.get(F);if(!j){let ye=function(Ee){var $e=ne[Ee];if(!$e&&($e=ne[Ee]=F.getExtension(Ee),!$e))throw new Error(Ee+" not supported");return $e},pe=function(Ee,$e){var U=F.createShader($e);return F.shaderSource(U,Ee),F.compileShader(U),U},Ge=function(Ee,$e,U,B){if(!ie[Ee]){var re={},Te={},Se=F.createProgram();F.attachShader(Se,pe($e,F.VERTEX_SHADER)),F.attachShader(Se,pe(U,F.FRAGMENT_SHADER)),F.linkProgram(Se),ie[Ee]={program:Se,transaction:function(ze){F.useProgram(Se),ze({setUniform:function(xe,Q){for(var he=[],Me=arguments.length-2;Me-- >0;)he[Me]=arguments[Me+2];var we=Te[Q]||(Te[Q]=F.getUniformLocation(Se,Q));F["uniform"+xe].apply(F,[we].concat(he))},setAttribute:function(xe,Q,he,Me,we){var Oe=re[xe];Oe||(Oe=re[xe]={buf:F.createBuffer(),loc:F.getAttribLocation(Se,xe),data:null}),F.bindBuffer(F.ARRAY_BUFFER,Oe.buf),F.vertexAttribPointer(Oe.loc,Q,F.FLOAT,!1,0,0),F.enableVertexAttribArray(Oe.loc),se?F.vertexAttribDivisor(Oe.loc,Me):ye("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Oe.loc,Me),we!==Oe.data&&(F.bufferData(F.ARRAY_BUFFER,we,he),Oe.data=we)}})}}}ie[Ee].transaction(B)},ve=function(Ee,$e){le++;try{F.activeTexture(F.TEXTURE0+le);var U=ce[Ee];U||(U=ce[Ee]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,U),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,U),$e(U,le)}finally{le--}},Pe=function(Ee,$e,U){var B=F.createFramebuffer();ue.push(B),F.bindFramebuffer(F.FRAMEBUFFER,B),F.activeTexture(F.TEXTURE0+$e),F.bindTexture(F.TEXTURE_2D,Ee),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,Ee,0);try{U(B)}finally{F.deleteFramebuffer(B),F.bindFramebuffer(F.FRAMEBUFFER,ue[--ue.length-1]||null)}},Le=function(){ne={},ie={},ce={},le=-1,ue.length=0};var Fe=ye,He=pe,ge=Ge,V=ve,_e=Pe,de=Le,se=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,ne={},ie={},ce={},le=-1,ue=[];F.canvas.addEventListener("webglcontextlost",function(Ee){Le(),Ee.preventDefault()},!1),l.set(F,j={gl:F,isWebGL2:se,getExtension:ye,withProgram:Ge,withTexture:ve,withTextureFramebuffer:Pe,handleContextLoss:Le})}X(j)}function f($,X,F,j,se,ne,ie,ce){ie===void 0&&(ie=15),ce===void 0&&(ce=null),u($,function(le){var ue=le.gl,Fe=le.withProgram,He=le.withTexture;He("copy",function(ge,V){ue.texImage2D(ue.TEXTURE_2D,0,ue.RGBA,se,ne,0,ue.RGBA,ue.UNSIGNED_BYTE,X),Fe("copy",o,a,function(_e){var de=_e.setUniform,ye=_e.setAttribute;ye("aUV",2,ue.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),de("1i","image",V),ue.bindFramebuffer(ue.FRAMEBUFFER,ce||null),ue.disable(ue.BLEND),ue.colorMask(ie&8,ie&4,ie&2,ie&1),ue.viewport(F,j,se,ne),ue.scissor(F,j,se,ne),ue.drawArrays(ue.TRIANGLES,0,3)})})})}function d($,X,F){var j=$.width,se=$.height;u($,function(ne){var ie=ne.gl,ce=new Uint8Array(j*se*4);ie.readPixels(0,0,j,se,ie.RGBA,ie.UNSIGNED_BYTE,ce),$.width=X,$.height=F,f(ie,ce,0,0,j,se)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g($,X,F,j,se,ne){ne===void 0&&(ne=1);var ie=new Uint8Array($*X),ce=j[2]-j[0],le=j[3]-j[1],ue=[];s(F,function(ye,pe,Ge,ve){ue.push({x1:ye,y1:pe,x2:Ge,y2:ve,minX:Math.min(ye,Ge),minY:Math.min(pe,ve),maxX:Math.max(ye,Ge),maxY:Math.max(pe,ve)})}),ue.sort(function(ye,pe){return ye.maxX-pe.maxX});for(var Fe=0;Fe<$;Fe++)for(var He=0;He<X;He++){var ge=_e(j[0]+ce*(Fe+.5)/$,j[1]+le*(He+.5)/X),V=Math.pow(1-Math.abs(ge)/se,ne)/2;ge<0&&(V=1-V),V=Math.max(0,Math.min(255,Math.round(V*255))),ie[He*$+Fe]=V}return ie;function _e(ye,pe){for(var Ge=1/0,ve=1/0,Pe=ue.length;Pe--;){var Le=ue[Pe];if(Le.maxX+ve<=ye)break;if(ye+ve>Le.minX&&pe-ve<Le.maxY&&pe+ve>Le.minY){var Ee=v(ye,pe,Le.x1,Le.y1,Le.x2,Le.y2);Ee<Ge&&(Ge=Ee,ve=Math.sqrt(Ge))}}return de(ye,pe)&&(ve=-ve),ve}function de(ye,pe){for(var Ge=0,ve=ue.length;ve--;){var Pe=ue[ve];if(Pe.maxX<=ye)break;var Le=Pe.y1>pe!=Pe.y2>pe&&ye<(Pe.x2-Pe.x1)*(pe-Pe.y1)/(Pe.y2-Pe.y1)+Pe.x1;Le&&(Ge+=Pe.y1<Pe.y2?1:-1)}return Ge!==0}}function x($,X,F,j,se,ne,ie,ce,le,ue){ne===void 0&&(ne=1),ce===void 0&&(ce=0),le===void 0&&(le=0),ue===void 0&&(ue=0),y($,X,F,j,se,ne,ie,null,ce,le,ue)}function y($,X,F,j,se,ne,ie,ce,le,ue,Fe){ne===void 0&&(ne=1),le===void 0&&(le=0),ue===void 0&&(ue=0),Fe===void 0&&(Fe=0);for(var He=g($,X,F,j,se,ne),ge=new Uint8Array(He.length*4),V=0;V<He.length;V++)ge[V*4+Fe]=He[V];f(ie,ge,le,ue,$,X,1<<3-Fe,ce)}function v($,X,F,j,se,ne){var ie=se-F,ce=ne-j,le=ie*ie+ce*ce,ue=le?Math.max(0,Math.min(1,(($-F)*ie+(X-j)*ce)/le)):0,Fe=$-(F+ue*ie),He=X-(j+ue*ce);return Fe*Fe+He*He}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:x,generateIntoFramebuffer:y}),A="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),C=null,P=!1,T={},D=new WeakMap;function O($){if(!P&&!W($))throw new Error("WebGL generation not supported")}function N($,X,F,j,se,ne,ie){if(ne===void 0&&(ne=1),ie===void 0&&(ie=null),!ie&&(ie=C,!ie)){var ce=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ce)throw new Error("OffscreenCanvas or DOM canvas not supported");ie=C=ce.getContext("webgl",{depth:!1})}O(ie);var le=new Uint8Array($*X*4);u(ie,function(ge){var V=ge.gl,_e=ge.withTexture,de=ge.withTextureFramebuffer;_e("readable",function(ye,pe){V.texImage2D(V.TEXTURE_2D,0,V.RGBA,$,X,0,V.RGBA,V.UNSIGNED_BYTE,null),de(ye,pe,function(Ge){G($,X,F,j,se,ne,V,Ge,0,0,0),V.readPixels(0,0,$,X,V.RGBA,V.UNSIGNED_BYTE,le)})})});for(var ue=new Uint8Array($*X),Fe=0,He=0;Fe<le.length;Fe+=4)ue[He++]=le[Fe];return ue}function z($,X,F,j,se,ne,ie,ce,le,ue){ne===void 0&&(ne=1),ce===void 0&&(ce=0),le===void 0&&(le=0),ue===void 0&&(ue=0),G($,X,F,j,se,ne,ie,null,ce,le,ue)}function G($,X,F,j,se,ne,ie,ce,le,ue,Fe){ne===void 0&&(ne=1),le===void 0&&(le=0),ue===void 0&&(ue=0),Fe===void 0&&(Fe=0),O(ie);var He=[];s(F,function(ge,V,_e,de){He.push(ge,V,_e,de)}),He=new Float32Array(He),u(ie,function(ge){var V=ge.gl,_e=ge.isWebGL2,de=ge.getExtension,ye=ge.withProgram,pe=ge.withTexture,Ge=ge.withTextureFramebuffer,ve=ge.handleContextLoss;if(pe("rawDistances",function(Pe,Le){($!==Pe._lastWidth||X!==Pe._lastHeight)&&V.texImage2D(V.TEXTURE_2D,0,V.RGBA,Pe._lastWidth=$,Pe._lastHeight=X,0,V.RGBA,V.UNSIGNED_BYTE,null),ye("main",A,w,function(Ee){var $e=Ee.setAttribute,U=Ee.setUniform,B=!_e&&de("ANGLE_instanced_arrays"),re=!_e&&de("EXT_blend_minmax");$e("aUV",2,V.STATIC_DRAW,0,M),$e("aLineSegment",4,V.DYNAMIC_DRAW,1,He),U.apply(void 0,["4f","uGlyphBounds"].concat(j)),U("1f","uMaxDistance",se),U("1f","uExponent",ne),Ge(Pe,Le,function(Te){V.enable(V.BLEND),V.colorMask(!0,!0,!0,!0),V.viewport(0,0,$,X),V.scissor(0,0,$,X),V.blendFunc(V.ONE,V.ONE),V.blendEquationSeparate(V.FUNC_ADD,_e?V.MAX:re.MAX_EXT),V.clear(V.COLOR_BUFFER_BIT),_e?V.drawArraysInstanced(V.TRIANGLES,0,3,He.length/4):B.drawArraysInstancedANGLE(V.TRIANGLES,0,3,He.length/4)})}),ye("post",o,E,function(Ee){Ee.setAttribute("aUV",2,V.STATIC_DRAW,0,M),Ee.setUniform("1i","tex",Le),V.bindFramebuffer(V.FRAMEBUFFER,ce),V.disable(V.BLEND),V.colorMask(Fe===0,Fe===1,Fe===2,Fe===3),V.viewport(le,ue,$,X),V.scissor(le,ue,$,X),V.drawArrays(V.TRIANGLES,0,3)})}),V.isContextLost())throw ve(),new Error("webgl context lost")})}function W($){var X=!$||$===C?T:$.canvas||$,F=D.get(X);if(F===void 0){P=!0;var j=null;try{var se=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ne=N(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,$);F=ne&&se.length===ne.length&&ne.every(function(ie,ce){return ie===se[ce]}),F||(j="bad trial run results",console.info(se,ne))}catch(ie){F=!1,j=ie.message}j&&console.warn("WebGL SDF generation not supported:",j),P=!1,D.set(X,F)}return F}var J=Object.freeze({__proto__:null,generate:N,generateIntoCanvas:z,generateIntoFramebuffer:G,isSupported:W});function Z($,X,F,j,se,ne){se===void 0&&(se=Math.max(j[2]-j[0],j[3]-j[1])/2),ne===void 0&&(ne=1);try{return N.apply(J,arguments)}catch(ie){return console.info("WebGL SDF generation failed, falling back to JS",ie),g.apply(_,arguments)}}function H($,X,F,j,se,ne,ie,ce,le,ue){se===void 0&&(se=Math.max(j[2]-j[0],j[3]-j[1])/2),ne===void 0&&(ne=1),ce===void 0&&(ce=0),le===void 0&&(le=0),ue===void 0&&(ue=0);try{return z.apply(J,arguments)}catch(Fe){return console.info("WebGL SDF generation failed, falling back to JS",Fe),x.apply(_,arguments)}}return e.forEachPathCommand=r,e.generate=Z,e.generateIntoCanvas=H,e.javascript=_,e.pathToLineSegments=s,e.webgl=J,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function gie(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(ve,Pe){i[ve]=1<<Pe+1,r[i[ve]]=ve}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,a=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|s|i.PDI|l,u=null;function f(){if(!u){u=new Map;var ve=function(Le){if(t.hasOwnProperty(Le)){var Ee=0;t[Le].split(",").forEach(function($e){var U=$e.split("+"),B=U[0],re=U[1];B=parseInt(B,36),re=re?parseInt(re,36):0,u.set(Ee+=B,i[Le]);for(var Te=0;Te<re;Te++)u.set(++Ee,i[Le])})}};for(var Pe in t)ve(Pe)}}function d(ve){return f(),u.get(ve.codePointAt(0))||i.L}function p(ve){return r[d(ve)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(ve,Pe){var Le=36,Ee=0,$e=new Map,U=Pe&&new Map,B;return ve.split(",").forEach(function re(Te){if(Te.indexOf("+")!==-1)for(var Se=+Te;Se--;)re(B);else{B=Te;var Re=Te.split(">"),ze=Re[0],Ne=Re[1];ze=String.fromCodePoint(Ee+=parseInt(ze,Le)),Ne=String.fromCodePoint(Ee+=parseInt(Ne,Le)),$e.set(ze,Ne),Pe&&U.set(Ne,ze)}}),{map:$e,reverseMap:U}}var y,v,_;function A(){if(!y){var ve=x(g.pairs,!0),Pe=ve.map,Le=ve.reverseMap;y=Pe,v=Le,_=x(g.canonical,!1).map}}function w(ve){return A(),y.get(ve)||null}function E(ve){return A(),v.get(ve)||null}function M(ve){return A(),_.get(ve)||null}var C=i.L,P=i.R,T=i.EN,D=i.ES,O=i.ET,N=i.AN,z=i.CS,G=i.B,W=i.S,J=i.ON,Z=i.BN,H=i.NSM,$=i.AL,X=i.LRO,F=i.RLO,j=i.LRE,se=i.RLE,ne=i.PDF,ie=i.LRI,ce=i.RLI,le=i.FSI,ue=i.PDI;function Fe(ve,Pe){for(var Le=125,Ee=new Uint32Array(ve.length),$e=0;$e<ve.length;$e++)Ee[$e]=d(ve[$e]);var U=new Map;function B(ui,Di){var un=Ee[ui];Ee[ui]=Di,U.set(un,U.get(un)-1),un&a&&U.set(a,U.get(a)-1),U.set(Di,(U.get(Di)||0)+1),Di&a&&U.set(a,(U.get(a)||0)+1)}for(var re=new Uint8Array(ve.length),Te=new Map,Se=[],Re=null,ze=0;ze<ve.length;ze++)Re||Se.push(Re={start:ze,end:ve.length-1,level:Pe==="rtl"?1:Pe==="ltr"?0:Vf(ze,!1)}),Ee[ze]&G&&(Re.end=ze,Re=null);for(var Ne=se|j|F|X|s|ue|ne|G,xe=function(ui){return ui+(ui&1?1:2)},Q=function(ui){return ui+(ui&1?2:1)},he=0;he<Se.length;he++){Re=Se[he];var Me=[{_level:Re.level,_override:0,_isolate:0}],we=void 0,Oe=0,Ye=0,dt=0;U.clear();for(var ee=Re.start;ee<=Re.end;ee++){var Ue=Ee[ee];if(we=Me[Me.length-1],U.set(Ue,(U.get(Ue)||0)+1),Ue&a&&U.set(a,(U.get(a)||0)+1),Ue&Ne)if(Ue&(se|j)){re[ee]=we._level;var me=(Ue===se?Q:xe)(we._level);me<=Le&&!Oe&&!Ye?Me.push({_level:me,_override:0,_isolate:0}):Oe||Ye++}else if(Ue&(F|X)){re[ee]=we._level;var We=(Ue===F?Q:xe)(we._level);We<=Le&&!Oe&&!Ye?Me.push({_level:We,_override:Ue&F?P:C,_isolate:0}):Oe||Ye++}else if(Ue&s){Ue&le&&(Ue=Vf(ee+1,!0)===1?ce:ie),re[ee]=we._level,we._override&&B(ee,we._override);var Je=(Ue===ce?Q:xe)(we._level);Je<=Le&&Oe===0&&Ye===0?(dt++,Me.push({_level:Je,_override:0,_isolate:1,_isolInitIndex:ee})):Oe++}else if(Ue&ue){if(Oe>0)Oe--;else if(dt>0){for(Ye=0;!Me[Me.length-1]._isolate;)Me.pop();var wt=Me[Me.length-1]._isolInitIndex;wt!=null&&(Te.set(wt,ee),Te.set(ee,wt)),Me.pop(),dt--}we=Me[Me.length-1],re[ee]=we._level,we._override&&B(ee,we._override)}else Ue&ne?(Oe===0&&(Ye>0?Ye--:!we._isolate&&Me.length>1&&(Me.pop(),we=Me[Me.length-1])),re[ee]=we._level):Ue&G&&(re[ee]=Re.level);else re[ee]=we._level,we._override&&Ue!==Z&&B(ee,we._override)}for(var Ft=[],$t=null,zt=Re.start;zt<=Re.end;zt++){var tn=Ee[zt];if(!(tn&l)){var Gt=re[zt],kt=tn&s,qi=tn===ue;$t&&Gt===$t._level?($t._end=zt,$t._endsWithIsolInit=kt):Ft.push($t={_start:zt,_end:zt,_level:Gt,_startsWithPDI:qi,_endsWithIsolInit:kt})}}for(var Pi=[],Jt=0;Jt<Ft.length;Jt++){var pn=Ft[Jt];if(!pn._startsWithPDI||pn._startsWithPDI&&!Te.has(pn._start)){for(var Hi=[$t=pn],cn=void 0;$t&&$t._endsWithIsolInit&&(cn=Te.get($t._end))!=null;)for(var Dn=Jt+1;Dn<Ft.length;Dn++)if(Ft[Dn]._start===cn){Hi.push($t=Ft[Dn]);break}for(var vi=[],Us=0;Us<Hi.length;Us++)for(var Mr=Hi[Us],K=Mr._start;K<=Mr._end;K++)vi.push(K);for(var Ae=re[vi[0]],De=Re.level,fe=vi[0]-1;fe>=0;fe--)if(!(Ee[fe]&l)){De=re[fe];break}var ke=vi[vi.length-1],tt=re[ke],ht=Re.level;if(!(Ee[ke]&s)){for(var pt=ke+1;pt<=Re.end;pt++)if(!(Ee[pt]&l)){ht=re[pt];break}}Pi.push({_seqIndices:vi,_sosType:Math.max(De,Ae)%2?P:C,_eosType:Math.max(ht,tt)%2?P:C})}}for(var yt=0;yt<Pi.length;yt++){var St=Pi[yt],Ve=St._seqIndices,mt=St._sosType,on=St._eosType;if(U.get(H))for(var nn=0;nn<Ve.length;nn++){var Qi=Ve[nn];if(Ee[Qi]&H){for(var Gi=mt,Kt=nn-1;Kt>=0;Kt--)if(!(Ee[Ve[Kt]]&l)){Gi=Ee[Ve[Kt]];break}B(Qi,Gi&(s|ue)?J:Gi)}}if(U.get(T))for(var bt=0;bt<Ve.length;bt++){var qt=Ve[bt];if(Ee[qt]&T)for(var xt=bt-1;xt>=-1;xt--){var yi=xt===-1?mt:Ee[Ve[xt]];if(yi&o){yi===$&&B(qt,N);break}}}if(U.get($))for(var Ln=0;Ln<Ve.length;Ln++){var kn=Ve[Ln];Ee[kn]&$&&B(kn,P)}if(U.get(D)||U.get(z))for(var Vi=1;Vi<Ve.length-1;Vi++){var mn=Ve[Vi];if(Ee[mn]&(D|z)){for(var rn=0,Ns=0,ci=Vi-1;ci>=0&&(rn=Ee[Ve[ci]],!!(rn&l));ci--);for(var oa=Vi+1;oa<Ve.length&&(Ns=Ee[Ve[oa]],!!(Ns&l));oa++);rn===Ns&&(Ee[mn]===D?rn===T:rn&(T|N))&&B(mn,rn)}}if(U.get(T))for(var zs=0;zs<Ve.length;zs++){var ru=Ve[zs];if(Ee[ru]&T){for(var Zi=zs-1;Zi>=0&&Ee[Ve[Zi]]&(O|l);Zi--)B(Ve[Zi],T);for(var Uf=zs+1;Uf<Ve.length&&Ee[Ve[Uf]]&(O|l);Uf++)B(Ve[Uf],T)}}if(U.get(O)||U.get(D)||U.get(z))for(var su=0;su<Ve.length;su++){var N0=Ve[su];if(Ee[N0]&(O|D|z)){B(N0,J);for(var Ua=su-1;Ua>=0&&Ee[Ve[Ua]]&l;Ua--)B(Ve[Ua],J);for(var Na=su+1;Na<Ve.length&&Ee[Ve[Na]]&l;Na++)B(Ve[Na],J)}}if(U.get(T))for(var za=0,ou=mt;za<Ve.length;za++){var z0=Ve[za],Ep=Ee[z0];Ep&T?ou===C&&B(z0,C):Ep&o&&(ou=Ep)}if(U.get(a)){var Ha=P|T|N,Nf=Ha|C,aa=[];{for(var Ul=[],la=0;la<Ve.length;la++)if(Ee[Ve[la]]&a){var Nt=ve[Ve[la]],Mp=void 0;if(w(Nt)!==null)if(Ul.length<63)Ul.push({char:Nt,seqIndex:la});else break;else if((Mp=E(Nt))!==null)for(var Ga=Ul.length-1;Ga>=0;Ga--){var zf=Ul[Ga].char;if(zf===Mp||zf===E(M(Nt))||w(M(zf))===Nt){aa.push([Ul[Ga].seqIndex,la]),Ul.length=Ga;break}}}aa.sort(function(ui,Di){return ui[0]-Di[0]})}for(var Cp=0;Cp<aa.length;Cp++){for(var H0=aa[Cp],Tn=H0[0],Nl=H0[1],G0=!1,Cr=0,Tp=Tn+1;Tp<Nl;Tp++){var zl=Ve[Tp];if(Ee[zl]&Nf){G0=!0;var us=Ee[zl]&Ha?P:C;if(us===ua(zl)){Cr=us;break}}}if(G0&&!Cr){Cr=mt;for(var Rp=Tn-1;Rp>=0;Rp--){var Hf=Ve[Rp];if(Ee[Hf]&Nf){var fs=Ee[Hf]&Ha?P:C;fs!==ua(Hf)?Cr=fs:Cr=ua(Hf);break}}}if(Cr){if(Ee[Ve[Tn]]=Ee[Ve[Nl]]=Cr,Cr!==ua(Ve[Tn])){for(var Tr=Tn+1;Tr<Ve.length;Tr++)if(!(Ee[Ve[Tr]]&l)){d(ve[Ve[Tr]])&H&&(Ee[Ve[Tr]]=Cr);break}}if(Cr!==ua(Ve[Nl])){for(var ca=Nl+1;ca<Ve.length;ca++)if(!(Ee[Ve[ca]]&l)){d(ve[Ve[ca]])&H&&(Ee[Ve[ca]]=Cr);break}}}}for(var Hs=0;Hs<Ve.length;Hs++)if(Ee[Ve[Hs]]&a){for(var Pp=Hs,Ip=Hs,Hr=mt,au=Hs-1;au>=0;au--)if(Ee[Ve[au]]&l)Pp=au;else{Hr=Ee[Ve[au]]&Ha?P:C;break}for(var lu=on,cu=Hs+1;cu<Ve.length;cu++)if(Ee[Ve[cu]]&(a|l))Ip=cu;else{lu=Ee[Ve[cu]]&Ha?P:C;break}for(var er=Pp;er<=Ip;er++)Ee[Ve[er]]=Hr===lu?Hr:ua(Ve[er]);Hs=Ip}}}for(var Ii=Re.start;Ii<=Re.end;Ii++){var Gf=re[Ii],Eo=Ee[Ii];if(Gf&1?Eo&(C|T|N)&&re[Ii]++:Eo&P?re[Ii]++:Eo&(N|T)&&(re[Ii]+=2),Eo&l&&(re[Ii]=Ii===0?Re.level:re[Ii-1]),Ii===Re.end||d(ve[Ii])&(W|G))for(var Hl=Ii;Hl>=0&&d(ve[Hl])&c;Hl--)re[Hl]=Re.level}}return{levels:re,paragraphs:Se};function Vf(ui,Di){for(var un=ui;un<ve.length;un++){var xi=Ee[un];if(xi&(P|$))return 1;if(xi&(G|C)||Di&&xi===ue)return 0;if(xi&s){var Mo=V0(un);un=Mo===-1?ve.length:Mo}}return 0}function V0(ui){for(var Di=1,un=ui+1;un<ve.length;un++){var xi=Ee[un];if(xi&G)break;if(xi&ue){if(--Di===0)return un}else xi&s&&Di++}return-1}function ua(ui){return re[ui]&1?P:C}}var He="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ge;function V(){if(!ge){var ve=x(He,!0),Pe=ve.map,Le=ve.reverseMap;Le.forEach(function(Ee,$e){Pe.set($e,Ee)}),ge=Pe}}function _e(ve){return V(),ge.get(ve)||null}function de(ve,Pe,Le,Ee){var $e=ve.length;Le=Math.max(0,Le==null?0:+Le),Ee=Math.min($e-1,Ee==null?$e-1:+Ee);for(var U=new Map,B=Le;B<=Ee;B++)if(Pe[B]&1){var re=_e(ve[B]);re!==null&&U.set(B,re)}return U}function ye(ve,Pe,Le,Ee){var $e=ve.length;Le=Math.max(0,Le==null?0:+Le),Ee=Math.min($e-1,Ee==null?$e-1:+Ee);var U=[];return Pe.paragraphs.forEach(function(B){var re=Math.max(Le,B.start),Te=Math.min(Ee,B.end);if(re<Te){for(var Se=Pe.levels.slice(re,Te+1),Re=Te;Re>=re&&d(ve[Re])&c;Re--)Se[Re]=B.level;for(var ze=B.level,Ne=1/0,xe=0;xe<Se.length;xe++){var Q=Se[xe];Q>ze&&(ze=Q),Q<Ne&&(Ne=Q|1)}for(var he=ze;he>=Ne;he--)for(var Me=0;Me<Se.length;Me++)if(Se[Me]>=he){for(var we=Me;Me+1<Se.length&&Se[Me+1]>=he;)Me++;Me>we&&U.push([we+Le,Me+Le])}}}),U}function pe(ve,Pe,Le,Ee){var $e=Ge(ve,Pe,Le,Ee),U=[].concat(ve);return $e.forEach(function(B,re){U[re]=(Pe.levels[B]&1?_e(ve[B]):null)||ve[B]}),U.join("")}function Ge(ve,Pe,Le,Ee){for(var $e=ye(ve,Pe,Le,Ee),U=[],B=0;B<ve.length;B++)U[B]=B;return $e.forEach(function(re){for(var Te=re[0],Se=re[1],Re=U.slice(Te,Se+1),ze=Re.length;ze--;)U[Se-ze]=Re[ze]}),U}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=M,e.getEmbeddingLevels=Fe,e.getMirroredCharacter=_e,e.getMirroredCharactersMap=de,e.getReorderSegments=ye,e.getReorderedIndices=Ge,e.getReorderedString=pe,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const KN=/\bvoid\s+main\s*\(\s*\)\s*{/g;function CE(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=Pt[r];return s?CE(s):i}return n.replace(e,t)}const ji=[];for(let n=0;n<256;n++)ji[n]=(n<16?"0":"")+n.toString(16);function vie(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ji[n&255]+ji[n>>8&255]+ji[n>>16&255]+ji[n>>24&255]+"-"+ji[e&255]+ji[e>>8&255]+"-"+ji[e>>16&15|64]+ji[e>>24&255]+"-"+ji[t&63|128]+ji[t>>8&255]+"-"+ji[t>>16&255]+ji[t>>24&255]+ji[i&255]+ji[i>>8&255]+ji[i>>16&255]+ji[i>>24&255]).toUpperCase()}const Pu=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)i.hasOwnProperty(r)&&(n[r]=i[r])}return n},yie=Date.now(),Ck=new WeakMap,Tk=new Map;let xie=1e10;function TE(n,e){const t=wie(e);let i=Ck.get(n);if(i||Ck.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(c){n.onBeforeCompile.call(this,c);const u=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=Tk[u];if(!f){const d=_ie(c,e,t);f=Tk[u]=d}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Pu(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-yie}}),this[r]&&this[r](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:xie++}),u.uuid=vie(),u.uniforms=Pu({},c.uniforms,e.uniforms),u.defines=Pu({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=Pu({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Pu(this.extensions,c.extensions),Pu(this.defines,c.defines),Pu(this.uniforms,YC.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=TE(n.isDerivedMaterial?n.getDepthMaterial():new M_({depthPacking:HC}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=TE(n.isDerivedMaterial?n.getDistanceMaterial():new C_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return i[t]=o,new o}function _ie({vertexShader:n,fragmentShader:e},t,i){let{vertexDefs:r,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:a,fragmentDefs:l,fragmentMainIntro:c,fragmentMainOutro:u,fragmentColorTransform:f,customRewriter:d,timeUniform:p}=t;if(r=r||"",s=s||"",o=o||"",l=l||"",c=c||"",u=u||"",(a||d)&&(n=CE(n)),(f||d)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=CE(e)),d){let g=d({vertexShader:n,fragmentShader:e});n=g.vertexShader,e=g.fragmentShader}if(f){let g=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(g.push(x),"")),u=`${f}
${g.join(`
`)}
${u}`}if(p){const g=`
uniform float ${p};
`;r=g+r,l=g+l}return a&&(n=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${n}
`,r=`${r}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,n=n.replace(/\b(position|normal|uv)\b/g,(g,x,y,v)=>/\battribute\s+vec[23]\s+$/.test(v.substr(0,y))?x:`troika_${x}_${i}`)),n=Rk(n,i,r,s,o),e=Rk(e,i,l,c,u),{vertexShader:n,fragmentShader:e}}function Rk(n,e,t,i,r){return(i||r||t)&&(n=n.replace(KN,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function Aie(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let bie=0;const Pk=new Map;function wie(n){const e=JSON.stringify(n,Aie);let t=Pk.get(e);return t==null&&Pk.set(e,t=++bie),t}function Sie(n,e,t){const{defaultFontURL:i}=t,r=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,A){function w(){const E=M=>{console.error(`Failure loading font ${_}${_===i?"":"; trying fallback"}`,M),_!==i&&(_=i,w())};try{const M=new XMLHttpRequest;M.open("get",_,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)E(new Error(M.statusText));else if(M.status>0)try{const C=n(M.response);A(C)}catch(C){E(C)}},M.onerror=E,M.send()}catch(M){E(M)}}w()}function u(_,A){_||(_=i);let w=r[_];w?w.pending?w.pending.push(A):A(w):(r[_]={pending:[A]},c(_,E=>{let M=r[_].pending;r[_]=E,M.forEach(C=>C(E))}))}function f({text:_="",font:A=i,sdfGlyphSize:w=64,fontSize:E=1,letterSpacing:M=0,lineHeight:C="normal",maxWidth:P=s,direction:T,textAlign:D="left",textIndent:O=0,whiteSpace:N="normal",overflowWrap:z="normal",anchorX:G=0,anchorY:W=0,includeCaretPositions:J=!1,chunkedBoundsSize:Z=8192,colorRanges:H=null},$,X=!1){const F=x(),j={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,M=+M,P=+P,C=C||"normal",O=+O,u(A,se=>{const ne=isFinite(P);let ie=null,ce=null,le=null,ue=null,Fe=null,He=null,ge=null,V=0,_e=0,de=N!=="nowrap";const{ascender:ye,descender:pe,unitsPerEm:Ge,lineGap:ve,capHeight:Pe,xHeight:Le}=se;j.fontLoad=x()-F;const Ee=x(),$e=E/Ge;C==="normal"&&(C=(ye-pe+ve)/Ge),C=C*E;const U=(C-(ye-pe)*$e)/2,B=-(ye*$e+U),re=Math.min(C,(ye-pe)*$e),Te=(ye+pe)/2*$e-re/2;let Se=O,Re=new y;const ze=[Re];se.forEachGlyph(_,E,M,(Q,he,Me)=>{const we=_.charAt(Me),Oe=Q.advanceWidth*$e,Ye=Re.count;let dt;if("isEmpty"in Q||(Q.isWhitespace=!!we&&new RegExp(a).test(we),Q.canBreakAfter=!!we&&l.test(we),Q.isEmpty=Q.xMin===Q.xMax||Q.yMin===Q.yMax||o.test(we)),!Q.isWhitespace&&!Q.isEmpty&&_e++,de&&ne&&!Q.isWhitespace&&he+Oe+Se>P&&Ye){if(Re.glyphAt(Ye-1).glyphObj.canBreakAfter)dt=new y,Se=-he;else for(let Ue=Ye;Ue--;)if(Ue===0&&z==="break-word"){dt=new y,Se=-he;break}else if(Re.glyphAt(Ue).glyphObj.canBreakAfter){dt=Re.splitAt(Ue+1);const me=dt.glyphAt(0).x;Se-=me;for(let We=dt.count;We--;)dt.glyphAt(We).x-=me;break}dt&&(Re.isSoftWrapped=!0,Re=dt,ze.push(Re),V=P)}let ee=Re.glyphAt(Re.count);ee.glyphObj=Q,ee.x=he+Se,ee.width=Oe,ee.charIndex=Me,we===`
`&&(Re=new y,ze.push(Re),Se=-(he+Oe+M*E)+O)}),ze.forEach(Q=>{for(let he=Q.count;he--;){let{glyphObj:Me,x:we,width:Oe}=Q.glyphAt(he);if(!Me.isWhitespace){Q.width=we+Oe,Q.width>V&&(V=Q.width);return}}});let Ne=0,xe=0;if(G&&(typeof G=="number"?Ne=-G:typeof G=="string"&&(Ne=-V*(G==="left"?0:G==="center"?.5:G==="right"?1:p(G)))),W){if(typeof W=="number")xe=-W;else if(typeof W=="string"){let Q=ze.length*C;xe=W==="top"?0:W==="top-baseline"?-B:W==="top-cap"?-B-Pe*$e:W==="top-ex"?-B-Le*$e:W==="middle"?Q/2:W==="bottom"?Q:W==="bottom-baseline"?Q-U+pe*$e:p(W)*Q}}if(!X){const Q=e.getEmbeddingLevels(_,T);ie=new Uint16Array(_e),ce=new Float32Array(_e*2),le={},He=[s,s,-s,-s],ge=[];let he=B;J&&(Fe=new Float32Array(_.length*3)),H&&(ue=new Uint8Array(_e*3));let Me=0,we=-1,Oe=-1,Ye,dt;if(ze.forEach((ee,Ue)=>{let{count:me,width:We}=ee;if(me>0){let Je=0;for(let Gt=me;Gt--&&ee.glyphAt(Gt).glyphObj.isWhitespace;)Je++;let wt=0,Ft=0;if(D==="center")wt=(V-We)/2;else if(D==="right")wt=V-We;else if(D==="justify"&&ee.isSoftWrapped){let Gt=0;for(let kt=me-Je;kt--;)ee.glyphAt(kt).glyphObj.isWhitespace&&Gt++;Ft=(V-We)/Gt}if(Ft||wt){let Gt=0;for(let kt=0;kt<me;kt++){let qi=ee.glyphAt(kt);const Pi=qi.glyphObj;qi.x+=wt+Gt,Ft!==0&&Pi.isWhitespace&&kt<me-Je&&(Gt+=Ft,qi.width+=Ft)}}const $t=e.getReorderSegments(_,Q,ee.glyphAt(0).charIndex,ee.glyphAt(ee.count-1).charIndex);for(let Gt=0;Gt<$t.length;Gt++){const[kt,qi]=$t[Gt];let Pi=1/0,Jt=-1/0;for(let pn=0;pn<me;pn++)if(ee.glyphAt(pn).charIndex>=kt){let Hi=pn,cn=pn;for(;cn<me;cn++){let Dn=ee.glyphAt(cn);if(Dn.charIndex>qi)break;cn<me-Je&&(Pi=Math.min(Pi,Dn.x),Jt=Math.max(Jt,Dn.x+Dn.width))}for(let Dn=Hi;Dn<cn;Dn++){const vi=ee.glyphAt(Dn);vi.x=Jt-(vi.x+vi.width-Pi)}break}}let zt;const tn=Gt=>zt=Gt;for(let Gt=0;Gt<me;Gt++){let kt=ee.glyphAt(Gt);zt=kt.glyphObj;const qi=zt.index,Pi=Q.levels[kt.charIndex]&1;if(Pi){const Jt=e.getMirroredCharacter(_[kt.charIndex]);Jt&&se.forEachGlyph(Jt,0,0,tn)}if(J){const{charIndex:Jt}=kt,pn=kt.x+Ne,Hi=kt.x+kt.width+Ne;Fe[Jt*3]=Pi?Hi:pn,Fe[Jt*3+1]=Pi?pn:Hi,Fe[Jt*3+2]=he+Te+xe;const cn=Jt-we;cn>1&&g(Fe,we,cn),we=Jt}if(H){const{charIndex:Jt}=kt;for(;Jt>Oe;)Oe++,H.hasOwnProperty(Oe)&&(dt=H[Oe])}if(!zt.isWhitespace&&!zt.isEmpty){const Jt=Me++;le[qi]||(le[qi]={path:zt.path,pathBounds:[zt.xMin,zt.yMin,zt.xMax,zt.yMax]});const pn=kt.x+Ne,Hi=he+xe;ce[Jt*2]=pn,ce[Jt*2+1]=Hi;const cn=pn+zt.xMin*$e,Dn=Hi+zt.yMin*$e,vi=pn+zt.xMax*$e,Us=Hi+zt.yMax*$e;cn<He[0]&&(He[0]=cn),Dn<He[1]&&(He[1]=Dn),vi>He[2]&&(He[2]=vi),Us>He[3]&&(He[3]=Us),Jt%Z===0&&(Ye={start:Jt,end:Jt,rect:[s,s,-s,-s]},ge.push(Ye)),Ye.end++;const Mr=Ye.rect;if(cn<Mr[0]&&(Mr[0]=cn),Dn<Mr[1]&&(Mr[1]=Dn),vi>Mr[2]&&(Mr[2]=vi),Us>Mr[3]&&(Mr[3]=Us),ie[Jt]=qi,H){const K=Jt*3;ue[K]=dt>>16&255,ue[K+1]=dt>>8&255,ue[K+2]=dt&255}}}}he-=C}),Fe){const ee=_.length-we;ee>1&&g(Fe,we,ee)}}j.typesetting=x()-Ee,$({glyphIds:ie,glyphPositions:ce,glyphData:le,caretPositions:Fe,caretHeight:re,glyphColors:ue,chunkedBounds:ge,fontSize:E,unitsPerEm:Ge,ascender:ye*$e,descender:pe*$e,capHeight:Pe*$e,xHeight:Le*$e,lineHeight:C,topBaseline:B,blockBounds:[Ne,xe-ze.length*C,Ne+V,xe],visibleBounds:He,timings:j})})}function d(_,A){f(_,w=>{const[E,M,C,P]=w.blockBounds;A({width:C-E,height:P-M})},{metricsOnly:!0})}function p(_){let A=_.match(/^([\d.]+)%$/),w=A?parseFloat(A[1]):NaN;return isNaN(w)?0:w/100}function g(_,A,w){const E=_[A*3],M=_[A*3+1],C=_[A*3+2],P=(M-E)/w;for(let T=0;T<w;T++){const D=(A+T)*3;_[D]=E+P*T,_[D+1]=E+P*(T+1),_[D+2]=C}}function x(){return(self.performance||Date).now()}function y(){this.data=[]}const v=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(_){let A=y.flyweight;return A.data=this.data,A.index=_,A},splitAt(_){let A=new y;return A.data=this.data.splice(_*v.length),A}},y.flyweight=v.reduce((_,A,w,E)=>(Object.defineProperty(_,A,{get(){return this.data[this.index*v.length+w]},set(M){this.data[this.index*v.length+w]=M}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const sf=()=>(self.performance||Date).now(),Q_=JN();let Ik;function Eie(n,e,t,i,r,s,o,a,l,c,u=!0){return u?Cie(n,e,t,i,r,s,o,a,l,c).then(null,f=>(Ik||(console.warn("WebGL SDF generation failed, falling back to JS",f),Ik=!0),Lk(n,e,t,i,r,s,o,a,l,c))):Lk(n,e,t,i,r,s,o,a,l,c)}const R1=[],Mie=5;let RE=0;function qN(){const n=sf();for(;R1.length&&sf()-n<Mie;)R1.shift()();RE=R1.length?setTimeout(qN,0):0}const Cie=(...n)=>new Promise((e,t)=>{R1.push(()=>{const i=sf();try{Q_.webgl.generateIntoCanvas(...n),e({timing:sf()-i})}catch(r){t(r)}}),RE||(RE=setTimeout(qN,0))}),Tie=4,Rie=2e3,Dk={};let Pie=0;function Lk(n,e,t,i,r,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+Pie++%Tie;let f=Dk[u];return f||(f=Dk[u]={workerModule:P0({name:u,workerId:u,dependencies:[JN,sf],init(d,p){const g=d().javascript.generate;return function(...x){const y=p();return{textureData:g(...x),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,i,r,s).then(({textureData:d,timing:p})=>{const g=sf(),x=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)x[y*4+c]=d[y];return Q_.webglUtils.renderImageData(o,x,a,l,n,e,1<<3-c),p+=sf()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{pie(u)},Rie)),{timing:p}})}function Iie(n){n._warm||(Q_.webgl.isSupported(n),n._warm=!0)}const Die=Q_.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Lie(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var s=e._bin,o=new Uint8Array(r);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(r,s){var o=e._bin,a=s;o.readFixed(r,s),s+=4;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:r,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(r,s,4);s+=4,o.readUint(r,s),s+=4;var g=o.readUint(r,s);s+=4;var x=o.readUint(r,s);s+=4,f[p]={offset:g,length:x}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(r,f[y].offset,f[y].length,u))}return u},_tabOffset:function(r,s,o){for(var a=e._bin,l=a.readUshort(r,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(r,c,4);c+=4,a.readUint(r,c),c+=4;var d=a.readUint(r,c);if(c+=4,a.readUint(r,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(r,s+2*l));return a},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(r[s+l]);return a},readUnicode:function(r,s,o){for(var a="",l=0;l<o;l++){var c=r[s++]<<8|r[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,o){var a=e._bin._tdec;return a&&s==0&&o==r.length?a.decode(r):e._bin.readASCII(r,s,o)},readBytes:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(r[s+l]);return a},readASCIIArray:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(r[s+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(r,s),s+=4;var d=c.readUshort(r,s);s+=2;var p=c.readUshort(r,s);s+=2;var g=c.readUshort(r,s);return s+=2,u.scriptList=e._lctf.readScriptList(r,f+d),u.featureList=e._lctf.readFeatureList(r,f+p),u.lookupList=e._lctf.readLookupList(r,f+g,l),u},e._lctf.readLookupList=function(r,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(r,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(r,s);s+=2;var p=e._lctf.readLookupTable(r,l+d,o);c.push(p)}return c},e._lctf.readLookupTable=function(r,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(r,s),s+=2,c.flag=a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=a.readUshort(r,s);s+=2;var g=o(r,f,l+p,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(r){for(var s=0,o=0;o<32;o++)r>>>o&1&&s++;return s},e._lctf.readClassDef=function(r,s){var o=e._bin,a=[],l=o.readUshort(r,s);if(s+=2,l==1){var c=o.readUshort(r,s);s+=2;var u=o.readUshort(r,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(r,s)),s+=2}if(l==2){var d=o.readUshort(r,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2}return a},e._lctf.getInterval=function(r,s){for(var o=0;o<r.length;o+=3){var a=r[o],l=r[o+1];if(r[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(r,s){var o=e._bin,a={};a.fmt=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(r,s,l)),a.fmt==2&&(a.tab=o.readUshorts(r,s,3*l)),a},e._lctf.coverageIndex=function(r,s){var o=r.tab;if(r.fmt==1)return o.indexOf(s);if(r.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(r,s,4);s+=4;var d=o.readUshort(r,s);s+=2;var p=e._lctf.readFeatureTable(r,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(r,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(r,s+2*f));return l},e._lctf.readScriptList=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(r,s,4);s+=4;var d=o.readUshort(r,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(r,a+d)}return l},e._lctf.readScriptTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,l.default=e._lctf.readLangSysTable(r,a+c);var u=o.readUshort(r,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(r,s,4);s+=4;var p=o.readUshort(r,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(r,a+p)}return l},e._lctf.readLangSysTable=function(r,s){var o=e._bin,a={};o.readUshort(r,s),s+=2,a.reqFeature=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.features=o.readUshorts(r,s,l),a},e.CFF={},e.CFF.parse=function(r,s,o){var a=e._bin;(r=new Uint8Array(r.buffer,s,o))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(r,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(r,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(r,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],g=[];s=e.CFF.readIndex(r,s,g);var x=[];for(u=0;u<g.length-1;u++)x.push(a.readASCII(r,s+g[u],g[u+1]-g[u]));if(s+=g[g.length-1],e.CFF.readSubrs(r,s,p),p.CharStrings){s=p.CharStrings,g=[],s=e.CFF.readIndex(r,s,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(r,s+g[u],g[u+1]-g[u]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var v=[];for(s=e.CFF.readIndex(r,s,v),p.FDArray=[],u=0;u<v.length-1;u++){var _=e.CFF.readDict(r,s+v[u],s+v[u+1]);e.CFF._readFDict(r,_,x),p.FDArray.push(_)}s+=v[v.length-1],s=p.FDSelect,p.FDSelect=[];var A=r[s];if(s++,A!=3)throw A;var w=a.readUshort(r,s);for(s+=2,u=0;u<w+1;u++)p.FDSelect.push(a.readUshort(r,s),r[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(r,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(r,p.charset,p.CharStrings.length)),e.CFF._readFDict(r,p,x),p},e.CFF._readFDict=function(r,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(r,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(r,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(r,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,o){e._bin;var a=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var u=0;u<c;u++)a.push(r[s+u]);return a},e.CFF.readCharset=function(r,s,o){var a=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(r,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(r,s),s+=2;var d=0;for(c==1?(d=r[s],s++):(d=a.readUshort(r,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(r,s,o){var a=e._bin,l=a.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(r[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(r,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(r,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,o){var a=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(r,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(r,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(r,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=r[s],f=r[s+1];r[s+2],r[s+3],r[s+4];var d=1,p=null,g=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(g=l.readShort(r,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(r,s+1)/65535,d=5),c.push(g??"o"+p),s+=d}return c},e.CFF.readDict=function(r,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=r[s],f=r[s+1];r[s+2],r[s+3],r[s+4];var d=1,p=null,g=null;if(u==28&&(g=a.readShort(r,s+1),d=3),u==29&&(g=a.readInt(r,s+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=a.readInt(r,s+1)/65535,d=5,"unknown number";if(u==30){var x=[];for(d=1;;){var y=r[s+d];d++;var v=y>>4,_=15&y;if(v!=15&&x.push(v),_!=15&&x.push(_),_==15)break}for(var A="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<x.length;E++)A+=w[x[E]];g=parseFloat(A)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(r,s,o){r=new Uint8Array(r.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(r,s);s+=2;var p=a.readUshort(r,s);s+=2;var g=a.readUint(r,s);s+=4;var x="p"+d+"e"+p,y=u.indexOf(g);if(y==-1){var v;y=l.tables.length,u.push(g);var _=a.readUshort(r,g);_==0?v=e.cmap.parse0(r,g):_==4?v=e.cmap.parse4(r,g):_==6?v=e.cmap.parse6(r,g):_==12?v=e.cmap.parse12(r,g):console.debug("unknown format: "+_,d,p,g),l.tables.push(v)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=y}return l},e.cmap.parse0=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(r[s+c]);return a},e.cmap.parse4=function(r,s){var o=e._bin,a=s,l={};l.format=o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2;var u=o.readUshort(r,s);s+=2;var f=u/2;l.searchRange=o.readUshort(r,s),s+=2,l.entrySelector=o.readUshort(r,s),s+=2,l.rangeShift=o.readUshort(r,s),s+=2,l.endCount=o.readUshorts(r,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(r,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(r,s)),s+=2;for(l.idRangeOffset=o.readUshorts(r,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,a.firstCode=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(r,s)),s+=2;return a},e.cmap.parse12=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,s+=2,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4;var l=o.readUint(r,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(r,u+0),d=o.readUint(r,u+4),p=o.readUint(r,u+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(r,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var o=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var g=a[l];l++;for(var x=0;x<g;x++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,v=(16&c.flags[u])!=0;y?(c.xs.push(v?a[l]:-a[l]),l++):v?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,v=(32&c.flags[u])!=0,y?(c.ys.push(v?a[l]:-a[l]),l++):v?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,A=0;for(u=0;u<d;u++)_+=c.xs[u],A+=c.ys[u],c.xs[u]=_,c.ys[u]=A}else{var w;c.parts=[];do{w=o.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=o.readUshort(a,l),l+=2,1&w){var M=o.readShort(a,l);l+=2;var C=o.readShort(a,l);l+=2}else M=o.readInt8(a,l),l++,C=o.readInt8(a,l),l++;2&w?(E.m.tx=M,E.m.ty=C):(E.p1=M,E.p2=C),8&w?(E.m.a=E.m.d=o.readF2dot14(a,l),l+=2):64&w?(E.m.a=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2):128&w&&(E.m.a=o.readF2dot14(a,l),l+=2,E.m.b=o.readF2dot14(a,l),l+=2,E.m.c=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2)}while(32&w);if(256&w){var P=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<P;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(r,o);o+=2;var p=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(r,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(r,o),o+=2;var g=l.readUshort(r,o);o+=2,p=e._lctf.numOfOnes(d);var x=e._lctf.numOfOnes(g);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(r,o);o+=2;for(var v=0;v<y;v++){var _=c+l.readUshort(r,o);o+=2;var A=l.readUshort(r,_);_+=2;for(var w=[],E=0;E<A;E++){var M=l.readUshort(r,_);_+=2,d!=0&&(N=e.GPOS.readValueRecord(r,_,d),_+=2*p),g!=0&&(z=e.GPOS.readValueRecord(r,_,g),_+=2*x),w.push({gid2:M,val1:N,val2:z})}u.pairsets.push(w)}}if(u.fmt==2){var C=l.readUshort(r,o);o+=2;var P=l.readUshort(r,o);o+=2;var T=l.readUshort(r,o);o+=2;var D=l.readUshort(r,o);for(o+=2,u.classDef1=e._lctf.readClassDef(r,c+C),u.classDef2=e._lctf.readClassDef(r,c+P),u.matrix=[],v=0;v<T;v++){var O=[];for(E=0;E<D;E++){var N=null,z=null;d!=0&&(N=e.GPOS.readValueRecord(r,o,d),o+=2*p),g!=0&&(z=e.GPOS.readValueRecord(r,o,g),o+=2*x),O.push({val1:N,val2:z})}u.matrix.push(O)}}}else{if(s==9&&u.fmt==1){var G=l.readUshort(r,o);o+=2;var W=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=G;else if(a.ltype!=G)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,c+W)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(r,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(r,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(r,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(r,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(r,o),o+=2;else if(u.fmt==2){var d=l.readUshort(r,o);o+=2,u.newg=l.readUshorts(r,o,d),o+=2*u.newg.length}}else if(s==4){u.vals=[],d=l.readUshort(r,o),o+=2;for(var p=0;p<d;p++){var g=l.readUshort(r,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(r,c+g))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var x=l.readUshort(r,o);o+=2,u.cDef=e._lctf.readClassDef(r,c+x),u.scset=[];var y=l.readUshort(r,o);for(o+=2,p=0;p<y;p++){var v=l.readUshort(r,o);o+=2,u.scset.push(v==0?null:e.GSUB.readSubClassSet(r,c+v))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(r,o),o+=2;for(var _=[],A=0;A<d;A++)_.push(e._lctf.readCoverage(r,c+l.readUshort(r,o+2*A)));o+=2*d,p==0&&(u.backCvg=_),p==1&&(u.inptCvg=_),p==2&&(u.ahedCvg=_)}d=l.readUshort(r,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,o,d)}}else{if(s==7&&u.fmt==1){var w=l.readUshort(r,o);o+=2;var E=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=w;else if(a.ltype!=w)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,c+E)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,s){var o=e._bin.readUshort,a=s,l=[],c=o(r,s);s+=2;for(var u=0;u<c;u++){var f=o(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,a+f))}return l},e.GSUB.readSubClassRule=function(r,s){var o=e._bin.readUshort,a={},l=o(r,s),c=o(r,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(r,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),a},e.GSUB.readSubstLookupRecords=function(r,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(r,s),a(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,a+f))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(r,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(r,s,u),s+=2*a[l[c]].length}return u=o.readUshort(r,s),s+=2,a.subst=o.readUshorts(r,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,a+f))}return l},e.GSUB.readLigature=function(r,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(r,s)),s+=2;return a},e.head={},e.head.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.fontRevision=a.readFixed(r,s),s+=4,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4,l.flags=a.readUshort(r,s),s+=2,l.unitsPerEm=a.readUshort(r,s),s+=2,l.created=a.readUint64(r,s),s+=8,l.modified=a.readUint64(r,s),s+=8,l.xMin=a.readShort(r,s),s+=2,l.yMin=a.readShort(r,s),s+=2,l.xMax=a.readShort(r,s),s+=2,l.yMax=a.readShort(r,s),s+=2,l.macStyle=a.readUshort(r,s),s+=2,l.lowestRecPPEM=a.readUshort(r,s),s+=2,l.fontDirectionHint=a.readShort(r,s),s+=2,l.indexToLocFormat=a.readShort(r,s),s+=2,l.glyphDataFormat=a.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.ascender=a.readShort(r,s),s+=2,l.descender=a.readShort(r,s),s+=2,l.lineGap=a.readShort(r,s),s+=2,l.advanceWidthMax=a.readUshort(r,s),s+=2,l.minLeftSideBearing=a.readShort(r,s),s+=2,l.minRightSideBearing=a.readShort(r,s),s+=2,l.xMaxExtent=a.readShort(r,s),s+=2,l.caretSlopeRise=a.readShort(r,s),s+=2,l.caretSlopeRun=a.readShort(r,s),s+=2,l.caretOffset=a.readShort(r,s),s+=2,s+=8,l.metricDataFormat=a.readShort(r,s),s+=2,l.numberOfHMetrics=a.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(r,s),s+=2,f=l.readShort(r,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(r,s,o,a){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,o,a);var u=l.readUshort(r,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(r,s),s+=2;var p=l.readUshort(r,s);s+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(r,s,f)}return f},e.kern.parseV1=function(r,s,o,a){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(r,s),s+=4;var d=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(r,s,u)}return u},e.kern.readFormat0=function(r,s,o){var a=e._bin,l=-1,c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(r,s);s+=2;var d=a.readUshort(r,s);s+=2;var p=a.readShort(r,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(r,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(r,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(r,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,o){var a=e._bin,l={},c=a.readUint(r,s);return s+=4,l.numGlyphs=a.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(r,s),s+=2,l.maxContours=a.readUshort(r,s),s+=2,l.maxCompositePoints=a.readUshort(r,s),s+=2,l.maxCompositeContours=a.readUshort(r,s),s+=2,l.maxZones=a.readUshort(r,s),s+=2,l.maxTwilightPoints=a.readUshort(r,s),s+=2,l.maxStorage=a.readUshort(r,s),s+=2,l.maxFunctionDefs=a.readUshort(r,s),s+=2,l.maxInstructionDefs=a.readUshort(r,s),s+=2,l.maxStackElements=a.readUshort(r,s),s+=2,l.maxSizeOfInstructions=a.readUshort(r,s),s+=2,l.maxComponentElements=a.readUshort(r,s),s+=2,l.maxComponentDepth=a.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,o){var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var g=a.readUshort(r,s);s+=2;var x=a.readUshort(r,s);s+=2;var y=a.readUshort(r,s);s+=2;var v=a.readUshort(r,s);s+=2;var _=a.readUshort(r,s);s+=2;var A=a.readUshort(r,s);s+=2;var w,E=f[v],M=d+12*c+A;if(g==0)w=a.readUnicode(r,M,_/2);else if(g==3&&x==0)w=a.readUnicode(r,M,_/2);else if(x==0)w=a.readASCII(r,M,_);else if(x==1)w=a.readUnicode(r,M,_/2);else if(x==3)w=a.readUnicode(r,M,_/2);else{if(g!=1)throw"unknown encoding "+x+", platformID: "+g;w=a.readASCII(r,M,_),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var C="p"+g+","+y.toString(16);l[C]==null&&(l[C]={}),l[C][E!==void 0?E:v]=w,l[C]._lang=y}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){u=P;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(r,s,o){var a=e._bin.readUshort(r,s);s+=2;var l={};if(a==0)e["OS/2"].version0(r,s,l);else if(a==1)e["OS/2"].version1(r,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(r,s),s+=2,o.usWeightClass=a.readUshort(r,s),s+=2,o.usWidthClass=a.readUshort(r,s),s+=2,o.fsType=a.readUshort(r,s),s+=2,o.ySubscriptXSize=a.readShort(r,s),s+=2,o.ySubscriptYSize=a.readShort(r,s),s+=2,o.ySubscriptXOffset=a.readShort(r,s),s+=2,o.ySubscriptYOffset=a.readShort(r,s),s+=2,o.ySuperscriptXSize=a.readShort(r,s),s+=2,o.ySuperscriptYSize=a.readShort(r,s),s+=2,o.ySuperscriptXOffset=a.readShort(r,s),s+=2,o.ySuperscriptYOffset=a.readShort(r,s),s+=2,o.yStrikeoutSize=a.readShort(r,s),s+=2,o.yStrikeoutPosition=a.readShort(r,s),s+=2,o.sFamilyClass=a.readShort(r,s),s+=2,o.panose=a.readBytes(r,s,10),s+=10,o.ulUnicodeRange1=a.readUint(r,s),s+=4,o.ulUnicodeRange2=a.readUint(r,s),s+=4,o.ulUnicodeRange3=a.readUint(r,s),s+=4,o.ulUnicodeRange4=a.readUint(r,s),s+=4,o.achVendID=[a.readInt8(r,s),a.readInt8(r,s+1),a.readInt8(r,s+2),a.readInt8(r,s+3)],s+=4,o.fsSelection=a.readUshort(r,s),s+=2,o.usFirstCharIndex=a.readUshort(r,s),s+=2,o.usLastCharIndex=a.readUshort(r,s),s+=2,o.sTypoAscender=a.readShort(r,s),s+=2,o.sTypoDescender=a.readShort(r,s),s+=2,o.sTypoLineGap=a.readShort(r,s),s+=2,o.usWinAscent=a.readUshort(r,s),s+=2,o.usWinDescent=a.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,o){var a=e._bin;return s=e["OS/2"].version0(r,s,o),o.ulCodePageRange1=a.readUint(r,s),s+=4,o.ulCodePageRange2=a.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,o){var a=e._bin;return s=e["OS/2"].version1(r,s,o),o.sxHeight=a.readShort(r,s),s+=2,o.sCapHeight=a.readShort(r,s),s+=2,o.usDefault=a.readUshort(r,s),s+=2,o.usBreak=a.readUshort(r,s),s+=2,o.usMaxContext=a.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,o){var a=e._bin;return s=e["OS/2"].version2(r,s,o),o.usLowerOpticalPointSize=a.readUshort(r,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,o){var a=e._bin,l={};return l.version=a.readFixed(r,s),s+=4,l.italicAngle=a.readFixed(r,s),s+=4,l.underlinePosition=a.readShort(r,s),s+=2,l.underlineThickness=a.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var o=r.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var a=r.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[s]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,u=r.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,u,o)}else r.glyf&&e.U._drawGlyf(s,r,o);return o},e.U._drawGlyf=function(r,s,o){var a=s.glyf[r];a==null&&(a=s.glyf[r]=e.glyf._parseGlyf(s,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(r,s){for(var o=0;o<r.noc;o++){for(var a=o==0?0:r.endPts[o-1]+1,l=r.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&r.flags[c],p=1&r.flags[u],g=1&r.flags[f],x=r.xs[c],y=r.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(s,x,y);continue}e.U.P.moveTo(s,r.xs[u],r.ys[u])}else p?e.U.P.moveTo(s,r.xs[u],r.ys[u]):e.U.P.moveTo(s,(r.xs[u]+x)/2,(r.ys[u]+y)/2);d?p&&e.U.P.lineTo(s,x,y):g?e.U.P.qcurveTo(s,x,y,r.xs[f],r.ys[f]):e.U.P.qcurveTo(s,x,y,(x+r.xs[f])/2,(y+r.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,o){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},c=r.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*u.a+p*u.b+u.tx),o.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(r,s){var o=e._lctf.getInterval(s,r);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(r,s,o){var a=!1;if(r.GPOS)for(var l=r.GPOS,c=l.lookupList,u=l.featureList,f=[],d=0;d<u.length;d++){var p=u[d];if(p.tag=="kern"){a=!0;for(var g=0;g<p.tab.length;g++)if(!f[p.tab[g]]){f[p.tab[g]]=!0;for(var x=c[p.tab[g]],y=0;y<x.tabs.length;y++)if(x.tabs[y]!=null){var v,_=x.tabs[y];if((!_.coverage||(v=e._lctf.coverageIndex(_.coverage,s))!=-1)&&x.ltype!=1){if(x.ltype==2){var A=null;if(_.fmt==1){var w=_.pairsets[v];for(d=0;d<w.length;d++)w[d].gid2==o&&(A=w[d])}else if(_.fmt==2){var E=e.U._getGlyphClass(s,_.classDef1),M=e.U._getGlyphClass(o,_.classDef2);A=_.matrix[E][M]}if(A){var C=0;return A.val1&&A.val1[2]&&(C+=A.val1[2]),A.val2&&A.val2[0]&&(C+=A.val2[0]),C}}}}}}}if(r.kern&&!a){var P=r.kern.glyph1.indexOf(s);if(P!=-1){var T=r.kern.rval[P].glyph2.indexOf(o);if(T!=-1)return r.kern.rval[P].vals[T]}}return 0},e.U._applySubs=function(r,s,o,a){for(var l=r.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,r[s]))!=-1){if(o.ltype==1)r[s],f.fmt==1?r[s]=r[s]+f.delta:r[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var g=d[p],x=g.chain.length;if(!(x>l)){for(var y=!0,v=0,_=0;_<x;_++){for(;r[s+v+(1+_)]==-1;)v++;g.chain[_]!=r[s+v+(1+_)]&&(y=!1)}if(y){for(r[s]=g.nglyph,_=0;_<x+v;_++)r[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var A=e._lctf.getInterval(f.cDef,r[s]),w=f.cDef[A+2],E=f.scset[w],M=0;M<E.length;M++){var C=E[M],P=C.input;if(!(P.length>l)){for(y=!0,_=0;_<P.length;_++){var T=e._lctf.getInterval(f.cDef,r[s+1+_]);if(A==-1&&f.cDef[T+2]!=P[_]){y=!1;break}}if(y){var D=C.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(r,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(r,f.inptCvg,s)||!e.U._glsCovered(r,f.ahedCvg,s+f.inptCvg.length))continue;var O=f.lookupRec;for(M=0;M<O.length;M+=2){A=O[M];var N=a[O[M+1]];e.U._applySubs(r,s+A,N,a)}}}}},e.U._glsCovered=function(r,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],r[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(r,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=r.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(r,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(r,s,o){r.cmds.push("M"),r.crds.push(s,o)},e.U.P.lineTo=function(r,s,o){r.cmds.push("L"),r.crds.push(s,o)},e.U.P.curveTo=function(r,s,o,a,l,c,u){r.cmds.push("C"),r.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(r,s,o,a,l){r.cmds.push("Q"),r.crds.push(s,o,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,g=0,x=s.x,y=s.y,v=0,_=0,A=0,w=0,E=0,M=0,C=0,P=0,T=0,D=0,O={val:0,size:0};g<r.length;){e.CFF.getCharString(r,g,O);var N=O.val;if(g+=O.size,N=="o1"||N=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o3"||N=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,x,y),p=!0;else if(N=="o5")for(;c.length>0;)x+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,x,y);else if(N=="o6"||N=="o7")for(var z=c.length,G=N=="o6",W=0;W<z;W++){var J=c.shift();G?x+=J:y+=J,G=!G,e.U.P.lineTo(l,x,y)}else if(N=="o8"||N=="o24"){z=c.length;for(var Z=0;Z+6<=z;)v=x+c.shift(),_=y+c.shift(),A=v+c.shift(),w=_+c.shift(),x=A+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,v,_,A,w,x,y),Z+=6;N=="o24"&&(x+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,x,y))}else{if(N=="o11")break;if(N=="o1234"||N=="o1235"||N=="o1236"||N=="o1237")N=="o1234"&&(_=y,A=(v=x+c.shift())+c.shift(),D=w=_+c.shift(),M=w,P=y,x=(C=(E=(T=A+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,v,_,A,w,T,D),e.U.P.curveTo(l,E,M,C,P,x,y)),N=="o1235"&&(v=x+c.shift(),_=y+c.shift(),A=v+c.shift(),w=_+c.shift(),T=A+c.shift(),D=w+c.shift(),E=T+c.shift(),M=D+c.shift(),C=E+c.shift(),P=M+c.shift(),x=C+c.shift(),y=P+c.shift(),c.shift(),e.U.P.curveTo(l,v,_,A,w,T,D),e.U.P.curveTo(l,E,M,C,P,x,y)),N=="o1236"&&(v=x+c.shift(),_=y+c.shift(),A=v+c.shift(),D=w=_+c.shift(),M=w,C=(E=(T=A+c.shift())+c.shift())+c.shift(),P=M+c.shift(),x=C+c.shift(),e.U.P.curveTo(l,v,_,A,w,T,D),e.U.P.curveTo(l,E,M,C,P,x,y)),N=="o1237"&&(v=x+c.shift(),_=y+c.shift(),A=v+c.shift(),w=_+c.shift(),T=A+c.shift(),D=w+c.shift(),E=T+c.shift(),M=D+c.shift(),C=E+c.shift(),P=M+c.shift(),Math.abs(C-x)>Math.abs(P-y)?x=C+c.shift():y=P+c.shift(),e.U.P.curveTo(l,v,_,A,w,T,D),e.U.P.curveTo(l,E,M,C,P,x,y));else if(N=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var H=c.shift(),$=c.shift(),X=c.shift(),F=c.shift(),j=e.CFF.glyphBySE(o,X),se=e.CFF.glyphBySE(o,F);e.U._drawCFF(o.CharStrings[j],s,o,a,l),s.x=H,s.y=$,e.U._drawCFF(o.CharStrings[se],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(N=="o19"||N=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(N=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),x+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),p=!0;else if(N=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),x+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),p=!0;else if(N=="o25"){for(;c.length>6;)x+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,x,y);v=x+c.shift(),_=y+c.shift(),A=v+c.shift(),w=_+c.shift(),x=A+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,v,_,A,w,x,y)}else if(N=="o26")for(c.length%2&&(x+=c.shift());c.length>0;)v=x,_=y+c.shift(),x=A=v+c.shift(),y=(w=_+c.shift())+c.shift(),e.U.P.curveTo(l,v,_,A,w,x,y);else if(N=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,A=(v=x+c.shift())+c.shift(),w=_+c.shift(),x=A+c.shift(),y=w,e.U.P.curveTo(l,v,_,A,w,x,y);else if(N=="o10"||N=="o29"){var ne=N=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var ie=c.pop(),ce=ne.Subrs[ie+ne.Bias];s.x=x,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(ce,s,o,a,l),x=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(N=="o30"||N=="o31"){var le=c.length,ue=(Z=0,N=="o31");for(Z+=le-(z=-3&le);Z<z;)ue?(_=y,A=(v=x+c.shift())+c.shift(),y=(w=_+c.shift())+c.shift(),z-Z==5?(x=A+c.shift(),Z++):x=A,ue=!1):(v=x,_=y+c.shift(),A=v+c.shift(),w=_+c.shift(),x=A+c.shift(),z-Z==5?(y=w+c.shift(),Z++):y=w,ue=!0),e.U.P.curveTo(l,v,_,A,w,x,y),Z+=4}else{if((N+"").charAt(0)=="o")throw console.debug("Unknown operation: "+N,r),N;c.push(N)}}}s.x=x,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function kie(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(N,z){for(var G=new t(31),W=0;W<31;++W)G[W]=z+=1<<N[W-1];var J=new i(G[30]);for(W=1;W<30;++W)for(var Z=G[W];Z<G[W+1];++Z)J[Z]=Z-G[W]<<5|W;return[G,J]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var x=function(N,z,G){for(var W=N.length,J=0,Z=new t(z);J<W;++J)++Z[N[J]-1];var H,$=new t(z);for(J=0;J<z;++J)$[J]=$[J-1]+Z[J-1]<<1;if(G){H=new t(1<<z);var X=15-z;for(J=0;J<W;++J)if(N[J])for(var F=J<<4|N[J],j=z-N[J],se=$[N[J]-1]++<<j,ne=se|(1<<j)-1;se<=ne;++se)H[d[se]>>>X]=F}else for(H=new t(W),J=0;J<W;++J)N[J]&&(H[J]=d[$[N[J]-1]++]>>>15-N[J]);return H},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var v=new e(32);for(p=0;p<32;++p)v[p]=5;var _=x(y,9,1),A=x(v,5,1),w=function(N){for(var z=N[0],G=1;G<N.length;++G)N[G]>z&&(z=N[G]);return z},E=function(N,z,G){var W=z/8|0;return(N[W]|N[W+1]<<8)>>(7&z)&G},M=function(N,z){var G=z/8|0;return(N[G]|N[G+1]<<8|N[G+2]<<16)>>(7&z)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(N,z,G){var W=new Error(z||C[N]);if(W.code=N,Error.captureStackTrace&&Error.captureStackTrace(W,P),!G)throw W;return W},T=function(N,z,G){var W=N.length;if(!W||G&&!G.l&&W<5)return z||new e(0);var J=!z||G,Z=!G||G.i;G||(G={}),z||(z=new e(3*W));var H,$=function(we){var Oe=z.length;if(we>Oe){var Ye=new e(Math.max(2*Oe,we));Ye.set(z),z=Ye}},X=G.f||0,F=G.p||0,j=G.b||0,se=G.l,ne=G.d,ie=G.m,ce=G.n,le=8*W;do{if(!se){G.f=X=E(N,F,1);var ue=E(N,F+1,3);if(F+=3,!ue){var Fe=N[(Le=((H=F)/8|0)+(7&H&&1)+4)-4]|N[Le-3]<<8,He=Le+Fe;if(He>W){Z&&P(0);break}J&&$(j+Fe),z.set(N.subarray(Le,He),j),G.b=j+=Fe,G.p=F=8*He;continue}if(ue==1)se=_,ne=A,ie=9,ce=5;else if(ue==2){var ge=E(N,F,31)+257,V=E(N,F+10,15)+4,_e=ge+E(N,F+5,31)+1;F+=14;for(var de=new e(_e),ye=new e(19),pe=0;pe<V;++pe)ye[o[pe]]=E(N,F+3*pe,7);F+=3*V;var Ge=w(ye),ve=(1<<Ge)-1,Pe=x(ye,Ge,1);for(pe=0;pe<_e;){var Le,Ee=Pe[E(N,F,ve)];if(F+=15&Ee,(Le=Ee>>>4)<16)de[pe++]=Le;else{var $e=0,U=0;for(Le==16?(U=3+E(N,F,3),F+=2,$e=de[pe-1]):Le==17?(U=3+E(N,F,7),F+=3):Le==18&&(U=11+E(N,F,127),F+=7);U--;)de[pe++]=$e}}var B=de.subarray(0,ge),re=de.subarray(ge);ie=w(B),ce=w(re),se=x(B,ie,1),ne=x(re,ce,1)}else P(1);if(F>le){Z&&P(0);break}}J&&$(j+131072);for(var Te=(1<<ie)-1,Se=(1<<ce)-1,Re=F;;Re=F){var ze=($e=se[M(N,F)&Te])>>>4;if((F+=15&$e)>le){Z&&P(0);break}if($e||P(2),ze<256)z[j++]=ze;else{if(ze==256){Re=F,se=null;break}var Ne=ze-254;if(ze>264){var xe=r[pe=ze-257];Ne=E(N,F,(1<<xe)-1)+c[pe],F+=xe}var Q=ne[M(N,F)&Se],he=Q>>>4;if(Q||P(3),F+=15&Q,re=f[he],he>3&&(xe=s[he],re+=M(N,F)&(1<<xe)-1,F+=xe),F>le){Z&&P(0);break}J&&$(j+131072);for(var Me=j+Ne;j<Me;j+=4)z[j]=z[j-re],z[j+1]=z[j+1-re],z[j+2]=z[j+2-re],z[j+3]=z[j+3-re];j=Me}}G.l=se,G.p=Re,G.b=j,se&&(X=1,G.m=ie,G.d=ne,G.n=ce)}while(!X);return j==z.length?z:function(we,Oe,Ye){(Oe==null||Oe<0)&&(Oe=0),(Ye==null||Ye>we.length)&&(Ye=we.length);var dt=new(we instanceof t?t:we instanceof i?i:e)(Ye-Oe);return dt.set(we.subarray(Oe,Ye)),dt}(z,0,j)},D=new e(0),O=typeof TextDecoder<"u"&&new TextDecoder;try{O.decode(D,{stream:!0})}catch{}return n.convert_streams=function(N){var z=new DataView(N),G=0;function W(){var ge=z.getUint16(G);return G+=2,ge}function J(){var ge=z.getUint32(G);return G+=4,ge}function Z(ge){Fe.setUint16(He,ge),He+=2}function H(ge){Fe.setUint32(He,ge),He+=4}for(var $={signature:J(),flavor:J(),length:J(),numTables:W(),reserved:W(),totalSfntSize:J(),majorVersion:W(),minorVersion:W(),metaOffset:J(),metaLength:J(),metaOrigLength:J(),privOffset:J(),privLength:J()},X=0;Math.pow(2,X)<=$.numTables;)X++;X--;for(var F=16*Math.pow(2,X),j=16*$.numTables-F,se=12,ne=[],ie=0;ie<$.numTables;ie++)ne.push({tag:J(),offset:J(),compLength:J(),origLength:J(),origChecksum:J()}),se+=16;var ce,le=new Uint8Array(12+16*ne.length+ne.reduce(function(ge,V){return ge+V.origLength+4},0)),ue=le.buffer,Fe=new DataView(ue),He=0;return H($.flavor),Z($.numTables),Z(F),Z(X),Z(j),ne.forEach(function(ge){H(ge.tag),H(ge.origChecksum),H(se),H(ge.origLength),ge.outOffset=se,(se+=ge.origLength)%4!=0&&(se+=4-se%4)}),ne.forEach(function(ge){var V,_e=N.slice(ge.offset,ge.offset+ge.compLength);if(ge.compLength!=ge.origLength){var de=new Uint8Array(ge.origLength);V=new Uint8Array(_e,2),T(V,de)}else de=new Uint8Array(_e);le.set(de,ge.outOffset);var ye=0;(se=ge.outOffset+ge.origLength)%4!=0&&(ye=4-se%4),le.set(new Uint8Array(ye).buffer,ge.outOffset+ge.origLength),ce=se+ye}),ue.slice(0,ce)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function Bie(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,o=4,a=8,l=16,c=32;let u;function f(E){if(!u){const M={R:s,L:r,D:o,C:l,U:c,T:a};u=new Map;for(let C in i){let P=0;i[C].split(",").forEach(T=>{let[D,O]=T.split("+");D=parseInt(D,36),O=O?parseInt(O,36):0,u.set(P+=D,M[C]);for(let N=O;N--;)u.set(++P,M[C])})}}return u.get(E)||c}const d=1,p=2,g=3,x=4,y=[null,"isol","init","fina","medi"];function v(E){const M=new Uint8Array(E.length);let C=c,P=d,T=-1;for(let D=0;D<E.length;D++){const O=E.codePointAt(D);let N=f(O)|0,z=d;N&a||(C&(r|o|l)?N&(s|o|l)?(z=g,(P===d||P===g)&&M[T]++):N&(r|c)&&(P===p||P===x)&&M[T]--:C&(s|c)&&(P===p||P===x)&&M[T]--,P=M[D]=z,C=N,T=D,O>65535&&D++)}return M}function _(E,M){const C=[];for(let T=0;T<M.length;T++){const D=M.codePointAt(T);D>65535&&T++,C.push(n.U.codeToGlyph(E,D))}const P=E.GSUB;if(P){const{lookupList:T,featureList:D}=P;let O;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,z=[];D.forEach(G=>{if(N.test(G.tag))for(let W=0;W<G.tab.length;W++){if(z[G.tab[W]])continue;z[G.tab[W]]=!0;const J=T[G.tab[W]],Z=/^(isol|init|fina|medi)$/.test(G.tag);Z&&!O&&(O=v(M));for(let H=0;H<C.length;H++)(!O||!Z||y[O[H]]===G.tag)&&n.U._applySubs(C,H,J,T)}})}return C}function A(...E){for(let M=0;M<E.length;M++)if(typeof E[M]=="number")return E[M]}function w(E){const M=Object.create(null),C=E["OS/2"],P=E.hhea,T=E.head.unitsPerEm,D=A(C&&C.sTypoAscender,P&&P.ascender,T),O={unitsPerEm:T,ascender:D,descender:A(C&&C.sTypoDescender,P&&P.descender,0),capHeight:A(C&&C.sCapHeight,D),xHeight:A(C&&C.sxHeight,D),lineGap:A(C&&C.sTypoLineGap,P&&P.lineGap),forEachGlyph(N,z,G,W){let J=0;const Z=1/O.unitsPerEm*z,H=_(E,N);let $=0,X=-1;return H.forEach((F,j)=>{if(F!==-1){let se=M[F];if(!se){const{cmds:ne,crds:ie}=n.U.glyphToPath(E,F);let ce="",le=0;for(let V=0,_e=ne.length;V<_e;V++){const de=t[ne[V]];ce+=ne[V];for(let ye=1;ye<=de;ye++)ce+=(ye>1?",":"")+ie[le++]}let ue,Fe,He,ge;if(ie.length){ue=Fe=1/0,He=ge=-1/0;for(let V=0,_e=ie.length;V<_e;V+=2){let de=ie[V],ye=ie[V+1];de<ue&&(ue=de),ye<Fe&&(Fe=ye),de>He&&(He=de),ye>ge&&(ge=ye)}}else ue=He=Fe=ge=0;se=M[F]={index:F,advanceWidth:E.hmtx.aWidth[F],xMin:ue,yMin:Fe,xMax:He,yMax:ge,path:ce,pathCommandCount:ne.length}}X!==-1&&(J+=n.U.getPairAdjustment(E,X,F)*Z),W.call(null,se,J,$),se.advanceWidth&&(J+=se.advanceWidth*Z),G&&(J+=G*z),X=F}$+=N.codePointAt($)>65535?2:1}),J}};return O}return function(M){const C=new Uint8Array(M,0,4),P=n._bin.readASCII(C,0,4);if(P==="wOFF")M=e(M);else if(P==="wOF2")throw new Error("woff2 fonts not supported");return w(n.parse(M)[0])}}const Oie=P0({name:"Typr Font Parser",dependencies:[Lie,kie,Bie],init(n,e,t){const i=n(),r=e();return t(i,r)}}),eh={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Fie=new Ke;function Td(){return(self.performance||Date).now()}const kk=Object.create(null);function QN(n,e){n=zie({},n);const t=Td();if(n.font=Hie(n.font||eh.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||eh.sdfGlyphSize,n.colorRanges!=null){let f={};for(let d in n.colorRanges)if(n.colorRanges.hasOwnProperty(d)){let p=n.colorRanges[d];typeof p!="number"&&(p=Fie.set(p).getHex()),f[d]=p}n.colorRanges=f}Object.freeze(n);const{textureWidth:i,sdfExponent:r}=eh,{sdfGlyphSize:s}=n,o=i/s*4;let a=kk[s];if(!a){const f=document.createElement("canvas");f.width=i,f.height=s*256/o,a=kk[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new Mn(f,void 0,void 0,void 0,bn,bn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,Uie(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),Vie(n).then(f=>{const{glyphIds:d,glyphPositions:p,fontSize:g,unitsPerEm:x,timings:y}=f,v=[],_=new Float32Array(d.length*4),A=g/x;let w=0,E=0;const M=Td();d.forEach((O,N)=>{let z=u.get(O);if(!z){const{path:Z,pathBounds:H}=f.glyphData[O],$=Math.max(H[2]-H[0],H[3]-H[1])/s*(eh.sdfMargin*s+.5),X=a.glyphCount++,F=[H[0]-$,H[1]-$,H[2]+$,H[3]+$];u.set(O,z={path:Z,atlasIndex:X,sdfViewBox:F}),v.push(z)}const{sdfViewBox:G}=z,W=p[E++],J=p[E++];_[w++]=W+G[0]*A,_[w++]=J+G[1]*A,_[w++]=W+G[2]*A,_[w++]=J+G[3]*A,d[N]=z.atlasIndex}),y.quads=(y.quads||0)+(Td()-M);const C=Td();y.sdf={};const P=c.height,T=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(T*s)));D>P&&(console.info(`Increasing SDF texture size ${P}->${D}`),Die(c,i,D),l.dispose()),Promise.all(v.map(O=>ZN(O,a,n.gpuAccelerateSDF).then(({timing:N})=>{y.sdf[O.atlasIndex]=N}))).then(()=>{v.length&&!a.contextLost&&(e8(a),l.needsUpdate=!0),y.sdfTotal=Td()-C,y.total=Td()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:r,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||Iie(c)})}function ZN({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=eh,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/i)*i,d=Math.floor(u/(a/i))*i,p=e%4;return Eie(i,i,n,t,c,l,r,f,d,p,o)}function Uie(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(ZN(s,n,!0))})}),Promise.all(i).then(()=>{e8(n),n.sdfTexture.needsUpdate=!0})})}function Nie({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;QN({font:n,sdfGlyphSize:t,text:r},i)}function zie(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let jy;function Hie(n){return jy||(jy=typeof document>"u"?{}:document.createElement("a")),jy.href=n,jy.href}function e8(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),t.image={width:i,height:r,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,o)}}const Gie=P0({name:"Typesetter",dependencies:[eh,Oie,Sie,gie],init(n,e,t,i){const{defaultFontURL:r}=n;return t(e,i(),{defaultFontURL:r})}}),Vie=P0({name:"Typesetter",dependencies:[Gie],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),Bk={};function Wie(n){let e=Bk[n];if(!e){const t=new eu(1,1,n,n),i=t.clone(),r=t.attributes,s=i.attributes,o=new Rt,a=r.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new at([...r[l].array,...s[l].array],r[l].itemSize))}),o.setIndex([...t.index.array,...i.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=Bk[n]=o}return e}const jie="aTroikaGlyphBounds",Ok="aTroikaGlyphIndex",$ie="aTroikaGlyphColor";class Xie extends vT{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Fs,this.boundingBox=new bo}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===mr?t/2:0,e===Kr?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Wie(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){Dw(this,jie,e,4),Dw(this,Ok,t,1),Dw(this,$ie,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=r/2,f=r*2,d=Math.abs(t),p=e[0]/d,g=e[2]/d,x=s((p+u)/f)!==s((g+u)/f)?-d:o(l(p)*d,l(g)*d),y=s((p-u)/f)!==s((g-u)/f)?d:a(l(p)*d,l(g)*d),v=s((p+r)/f)!==s((g+r)/f)?d*2:a(d-c(p)*d,d-c(g)*d);i.min.set(x,e[1],t<0?-v:0),i.max.set(y,e[3],t<0?0:v)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Ok).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function Dw(n,e,t,i){const r=n.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(n.setAttribute(e,new Af(t,i)),delete n._maxInstanceCount,n.dispose()):r&&n.deleteAttribute(e)}const Yie=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Jie=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Kie=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,qie=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Qie(n){const e=TE(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Be},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Wt(0,0,0,0)},uTroikaClipRect:{value:new Wt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Be},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ke},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Dt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Yie,vertexTransform:Jie,fragmentDefs:Kie,fragmentColorTransform:qie,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(KN,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const RT=new es({color:16777215,side:Kr,transparent:!0}),Fk=8421504,Uk=new At,$y=new Y,Lw=new Y,_m=[],Zie=new Y,kw="+x+y";function Nk(n){return Array.isArray(n)?n[0]:n}let t8=()=>{const n=new Qn(new eu(1,1),RT);return t8=()=>n,n},n8=()=>{const n=new Qn(new eu(1,1,32,1),RT);return n8=()=>n,n};const ere={type:"syncstart"},tre={type:"synccomplete"},i8=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],nre=i8.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let r8=class extends Qn{constructor(){const e=new Xie;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Fk,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=kw,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(ere),QN({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(tre),e&&e()})))}onBeforeRender(e,t,i,r,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Xo}onAfterRender(e,t,i,r,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=RT.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=Qie(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Nk(this.material).getDepthMaterial()}get customDistanceMaterial(){return Nk(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:a,blockBounds:l}=r;i.uTroikaSDFTexture.value=a,i.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,u=0,f=0,d,p,g,x=0,y=0;if(t){let{outlineWidth:_,outlineOffsetX:A,outlineOffsetY:w,outlineBlur:E,outlineOpacity:M}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(E)||0),d=M,x=this._parsePercent(A)||0,y=this._parsePercent(w)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,i.uTroikaStrokeColor.value.set(g??Fk),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;i.uTroikaDistanceOffset.value=c,i.uTroikaPositionOffset.value.set(x,y),i.uTroikaBlurRadius.value=u,i.uTroikaStrokeWidth.value=f,i.uTroikaStrokeOpacity.value=p,i.uTroikaFillOpacity.value=d??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)i.uTroikaClipRect.value.fromArray(v);else{const _=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Ke;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||kw;if(o!==e._orientation){let a=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==kw&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;$y.set(0,0,0)[u]=c==="-"?1:-1,Lw.set(0,0,0)[d]=f==="-"?-1:1,Uk.lookAt(Zie,$y.cross(Lw),Lw),a.setFromMatrix4(Uk)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Be){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new Be){return $y.copy(e),this.localPositionToTextCoords(this.worldToLocal($y),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,o=r?n8():t8(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;r&&(p=r-Math.cos(f/r)*r,f=Math.sin(f/r)*r),l.setXYZ(u,f,d,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,_m.length=0,o.raycast(e,_m);for(let u=0;u<_m.length;u++)_m[u].object=this,t.push(_m[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,nre.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};i8.forEach(n=>{const e="_private_"+n;Object.defineProperty(r8.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const zk=I.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},c)=>{const u=cr(({invalidate:g})=>g),[f]=I.useState(()=>new r8),[d,p]=I.useMemo(()=>{const g=[];let x="";return I.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?x+=y:g.push(y)}),[g,x]},[s]);return hN(()=>new Promise(g=>Nie({font:i,characters:o},g)),["troika-text",i,o]),I.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),I.useEffect(()=>()=>f.dispose(),[f]),I.createElement("primitive",yn({object:f,ref:c,font:i,text:p,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),d)});let Xy=null;function s8(n,e,t){return i=>{t&&t(i),n&&(Xy||(Xy=new lie),Xy.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Xy)),e&&i.setMeshoptDecoder(typeof Pw=="function"?Pw():Pw)}}function Z_(n,e=!0,t=!0,i){return E0(TT,n,s8(e,t,i))}Z_.preload=(n,e=!0,t=!0,i)=>E0.preload(TT,n,s8(e,t,i));Z_.clear=n=>E0.clear(TT,n);const ire=I.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=cr(E=>E.invalidate),f=cr(E=>E.camera),d=cr(E=>E.gl),p=cr(E=>E.events),g=cr(E=>E.setEvents),x=cr(E=>E.set),y=cr(E=>E.get),v=cr(E=>E.performance),_=e||f,A=i||p.connected||d.domElement,w=I.useMemo(()=>new Rne(_),[_]);return Sr(()=>{w.enabled&&w.update()},-1),I.useEffect(()=>(w.connect(A),()=>void w.dispose()),[A,t,w,u]),I.useEffect(()=>{const E=P=>{u(),t&&v.regress(),s&&s(P)},M=P=>{o&&o(P)},C=P=>{a&&a(P)};return w.addEventListener("change",E),w.addEventListener("start",M),w.addEventListener("end",C),()=>{w.removeEventListener("start",M),w.removeEventListener("end",C),w.removeEventListener("change",E)}},[s,o,a,w,u,g]),I.useEffect(()=>{if(n){const E=y().controls;return x({controls:w}),()=>x({controls:E})}},[n,w]),I.createElement("primitive",yn({ref:c,object:w,enableDamping:r},l))});var o8={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(AS,function(){var t=function(){function i(p){return o.appendChild(p.dom),p}function r(p){for(var g=0;g<o.children.length;g++)o.children[g].style.display=g===p?"block":"none";s=p}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(p){p.preventDefault(),r(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,c=0,u=i(new t.Panel("FPS","#0ff","#002")),f=i(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=i(new t.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:o,addPanel:i,showPanel:r,begin:function(){a=(performance||Date).now()},end:function(){c++;var p=(performance||Date).now();if(f.update(p-a,200),p>l+1e3&&(u.update(1e3*c/(p-l),100),l=p,c=0,d)){var g=performance.memory;d.update(g.usedJSHeapSize/1048576,g.jsHeapSizeLimit/1048576)}return p},update:function(){a=this.end()},domElement:o,setMode:r}};return t.Panel=function(i,r,s){var o=1/0,a=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,f=48*c,d=3*c,p=2*c,g=3*c,x=15*c,y=74*c,v=30*c,_=document.createElement("canvas");_.width=u,_.height=f,_.style.cssText="width:80px;height:48px";var A=_.getContext("2d");return A.font="bold "+9*c+"px Helvetica,Arial,sans-serif",A.textBaseline="top",A.fillStyle=s,A.fillRect(0,0,u,f),A.fillStyle=r,A.fillText(i,d,p),A.fillRect(g,x,y,v),A.fillStyle=s,A.globalAlpha=.9,A.fillRect(g,x,y,v),{dom:_,update:function(w,E){o=Math.min(o,w),a=Math.max(a,w),A.fillStyle=s,A.globalAlpha=1,A.fillRect(0,0,u,x),A.fillStyle=r,A.fillText(l(w)+" "+i+" ("+l(o)+"-"+l(a)+")",d,p),A.drawImage(_,g+c,x,y-c,v,g,x,y-c,v),A.fillRect(g+y-c,x,c,v),A.fillStyle=s,A.globalAlpha=.9,A.fillRect(g+y-c,x,c,l((1-w/E)*v))}}},t})})(o8);var rre=o8.exports;const sre=Ba(rre);function Hk(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function ore(n,e=[],t){const[i,r]=I.useState();return I.useLayoutEffect(()=>{const s=n();return r(s),Hk(t,s),()=>Hk(t,null)},e),i}function are({showPanel:n=0,className:e,parent:t}){const i=ore(()=>new sre,[]);return I.useEffect(()=>{if(i){const r=t&&t.current||document.body;i.showPanel(n),r==null||r.appendChild(i.dom),e&&i.dom.classList.add(...e.split(" ").filter(a=>a));const s=MN(()=>i.begin()),o=CN(()=>i.end());return()=>{r==null||r.removeChild(i.dom),s(),o()}}},[t,i,e,n]),null}function lre(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function a8(...n){return e=>n.forEach(t=>lre(t,e))}function yp(...n){return I.useCallback(a8(...n),n)}const l8=I.forwardRef((n,e)=>{const{children:t,...i}=n,r=I.Children.toArray(t),s=r.find(cre);if(s){const o=s.props.children,a=r.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return I.createElement(PE,yn({},i,{ref:e}),I.isValidElement(o)?I.cloneElement(o,void 0,a):null)}return I.createElement(PE,yn({},i,{ref:e}),t)});l8.displayName="Slot";const PE=I.forwardRef((n,e)=>{const{children:t,...i}=n;return I.isValidElement(t)?I.cloneElement(t,{...ure(i,t.props),ref:e?a8(e,t.ref):t.ref}):I.Children.count(t)>1?I.Children.only(null):null});PE.displayName="SlotClone";const c8=({children:n})=>I.createElement(I.Fragment,null,n);function cre(n){return I.isValidElement(n)&&n.type===c8}function ure(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const fre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Bf=fre.reduce((n,e)=>{const t=I.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?l8:e;return I.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),I.createElement(a,yn({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function dre(n,e){n&&u0.flushSync(()=>n.dispatchEvent(e))}const hre=I.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?AF.createPortal(I.createElement(Bf.div,yn({},r,{ref:e})),i):null}),pre=hre;var Gk=Object.prototype.hasOwnProperty;function $g(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&$g(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(Gk.call(n,t)&&++i&&!Gk.call(e,t)||!(t in e)||!$g(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}var eA=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};eA.prototype._test=function(e){var t=this.fn;try{xh(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return xh(this.modifiers.slice(),t,this)(e)}catch{return!1}};eA.prototype._check=function(e){try{xh(this.modifiers.slice(),this.fn,this)(e)}catch{if(xh(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!xh(this.modifiers.slice(),this.fn,this)(e))throw null};eA.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){f8(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?i(e):r(null)}).catch(function(s){return r(s)})})};function u8(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function xh(n,e,t){if(n.length){var i=n.shift(),r=xh(n,e,t);return i.perform(r,t)}else return u8(e)}function f8(n,e,t){if(n.length){var i=n.shift(),r=f8(n,e,t);return i.performAsync(r,t)}else return function(s){return Promise.resolve(u8(e,"async")(s))}}var mre=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},PT=function(n){function e(t,i,r,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Da=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Da.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return i.chain.push(new eA(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};Da.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new mre(t,e.simple,e.async)),this};Da.prototype._clone=function(){return new Da(this.chain.slice(),this.nextRuleModifiers.slice())};Da.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Da.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new PT(i,e,r))}}),t};Da.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new PT(t,e,i)}})};Da.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){d8(e,t.chain.slice(),i,r)})};function d8(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){d8(n,e,t,i)},function(s){i(new PT(r,n,s))})}else t(n)}var Vk=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function gre(n,e){return e===void 0&&(e=!1),{simple:function(t){return Vk(t,e)||n.check(t)===void 0},async:function(t){return Vk(t,e)||n.testAsync(t)}}}function ts(){return typeof Proxy<"u"?h8(new Da):IE(new Da)}var Xg={};ts.extend=function(n){Object.assign(Xg,n)};ts.clearCustomRules=function(){Xg={}};function h8(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=h8(n._clone());if(i in _x)return r._applyModifier(_x[i],i);if(i in Xg)return r._applyRule(Xg[i],i);if(i in DE)return r._applyRule(DE[i],i)}})}function IE(n){var e=function(r,s){return Object.keys(r).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=IE(s._clone()),u=c._applyRule(r[o],o).apply(void 0,a);return u}}),s},t=e(DE,n),i=e(Xg,t);return Object.keys(_x).forEach(function(r){Object.defineProperty(i,r,{get:function(){var s=IE(i._clone());return s._applyModifier(_x[r],r)}})}),i}var _x={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Yy(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Yy(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Yy(e).every(n)}},async:function(n){return function(e){return Promise.all(Yy(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return Wk(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return Wk(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function Wk(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Yy(n){return typeof n=="string"?n.split(""):n}var DE={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||vre;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Rd("string")},boolean:function(){return Rd("boolean")},undefined:function(){return Rd("undefined")},null:function(){return Rd("null")},array:function(){return Rd("array")},object:function(){return Rd("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return yre(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:gre};function Rd(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function vre(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function yre(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(s){s.target=i,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var s=n[r];return s.testAsync((e||{})[r]).catch(function(o){o.target=r,t.push(o)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var an="colors",Dr="sizes",st="space",xre={gap:st,gridGap:st,columnGap:st,gridColumnGap:st,rowGap:st,gridRowGap:st,inset:st,insetBlock:st,insetBlockEnd:st,insetBlockStart:st,insetInline:st,insetInlineEnd:st,insetInlineStart:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockEnd:st,marginBlockStart:st,marginInline:st,marginInlineEnd:st,marginInlineStart:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockEnd:st,paddingBlockStart:st,paddingInline:st,paddingInlineEnd:st,paddingInlineStart:st,top:st,right:st,bottom:st,left:st,scrollMargin:st,scrollMarginTop:st,scrollMarginRight:st,scrollMarginBottom:st,scrollMarginLeft:st,scrollMarginX:st,scrollMarginY:st,scrollMarginBlock:st,scrollMarginBlockEnd:st,scrollMarginBlockStart:st,scrollMarginInline:st,scrollMarginInlineEnd:st,scrollMarginInlineStart:st,scrollPadding:st,scrollPaddingTop:st,scrollPaddingRight:st,scrollPaddingBottom:st,scrollPaddingLeft:st,scrollPaddingX:st,scrollPaddingY:st,scrollPaddingBlock:st,scrollPaddingBlockEnd:st,scrollPaddingBlockStart:st,scrollPaddingInline:st,scrollPaddingInlineEnd:st,scrollPaddingInlineStart:st,fontSize:"fontSizes",background:an,backgroundColor:an,backgroundImage:an,borderImage:an,border:an,borderBlock:an,borderBlockEnd:an,borderBlockStart:an,borderBottom:an,borderBottomColor:an,borderColor:an,borderInline:an,borderInlineEnd:an,borderInlineStart:an,borderLeft:an,borderLeftColor:an,borderRight:an,borderRightColor:an,borderTop:an,borderTopColor:an,caretColor:an,color:an,columnRuleColor:an,fill:an,outline:an,outlineColor:an,stroke:an,textDecorationColor:an,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Dr,minBlockSize:Dr,maxBlockSize:Dr,inlineSize:Dr,minInlineSize:Dr,maxInlineSize:Dr,width:Dr,minWidth:Dr,maxWidth:Dr,height:Dr,minHeight:Dr,maxHeight:Dr,flexBasis:Dr,gridTemplateColumns:Dr,gridTemplateRows:Dr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},_re=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,xp=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,_re))(e);return r in n?n[r]:n[r]=t(e,...i)}},of=Symbol.for("sxs.internal"),IT=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),jk=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Are}=Object.prototype,LE=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),bre=/\s+(?![^()]*\))/,Pd=n=>e=>n(...typeof e=="string"?String(e).split(bre):[e]),$k={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Pd((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Pd((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Pd((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Pd((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Pd((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Pd((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Bw=/([\d.]+)([^]*)/,wre=(n,e)=>n.length?n.reduce((t,i)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r)),t),[]):e,Sre=(n,e)=>n in Ere&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${LE(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${LE(n)}:${i}fit-content`)+s):String(e),Ere={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Pl=n=>n?n+"-":"",p8=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,r,s,o,a)=>o=="$"==!!s?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?Pl(e)+(a.includes("$")?"":Pl(t))+a.replace(/\$/g,"-"):a)+")"+(r||o=="--"?"*"+(r||"")+(s||"1")+")":"")),Mre=/\s*,\s*(?![^()]*\))/,Cre=Object.prototype.toString,th=(n,e,t,i,r)=>{let s,o,a;const l=(c,u,f)=>{let d,p;const g=x=>{for(d in x){const _=d.charCodeAt(0)===64,A=_&&Array.isArray(x[d])?x[d]:[x[d]];for(p of A){const w=/[A-Z]/.test(v=d)?v:v.replace(/-[^]/g,M=>M[1].toUpperCase()),E=typeof p=="object"&&p&&p.toString===Cre&&(!i.utils[w]||!u.length);if(w in i.utils&&!E){const M=i.utils[w];if(M!==o){o=M,g(M(p)),o=null;continue}}else if(w in $k){const M=$k[w];if(M!==a){a=M,g(M(p)),a=null;continue}}if(_&&(y=d.slice(1)in i.media?"@media "+i.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(M,C,P,T,D,O)=>{const N=Bw.test(C),z=.0625*(N?-1:1),[G,W]=N?[T,C]:[C,T];return"("+(P[0]==="="?"":P[0]===">"===N?"max-":"min-")+G+":"+(P[0]!=="="&&P.length===1?W.replace(Bw,(J,Z,H)=>Number(Z)+z*(P===">"?1:-1)+H):W)+(D?") and ("+(D[0]===">"?"min-":"max-")+G+":"+(D.length===1?O.replace(Bw,(J,Z,H)=>Number(Z)+z*(D===">"?-1:1)+H):O):"")+")"})),E){const M=_?f.concat(d):[...f],C=_?[...u]:wre(u,d.split(Mre));s!==void 0&&r(Xk(...s)),s=void 0,l(p,C,M)}else s===void 0&&(s=[[],u,f]),d=_||d.charCodeAt(0)!==36?d:`--${Pl(i.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=E?p:typeof p=="number"?p&&w in Tre?String(p)+"px":String(p):p8(Sre(w,p??""),i.prefix,i.themeMap[w]),s[0].push(`${_?`${d} `:`${LE(d)}:`}${p}`)}}var y,v};g(c),s!==void 0&&r(Xk(...s)),s=void 0};l(n,e,t)},Xk=(n,e,t)=>`${t.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Tre={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Yk=n=>String.fromCharCode(n+(n>25?39:97)),af=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=Yk(t%52)+i;return Yk(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),Bm=["themed","global","styled","onevar","resonevar","allvar","inline"],Rre=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Pre=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(r[o-1]&&(l=r[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},i=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const r=Object(n).styleSheets||[];for(const a of r)if(Rre(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),g=Bm[p[0]];g&&(e||(e={sheet:a,reset:i,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:o}=e;for(let a=Bm.length-1;a>=0;--a){const l=Bm[a];if(!o[l]){const c=Bm[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Ire(o[l])}};return i(),e},Ire=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},Am=Symbol(),Dre=xp(),Jk=(n,e)=>Dre(n,()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[of]){i.type==null&&(i.type=r[of].type);for(const s of r[of].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(Lre(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),kre(n,i,e)}),Lre=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${Pl(r.prefix)}c-${af(i)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,Are.call(u,f)||(l[d]="undefined");const p=n[d];for(const g in p){const x={[d]:String(g)};String(g)==="undefined"&&c.push(d);const y=p[g],v=[x,y,!jk(y)];o.push(v)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...g}=d;p=typeof p=="object"&&p||{};for(const y in g)g[y]=String(g[y]);const x=[g,p,!jk(p)];a.push(x)}return[s,i,o,a,l,c]},kre=(n,e,t)=>{const[i,r,s,o]=Bre(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[Am].length;p++){const[g,x]=d[Am][p];f.rules[g].apply(x)}return d[Am]=[],null}return d[Am]=[],d.rules={},Bm.forEach(p=>d.rules[p]={apply:g=>d[Am].push([p,g])}),d})(t):null,l=(a||t).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Ore;const{css:d,...p}=f,g={};for(const v in s)if(delete p[v],v in f){let _=f[v];typeof _=="object"&&_?g[v]={"@initial":s[v],..._}:(_=String(_),g[v]=_!=="undefined"||o.has(v)?_:s[v])}else g[v]=s[v];const x=new Set([...r]);for(const[v,_,A,w]of e.composers){t.rules.styled.cache.has(v)||(t.rules.styled.cache.add(v),th(_,[`.${v}`],[],n,C=>{l.styled.apply(C)}));const E=Kk(A,g,n.media),M=Kk(w,g,n.media,!0);for(const C of E)if(C!==void 0)for(const[P,T,D]of C){const O=`${v}-${af(T)}-${P}`;x.add(O);const N=(D?t.rules.resonevar:t.rules.onevar).cache,z=D?l.resonevar:l.onevar;N.has(O)||(N.add(O),th(T,[`.${O}`],[],n,G=>{z.apply(G)}))}for(const C of M)if(C!==void 0)for(const[P,T]of C){const D=`${v}-${af(T)}-${P}`;x.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),th(T,[`.${D}`],[],n,O=>{l.allvar.apply(O)}))}}if(typeof d=="object"&&d){const v=`${i}-i${af(d)}-css`;x.add(v),t.rules.inline.cache.has(v)||(t.rules.inline.cache.add(v),th(d,[`.${v}`],[],n,_=>{l.inline.apply(_)}))}for(const v of String(f.className||"").trim().split(/\s+/))v&&x.add(v);const y=p.className=[...x].join(" ");return{type:e.type,className:y,selector:c,props:p,toString:()=>y,deferredInjector:a}};return IT(u,{className:i,selector:c,[of]:e,toString:()=>(t.rules.styled.cache.has(i)||u(),i)})},Bre=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),r.push(...a);for(const l in o){const c=o[l];(i[l]===void 0||c!=="undefined"||a.includes(c))&&(i[l]=c)}}return[e,t,i,new Set(r)]},Kk=(n,e,t,i)=>{const r=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,g,x=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const v=y.slice(1);(g=g||[]).push(v in t?t[v]:y.replace(/^@media ?/,"")),u=!0}c+=x,p=!0}++x}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!p)continue e}}}(r[c]=r[c]||[]).push([i?"cv":`${l}-${s[l]}`,o,u])}return r},Ore={},Fre=xp(),Ure=(n,e)=>Fre(n,()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=af(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(r["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete r["@import"]}th(r,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return IT(i,{toString:i})}),Nre=xp(),zre=(n,e)=>Nre(n,()=>t=>{const i=`${Pl(n.prefix)}k-${af(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];th(t,[],[],n,a=>s.push(a));const o=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(o)}return i};return IT(r,{get name(){return r()},toString:r})}),Hre=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Pl(this.prefix)+Pl(this.scale)+this.token}toString(){return this.computedValue}},Gre=xp(),Vre=(n,e)=>Gre(n,()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${Pl(n.prefix)}t-${af(i)}`}`,s={},o=[];for(const l in i){s[l]={};for(const c in i[l]){const u=`--${Pl(n.prefix)}${l}-${c}`,f=p8(String(i[l][c]),n.prefix,l);s[l][c]=new Hre(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:r,toString:a}}),Wre=xp(),qk,jre=xp(),m8=n=>{const e=(t=>{let i=!1;const r=Wre(t,s=>{i=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...xre},utils:typeof s.utils=="object"&&s.utils||{}},f=Pre(l),d={css:Jk(u,f),globalCss:Ure(u,f),keyframes:zre(u,f),createTheme:Vre(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>jre(t,()=>{const r=Jk(t,i);return(...s)=>{const o=r(...s),a=o[of].type,l=te.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:p}=o(c);return delete d.as,d.ref=u,p?te.createElement(te.Fragment,null,te.createElement(f,d),te.createElement(p,null)):te.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[of]=o[of],l}}))(e),e},$re=()=>qk||(qk=m8()),Ri=(...n)=>$re().styled(...n);function ol(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function g8(n,e=[]){let t=[];function i(s,o){const a=I.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:p,...g}=f,x=(d==null?void 0:d[n][l])||a,y=I.useMemo(()=>g,Object.values(g));return I.createElement(x.Provider,{value:y},p)}function u(f,d){const p=(d==null?void 0:d[n][l])||a,g=I.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const r=()=>{const s=t.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return I.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,Xre(r,...e)]}function Xre(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function _p(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function Yre(n,e=globalThis==null?void 0:globalThis.document){const t=_p(n);I.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const kE="dismissableLayer.update",Jre="dismissableLayer.pointerDownOutside",Kre="dismissableLayer.focusOutside";let Qk;const qre=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qre=I.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=I.useContext(qre),[f,d]=I.useState(null),p=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=I.useState({}),x=yp(e,P=>d(P)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(v),A=f?y.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=A>=_,M=Zre(P=>{const T=P.target,D=[...u.branches].some(O=>O.contains(T));!E||D||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},p),C=ese(P=>{const T=P.target;[...u.branches].some(O=>O.contains(T))||(o==null||o(P),a==null||a(P),P.defaultPrevented||l==null||l())},p);return Yre(P=>{A===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),I.useEffect(()=>{if(f)return i&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Zk(),()=>{i&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Qk)}},[f,p,i,u]),I.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Zk())},[f,u]),I.useEffect(()=>{const P=()=>g({});return document.addEventListener(kE,P),()=>document.removeEventListener(kE,P)},[]),I.createElement(Bf.div,yn({},c,{ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...n.style},onFocusCapture:ol(n.onFocusCapture,C.onFocusCapture),onBlurCapture:ol(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ol(n.onPointerDownCapture,M.onPointerDownCapture)}))});function Zre(n,e=globalThis==null?void 0:globalThis.document){const t=_p(n),i=I.useRef(!1),r=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let u=function(){v8(Jre,t,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function ese(n,e=globalThis==null?void 0:globalThis.document){const t=_p(n),i=I.useRef(!1);return I.useEffect(()=>{const r=s=>{s.target&&!i.current&&v8(Kre,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Zk(){const n=new CustomEvent(kE);document.dispatchEvent(n)}function v8(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?dre(r,s):r.dispatchEvent(s)}const $h=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},tse=RH["useId".toString()]||(()=>{});let nse=0;function ise(n){const[e,t]=I.useState(tse());return $h(()=>{n||t(i=>i??String(nse++))},[n]),n||(e?`radix-${e}`:"")}function Ap(n){return n.split("-")[1]}function DT(n){return n==="y"?"height":"width"}function yl(n){return n.split("-")[0]}function Of(n){return["top","bottom"].includes(yl(n))?"x":"y"}function eB(n,e,t){let{reference:i,floating:r}=n;const s=i.x+i.width/2-r.width/2,o=i.y+i.height/2-r.height/2,a=Of(e),l=DT(a),c=i[l]/2-r[l]/2,u=a==="x";let f;switch(yl(e)){case"top":f={x:s,y:i.y-r.height};break;case"bottom":f={x:s,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:o};break;case"left":f={x:i.x-r.width,y:o};break;default:f={x:i.x,y:i.y}}switch(Ap(e)){case"start":f[a]-=c*(t&&u?-1:1);break;case"end":f[a]+=c*(t&&u?-1:1)}return f}const rse=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:f}=eB(c,i,l),d=i,p={},g=0;for(let x=0;x<a.length;x++){const{name:y,fn:v}=a[x],{x:_,y:A,data:w,reset:E}=await v({x:u,y:f,initialPlacement:i,placement:d,strategy:r,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,f=A??f,p={...p,[y]:{...p[y],...w}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):E.rects),{x:u,y:f}=eB(c,d,l)),x=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:p}};function Il(n,e){return typeof n=="function"?n(e):n}function y8(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function Ax(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function Yg(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Il(e,n),g=y8(p),x=a[d?f==="floating"?"reference":"floating":f],y=Ax(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{...o.floating,x:i,y:r}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(_))&&await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1},w=Ax(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-w.top+g.top)/A.y,bottom:(w.bottom-y.bottom+g.bottom)/A.y,left:(y.left-w.left+g.left)/A.x,right:(w.right-y.right+g.right)/A.x}}const Jg=Math.min,Uu=Math.max;function BE(n,e,t){return Uu(n,Jg(e,t))}const tB=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a}=e,{element:l,padding:c=0}=Il(n,e)||{};if(l==null)return{};const u=y8(c),f={x:t,y:i},d=Of(r),p=DT(d),g=await o.getDimensions(l),x=d==="y",y=x?"top":"left",v=x?"bottom":"right",_=x?"clientHeight":"clientWidth",A=s.reference[p]+s.reference[d]-f[d]-s.floating[p],w=f[d]-s.reference[d],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let M=E?E[_]:0;M&&await(o.isElement==null?void 0:o.isElement(E))||(M=a.floating[_]||s.floating[p]);const C=A/2-w/2,P=M/2-g[p]/2-1,T=Jg(u[y],P),D=Jg(u[v],P),O=T,N=M-g[p]-D,z=M/2-g[p]/2+C,G=BE(O,z,N),W=Ap(r)!=null&&z!=G&&s.reference[p]/2-(z<O?T:D)-g[p]/2<0?z<O?O-z:N-z:0;return{[d]:f[d]-W,data:{[d]:G,centerOffset:z-G+W}}}}),x8=["top","right","bottom","left"];x8.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);const sse={left:"right",right:"left",bottom:"top",top:"bottom"};function bx(n){return n.replace(/left|right|bottom|top/g,e=>sse[e])}function ose(n,e,t){t===void 0&&(t=!1);const i=Ap(n),r=Of(n),s=DT(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=bx(o)),{main:o,cross:bx(o)}}const ase={start:"end",end:"start"};function Ow(n){return n.replace(/start|end/g,e=>ase[e])}const lse=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...x}=Il(n,e),y=yl(i),v=yl(o)===o,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),A=f||(v||!g?[bx(o)]:function(O){const N=bx(O);return[Ow(O),N,Ow(N)]}(o));f||p==="none"||A.push(...function(O,N,z,G){const W=Ap(O);let J=function(Z,H,$){const X=["left","right"],F=["right","left"],j=["top","bottom"],se=["bottom","top"];switch(Z){case"top":case"bottom":return $?H?F:X:H?X:F;case"left":case"right":return H?j:se;default:return[]}}(yl(O),z==="start",G);return W&&(J=J.map(Z=>Z+"-"+W),N&&(J=J.concat(J.map(Ow)))),J}(o,g,p,_));const w=[o,...A],E=await Yg(e,x),M=[];let C=((t=r.flip)==null?void 0:t.overflows)||[];if(c&&M.push(E[y]),u){const{main:O,cross:N}=ose(i,s,_);M.push(E[O],E[N])}if(C=[...C,{placement:i,overflows:M}],!M.every(O=>O<=0)){var P,T;const O=(((P=r.flip)==null?void 0:P.index)||0)+1,N=w[O];if(N)return{data:{index:O,overflows:C},reset:{placement:N}};let z=(T=C.filter(G=>G.overflows[0]<=0).sort((G,W)=>G.overflows[1]-W.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(d){case"bestFit":{var D;const G=(D=C.map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,Z)=>J+Z,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:D[0];G&&(z=G);break}case"initialPlacement":z=o}if(i!==z)return{reset:{placement:z}}}return{}}}};function nB(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function iB(n){return x8.some(e=>n[e]>=0)}const cse=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Il(n,e);switch(i){case"referenceHidden":{const s=nB(await Yg(e,{...r,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:iB(s)}}}case"escaped":{const s=nB(await Yg(e,{...r,altBoundary:!0}),t.floating);return{data:{escapedOffsets:s,escaped:iB(s)}}}default:return{}}}}},use=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await async function(s,o){const{placement:a,platform:l,elements:c}=s,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),f=yl(a),d=Ap(a),p=Of(a)==="x",g=["left","top"].includes(f)?-1:1,x=u&&p?-1:1,y=Il(o,s);let{mainAxis:v,crossAxis:_,alignmentAxis:A}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof A=="number"&&(_=d==="end"?-1*A:A),p?{x:_*x,y:v*g}:{x:v*g,y:_*x}}(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function _8(n){return n==="x"?"y":"x"}const fse=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:_}=y;return{x:v,y:_}}},...l}=Il(n,e),c={x:t,y:i},u=await Yg(e,l),f=Of(yl(r)),d=_8(f);let p=c[f],g=c[d];if(s){const y=f==="y"?"bottom":"right";p=BE(p+u[f==="y"?"top":"left"],p,p-u[y])}if(o){const y=d==="y"?"bottom":"right";g=BE(g+u[d==="y"?"top":"left"],g,g-u[y])}const x=a.fn({...e,[f]:p,[d]:g});return{...x,data:{x:x.x-t,y:x.y-i}}}}},dse=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Il(n,e),u={x:t,y:i},f=Of(r),d=_8(f);let p=u[f],g=u[d];const x=Il(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const A=f==="y"?"height":"width",w=s.reference[f]-s.floating[A]+y.mainAxis,E=s.reference[f]+s.reference[A]-y.mainAxis;p<w?p=w:p>E&&(p=E)}if(c){var v,_;const A=f==="y"?"width":"height",w=["top","left"].includes(yl(r)),E=s.reference[d]-s.floating[A]+(w&&((v=o.offset)==null?void 0:v[d])||0)+(w?0:y.crossAxis),M=s.reference[d]+s.reference[A]+(w?0:((_=o.offset)==null?void 0:_[d])||0)-(w?y.crossAxis:0);g<E?g=E:g>M&&(g=M)}return{[f]:p,[d]:g}}}},hse=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:o=()=>{},...a}=Il(n,e),l=await Yg(e,a),c=yl(t),u=Ap(t),f=Of(t)==="x",{width:d,height:p}=i.floating;let g,x;c==="top"||c==="bottom"?(g=c,x=u===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(x=c,g=u==="end"?"top":"bottom");const y=p-l[g],v=d-l[x],_=!e.middlewareData.shift;let A=y,w=v;if(f){const M=d-l.left-l.right;w=u||_?Jg(v,M):M}else{const M=p-l.top-l.bottom;A=u||_?Jg(y,M):M}if(_&&!u){const M=Uu(l.left,0),C=Uu(l.right,0),P=Uu(l.top,0),T=Uu(l.bottom,0);f?w=d-2*(M!==0||C!==0?M+C:Uu(l.left,l.right)):A=p-2*(P!==0||T!==0?P+T:Uu(l.top,l.bottom))}await o({...e,availableWidth:w,availableHeight:A});const E=await r.getDimensions(s.floating);return d!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function Es(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function La(n){return Es(n).getComputedStyle(n)}function A8(n){return n instanceof Es(n).Node}function Wc(n){return A8(n)?(n.nodeName||"").toLowerCase():"#document"}function Ko(n){return n instanceof HTMLElement||n instanceof Es(n).HTMLElement}function rB(n){return typeof ShadowRoot<"u"&&(n instanceof Es(n).ShadowRoot||n instanceof ShadowRoot)}function Kg(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=La(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function pse(n){return["table","td","th"].includes(Wc(n))}function OE(n){const e=LT(),t=La(n);return t.transform!=="none"||t.perspective!=="none"||!!t.containerType&&t.containerType!=="normal"||!e&&!!t.backdropFilter&&t.backdropFilter!=="none"||!e&&!!t.filter&&t.filter!=="none"||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function LT(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function tA(n){return["html","body","#document"].includes(Wc(n))}const FE=Math.min,_h=Math.max,wx=Math.round,Jy=Math.floor,jc=n=>({x:n,y:n});function b8(n){const e=La(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ko(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=wx(t)!==s||wx(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function xl(n){return n instanceof Element||n instanceof Es(n).Element}function kT(n){return xl(n)?n:n.contextElement}function Ah(n){const e=kT(n);if(!Ko(e))return jc(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=b8(e);let o=(s?wx(t.width):t.width)/i,a=(s?wx(t.height):t.height)/r;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const mse=jc(0);function w8(n){const e=Es(n);return LT()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:mse}function Sf(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=kT(n);let o=jc(1);e&&(i?xl(i)&&(o=Ah(i)):o=Ah(n));const a=function(d,p,g){return p===void 0&&(p=!1),!(!g||p&&g!==Es(d))&&p}(s,t,i)?w8(s):jc(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,f=r.height/o.y;if(s){const d=Es(s),p=i&&xl(i)?Es(i):i;let g=d.frameElement;for(;g&&i&&p!==d;){const x=Ah(g),y=g.getBoundingClientRect(),v=getComputedStyle(g),_=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,A=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=_,c+=A,g=Es(g).frameElement}}return Ax({width:u,height:f,x:l,y:c})}function nA(n){return xl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function _l(n){var e;return(e=(A8(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function S8(n){return Sf(_l(n)).left+nA(n).scrollLeft}function Xh(n){if(Wc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||rB(n)&&n.host||_l(n);return rB(e)?e.host:e}function E8(n){const e=Xh(n);return tA(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ko(e)&&Kg(e)?e:E8(e)}function Sx(n,e){var t;e===void 0&&(e=[]);const i=E8(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Es(i);return r?e.concat(s,s.visualViewport||[],Kg(i)?i:[]):e.concat(i,Sx(i))}function sB(n,e,t){let i;if(e==="viewport")i=function(r,s){const o=Es(r),a=_l(r),l=o.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,d=0;if(l){c=l.width,u=l.height;const p=LT();(!p||p&&s==="fixed")&&(f=l.offsetLeft,d=l.offsetTop)}return{width:c,height:u,x:f,y:d}}(n,t);else if(e==="document")i=function(r){const s=_l(r),o=nA(r),a=r.ownerDocument.body,l=_h(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),c=_h(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let u=-o.scrollLeft+S8(r);const f=-o.scrollTop;return La(a).direction==="rtl"&&(u+=_h(s.clientWidth,a.clientWidth)-l),{width:l,height:c,x:u,y:f}}(_l(n));else if(xl(e))i=function(r,s){const o=Sf(r,!0,s==="fixed"),a=o.top+r.clientTop,l=o.left+r.clientLeft,c=Ko(r)?Ah(r):jc(1);return{width:r.clientWidth*c.x,height:r.clientHeight*c.y,x:l*c.x,y:a*c.y}}(e,t);else{const r=w8(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return Ax(i)}function M8(n,e){const t=Xh(n);return!(t===e||!xl(t)||tA(t))&&(La(t).position==="fixed"||M8(t,e))}function gse(n,e,t){const i=Ko(e),r=_l(e),s=t==="fixed",o=Sf(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=jc(0);if(i||!i&&!s)if((Wc(e)!=="body"||Kg(r))&&(a=nA(e)),Ko(e)){const c=Sf(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else r&&(l.x=S8(r));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function oB(n,e){return Ko(n)&&La(n).position!=="fixed"?e?e(n):n.offsetParent:null}function aB(n,e){const t=Es(n);if(!Ko(n))return t;let i=oB(n,e);for(;i&&pse(i)&&La(i).position==="static";)i=oB(i,e);return i&&(Wc(i)==="html"||Wc(i)==="body"&&La(i).position==="static"&&!OE(i))?t:i||function(r){let s=Xh(r);for(;Ko(s)&&!tA(s);){if(OE(s))return s;s=Xh(s)}return null}(n)||t}const vse={convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=Ko(t),s=_l(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0},a=jc(1);const l=jc(0);if((r||!r&&i!=="fixed")&&((Wc(t)!=="body"||Kg(s))&&(o=nA(t)),Ko(t))){const c=Sf(t);a=Ah(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}},getDocumentElement:_l,getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?function(l,c){const u=c.get(l);if(u)return u;let f=Sx(l).filter(x=>xl(x)&&Wc(x)!=="body"),d=null;const p=La(l).position==="fixed";let g=p?Xh(l):l;for(;xl(g)&&!tA(g);){const x=La(g),y=OE(g);y||x.position!=="fixed"||(d=null),(p?!y&&!d:!y&&x.position==="static"&&d&&["absolute","fixed"].includes(d.position)||Kg(g)&&!y&&M8(l,g))?f=f.filter(v=>v!==g):d=x,g=Xh(g)}return c.set(l,f),f}(e,this._c):[].concat(t),i],o=s[0],a=s.reduce((l,c)=>{const u=sB(e,c,r);return l.top=_h(u.top,l.top),l.right=FE(u.right,l.right),l.bottom=FE(u.bottom,l.bottom),l.left=_h(u.left,l.left),l},sB(e,o,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:aB,getElementRects:async function(n){let{reference:e,floating:t,strategy:i}=n;const r=this.getOffsetParent||aB,s=this.getDimensions;return{reference:gse(e,await r(t),i),floating:{x:0,y:0,...await s(t)}}},getClientRects:function(n){return Array.from(n.getClientRects())},getDimensions:function(n){return b8(n)},getScale:Ah,isElement:xl,isRTL:function(n){return getComputedStyle(n).direction==="rtl"}};function yse(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=kT(n),u=r||s?[...c?Sx(c):[],...Sx(e)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const f=c&&a?function(y,v){let _,A=null;const w=_l(y);function E(){clearTimeout(_),A&&A.disconnect(),A=null}return function M(C,P){C===void 0&&(C=!1),P===void 0&&(P=1),E();const{left:T,top:D,width:O,height:N}=y.getBoundingClientRect();if(C||v(),!O||!N)return;const z={rootMargin:-Jy(D)+"px "+-Jy(w.clientWidth-(T+O))+"px "+-Jy(w.clientHeight-(D+N))+"px "+-Jy(T)+"px",threshold:_h(0,FE(1,P))||1};let G=!0;function W(J){const Z=J[0].intersectionRatio;if(Z!==P){if(!G)return M();Z?M(!1,Z):_=setTimeout(()=>{M(!1,1e-7)},100)}G=!1}try{A=new IntersectionObserver(W,{...z,root:w.ownerDocument})}catch{A=new IntersectionObserver(W,z)}A.observe(y)}(!0),E}(c,t):null;let d,p=-1,g=null;o&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{g&&g.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let x=l?Sf(n):null;return l&&function y(){const v=Sf(n);!x||v.x===x.x&&v.y===x.y&&v.width===x.width&&v.height===x.height||t(),x=v,d=requestAnimationFrame(y)}(),t(),()=>{u.forEach(y=>{r&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),f&&f(),g&&g.disconnect(),g=null,l&&cancelAnimationFrame(d)}}const xse=(n,e,t)=>{const i=new Map,r={platform:vse,...t},s={...r.platform,_c:i};return rse(n,e,{...r,platform:s})},_se=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?tB({element:i.current,padding:r}).fn(t):{}:i?tB({element:i,padding:r}).fn(t):{}}}};var P1=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Ex(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!Ex(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Ex(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function C8(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function lB(n,e){const t=C8(n);return Math.round(e*t)/t}function cB(n){const e=I.useRef(n);return P1(()=>{e.current=n}),e}function Ase(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=I.useState(i);Ex(d,i)||p(i);const[g,x]=I.useState(null),[y,v]=I.useState(null),_=I.useCallback(J=>{J!=M.current&&(M.current=J,x(J))},[x]),A=I.useCallback(J=>{J!==C.current&&(C.current=J,v(J))},[v]),w=s||g,E=o||y,M=I.useRef(null),C=I.useRef(null),P=I.useRef(u),T=cB(l),D=cB(r),O=I.useCallback(()=>{if(!M.current||!C.current)return;const J={placement:e,strategy:t,middleware:d};D.current&&(J.platform=D.current),xse(M.current,C.current,J).then(Z=>{const H={...Z,isPositioned:!0};N.current&&!Ex(P.current,H)&&(P.current=H,u0.flushSync(()=>{f(H)}))})},[d,e,t,D]);P1(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(J=>({...J,isPositioned:!1})))},[c]);const N=I.useRef(!1);P1(()=>(N.current=!0,()=>{N.current=!1}),[]),P1(()=>{if(w&&(M.current=w),E&&(C.current=E),w&&E){if(T.current)return T.current(w,E,O);O()}},[w,E,O,T]);const z=I.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:A}),[_,A]),G=I.useMemo(()=>({reference:w,floating:E}),[w,E]),W=I.useMemo(()=>{const J={position:t,left:0,top:0};if(!G.floating)return J;const Z=lB(G.floating,u.x),H=lB(G.floating,u.y);return a?{...J,transform:"translate("+Z+"px, "+H+"px)",...C8(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:H}},[t,a,G.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:O,refs:z,elements:G,floatingStyles:W}),[u,O,z,G,W])}const bse=I.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return I.createElement(Bf.svg,yn({},s,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:I.createElement("polygon",{points:"0,0 30,0 15,10"}))}),wse=bse;function Sse(n){const[e,t]=I.useState(void 0);return $h(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const T8="Popper",[R8,P8]=g8(T8),[Ese,I8]=R8(T8),Mse=n=>{const{__scopePopper:e,children:t}=n,[i,r]=I.useState(null);return I.createElement(Ese,{scope:e,anchor:i,onAnchorChange:r},t)},Cse="PopperAnchor",Tse=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=I8(Cse,t),o=I.useRef(null),a=yp(e,o);return I.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:I.createElement(Bf.div,yn({},r,{ref:a}))}),D8="PopperContent",[Rse,Pse]=R8(D8),Ise=I.forwardRef((n,e)=>{var t,i,r,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:p="center",alignOffset:g=0,arrowPadding:x=0,collisionBoundary:y=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:A=!1,avoidCollisions:w=!0,onPlaced:E,...M}=n,C=I8(D8,u),[P,T]=I.useState(null),D=yp(e,de=>T(de)),[O,N]=I.useState(null),z=Sse(O),G=(t=z==null?void 0:z.width)!==null&&t!==void 0?t:0,W=(i=z==null?void 0:z.height)!==null&&i!==void 0?i:0,J=f+(p!=="center"?"-"+p:""),Z=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},H=Array.isArray(y)?y:[y],$=H.length>0,X={padding:Z,boundary:H.filter(Bse),altBoundary:$},{refs:F,floatingStyles:j,placement:se,isPositioned:ne,middlewareData:ie}=Ase({strategy:"fixed",placement:J,whileElementsMounted:yse,elements:{reference:C.anchor},middleware:[use({mainAxis:d+W,alignmentAxis:g}),w&&fse({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?dse():void 0,...X}),w&&lse({...X}),hse({...X,apply:({elements:de,rects:ye,availableWidth:pe,availableHeight:Ge})=>{const{width:ve,height:Pe}=ye.reference,Le=de.floating.style;Le.setProperty("--radix-popper-available-width",`${pe}px`),Le.setProperty("--radix-popper-available-height",`${Ge}px`),Le.setProperty("--radix-popper-anchor-width",`${ve}px`),Le.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),O&&_se({element:O,padding:x}),Ose({arrowWidth:G,arrowHeight:W}),A&&cse({strategy:"referenceHidden"})]}),[ce,le]=L8(se),ue=_p(E);$h(()=>{ne&&(ue==null||ue())},[ne,ue]);const Fe=(r=ie.arrow)===null||r===void 0?void 0:r.x,He=(s=ie.arrow)===null||s===void 0?void 0:s.y,ge=((o=ie.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[V,_e]=I.useState();return $h(()=>{P&&_e(window.getComputedStyle(P).zIndex)},[P]),I.createElement("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:ne?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,["--radix-popper-transform-origin"]:[(a=ie.transformOrigin)===null||a===void 0?void 0:a.x,(l=ie.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},I.createElement(Rse,{scope:u,placedSide:ce,onArrowChange:N,arrowX:Fe,arrowY:He,shouldHideArrow:ge},I.createElement(Bf.div,yn({"data-side":ce,"data-align":le},M,{ref:D,style:{...M.style,animation:ne?void 0:"none",opacity:(c=ie.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),Dse="PopperArrow",Lse={top:"bottom",right:"left",bottom:"top",left:"right"},kse=I.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=Pse(Dse,i),o=Lse[s.placedSide];return I.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},I.createElement(wse,yn({},r,{ref:t,style:{...r.style,display:"block"}})))});function Bse(n){return n!==null}const Ose=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,d=f?0:n.arrowWidth,p=f?0:n.arrowHeight,[g,x]=L8(a),y={start:"0%",center:"50%",end:"100%"}[x],v=((i=(r=c.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+d/2,_=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let A="",w="";return g==="bottom"?(A=f?y:`${v}px`,w=`${-p}px`):g==="top"?(A=f?y:`${v}px`,w=`${l.floating.height+p}px`):g==="right"?(A=`${-p}px`,w=f?y:`${_}px`):g==="left"&&(A=`${l.floating.width+p}px`,w=f?y:`${_}px`),{data:{x:A,y:w}}}});function L8(n){const[e,t="center"]=n.split("-");return[e,t]}const Fse=Mse,Use=Tse,Nse=Ise,zse=kse;function Hse(n,e){return I.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const k8=n=>{const{present:e,children:t}=n,i=Gse(e),r=typeof t=="function"?t({present:i.isPresent}):I.Children.only(t),s=yp(i.ref,r.ref);return typeof t=="function"||i.isPresent?I.cloneElement(r,{ref:s}):null};k8.displayName="Presence";function Gse(n){const[e,t]=I.useState(),i=I.useRef({}),r=I.useRef(n),s=I.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Hse(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=Ky(i.current);s.current=a==="mounted"?c:"none"},[a]),$h(()=>{const c=i.current,u=r.current;if(u!==n){const d=s.current,p=Ky(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),$h(()=>{if(e){const c=f=>{const p=Ky(i.current).includes(f.animationName);f.target===e&&p&&u0.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=Ky(i.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{c&&(i.current=getComputedStyle(c)),t(c)},[])}}function Ky(n){return(n==null?void 0:n.animationName)||"none"}function Vse({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=Wse({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=_p(t),l=I.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else r(c)},[s,n,r,a]);return[o,l]}function Wse({defaultProp:n,onChange:e}){const t=I.useState(n),[i]=t,r=I.useRef(i),s=_p(e);return I.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}const jse=I.forwardRef((n,e)=>I.createElement(Bf.span,yn({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),$se=jse,[iA,Cxe]=g8("Tooltip",[P8]),rA=P8(),Xse="TooltipProvider",UE="tooltip.open",[Txe,BT]=iA(Xse),OT="Tooltip",[Yse,sA]=iA(OT),Jse=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=BT(OT,n.__scopeTooltip),c=rA(e),[u,f]=I.useState(null),d=ise(),p=I.useRef(0),g=o??l.disableHoverableContent,x=a??l.delayDuration,y=I.useRef(!1),[v=!1,_]=Vse({prop:i,defaultProp:r,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(UE))):l.onClose(),s==null||s(C)}}),A=I.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),w=I.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,_(!0)},[_]),E=I.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),M=I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0)},x)},[x,_]);return I.useEffect(()=>()=>window.clearTimeout(p.current),[]),I.createElement(Fse,c,I.createElement(Yse,{scope:e,contentId:d,open:v,stateAttribute:A,trigger:u,onTriggerChange:f,onTriggerEnter:I.useCallback(()=>{l.isOpenDelayed?M():w()},[l.isOpenDelayed,M,w]),onTriggerLeave:I.useCallback(()=>{g?E():window.clearTimeout(p.current)},[E,g]),onOpen:w,onClose:E,disableHoverableContent:g},t))},uB="TooltipTrigger",Kse=I.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=sA(uB,t),s=BT(uB,t),o=rA(t),a=I.useRef(null),l=yp(e,a,r.onTriggerChange),c=I.useRef(!1),u=I.useRef(!1),f=I.useCallback(()=>c.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),I.createElement(Use,yn({asChild:!0},o),I.createElement(Bf.button,yn({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:l,onPointerMove:ol(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:ol(n.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:ol(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ol(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:ol(n.onBlur,r.onClose),onClick:ol(n.onClick,r.onClose)})))}),qse="TooltipPortal",[Rxe,Qse]=iA(qse,{forceMount:void 0}),qg="TooltipContent",Zse=I.forwardRef((n,e)=>{const t=Qse(qg,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=sA(qg,n.__scopeTooltip);return I.createElement(k8,{present:i||o.open},o.disableHoverableContent?I.createElement(B8,yn({side:r},s,{ref:e})):I.createElement(eoe,yn({side:r},s,{ref:e})))}),eoe=I.forwardRef((n,e)=>{const t=sA(qg,n.__scopeTooltip),i=BT(qg,n.__scopeTooltip),r=I.useRef(null),s=yp(e,r),[o,a]=I.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:f}=i,d=I.useCallback(()=>{a(null),f(!1)},[f]),p=I.useCallback((g,x)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},_=soe(v,y.getBoundingClientRect()),A=ooe(v,_),w=aoe(x.getBoundingClientRect()),E=coe([...A,...w]);a(E),f(!0)},[f]);return I.useEffect(()=>()=>d(),[d]),I.useEffect(()=>{if(l&&u){const g=y=>p(y,u),x=y=>p(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",x)}}},[l,u,p,d]),I.useEffect(()=>{if(o){const g=x=>{const y=x.target,v={x:x.clientX,y:x.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),A=!loe(v,o);_?d():A&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,d]),I.createElement(B8,yn({},n,{ref:s}))}),[toe,noe]=iA(OT,{isInside:!1}),B8=I.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=sA(qg,t),c=rA(t),{onClose:u}=l;return I.useEffect(()=>(document.addEventListener(UE,u),()=>document.removeEventListener(UE,u)),[u]),I.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),I.createElement(Qre,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},I.createElement(Nse,yn({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),I.createElement(c8,null,i),I.createElement(toe,{scope:t,isInside:!0},I.createElement($se,{id:l.contentId,role:"tooltip"},r||i))))}),ioe="TooltipArrow",roe=I.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=rA(t);return noe(ioe,t).isInside?null:I.createElement(zse,yn({},r,i,{ref:e}))});function soe(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function ooe(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function aoe(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function loe(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>i!=u>i&&t<(c-a)*(i-l)/(u-l)+a&&(r=!r)}return r}function coe(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),uoe(e)}function uoe(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const foe=Jse,doe=Kse,hoe=Zse,poe=roe;function moe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ln(n,e){if(n==null)return{};var t=moe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let Un;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Un||(Un={}));const goe={[Un.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Un.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Un.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Un.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Un.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Un.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Un.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Un.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Un.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Un.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Un.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function O8(n,e,...t){const[i,...r]=goe[e](...t);console[n]("LEVA: "+i,...r)}const ul=O8.bind(null,"warn"),voe=O8.bind(null,"log"),yoe=["value"],xoe=["schema"],_oe=["value"],F8=[],Ef={};function fB(n){let{value:e}=n,t=ln(n,yoe);for(let i of F8){const r=i(e,t);if(r)return r}}function Fl(n,e){let{schema:t}=e,i=ln(e,xoe);if(n in Ef){ul(Un.ALREADY_REGISTERED_TYPE,n);return}F8.push((r,s)=>t(r,s)&&n),Ef[n]=i}function Fw(n,e,t,i){const{normalize:r}=Ef[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=ln(e,_oe);return{value:s,settings:o}}function Aoe(n,e,t,i,r,s){const{sanitize:o}=Ef[n];return o?o(e,t,i,r,s):e}function dB(n,e,t){const{format:i}=Ef[n];return i?i(e,t):e}function boe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _t(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(t),!0).forEach(function(i){boe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const $c=(n,e,t)=>n>t?t:n<e?e:n,woe=n=>{if(n===""||typeof n=="number")return n;try{const e=ic(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Soe=Math.log(10);function pB(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Soe)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const Mx=(n,e,t)=>t===e?0:($c(n,e,t)-e)/(t-e),Cx=(n,e,t)=>n*(t-e)+e,Eoe=()=>"_"+Math.random().toString(36).substr(2,9),mB=/\(([0-9+\-*/^ .]+)\)/,gB=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,vB=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,yB=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,xB=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,_B=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function ic(n){if(isNaN(Number(n)))if(mB.test(n)){const e=n.replace(mB,(t,i)=>String(ic(i)));return ic(e)}else if(gB.test(n)){const e=n.replace(gB,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return ic(e)}else if(vB.test(n)){const e=n.replace(vB,(t,i,r)=>String(Number(i)*Number(r)));return ic(e)}else if(yB.test(n)){const e=n.replace(yB,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return ic(e)}else if(xB.test(n)){const e=n.replace(xB,(t,i,r)=>String(Number(i)+Number(r)));return ic(e)}else if(_B.test(n)){const e=n.replace(_B,(t,i,r)=>String(Number(i)-Number(r)));return ic(e)}else return Number(n);return Number(n)}function Moe(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function Coe(n,e){const t=_t({},n);return e.forEach(i=>i in n&&delete t[i]),t}function Toe(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function U8(n){return Object.prototype.toString.call(n)==="[object Object]"}const Roe=n=>U8(n)&&Object.keys(n).length===0;let Vo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Vo||(Vo={}));let qo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(qo||(qo={}));const Poe=["type","__customInput"],Ioe=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Doe=["type"];function N8(n,e,t={},i){var r,s;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:_t({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:E,__customInput:M}=n,C=ln(n,Poe);return N8(M,e,C,E)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:g,transient:x}=n,y=ln(n,Ioe),v=_t({render:o,key:e,label:a??e,hint:f,transient:x??!!d,onEditStart:p,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:_}=y,A=ln(y,Doe);if(_=i??_,_ in Vo)return{type:_,input:A,options:v};let w;return i&&U8(A)&&"value"in A?w=A.value:w=Roe(A)?void 0:A,{type:_,input:w,options:_t(_t({},v),{},{onChange:d,optional:(r=v.optional)!==null&&r!==void 0?r:!1,disabled:(s=v.disabled)!==null&&s!==void 0?s:!1})}}function Loe(n,e,t,i){const r=N8(n,e),{type:s,input:o,options:a}=r;if(s)return s in Vo?r:{type:s,input:Fw(s,o,t,i),options:a};let l=fB(o);return l?{type:l,input:Fw(l,o,t,i),options:a}:(l=fB({value:o}),l?{type:l,input:Fw(l,{value:o},t,i),options:a}:!1)}function AB(n,e,t,i,r){const{value:s,type:o,settings:a}=n;n.value=z8({type:o,value:s,settings:a},e,t,i),n.fromPanel=r}const koe=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function z8({type:n,value:e,settings:t},i,r,s){const o=n!=="SELECT"&&typeof i=="function"?i(e):i;let a;try{a=Aoe(n,o,t,e,r,s)}catch(l){throw new koe(`The value \`${i}\` did not result in a correct value.`,e,l)}return $g(a,e)?e:a}const H8=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,s=t&&!i,o=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(o,e),s&&o()}},G8=n=>n.shiftKey?5:n.altKey?1/5:1;function Boe(n,e){const t=console.error;console.error=()=>{},AF.render(n,e),console.error=t}const Ooe=["value"],Foe=["min","max"],Uoe=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},V8=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const s=$c(r,e,t);return i?s+i:s},Noe=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},W8=n=>{let{value:e}=n,t=ln(n,Ooe);const{min:i=-1/0,max:r=1/0}=t,s=ln(t,Foe);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=$c(o,i,r);let l=t.step;l||(Number.isFinite(i)?Number.isFinite(r)?l=+(Math.abs(r-i)/100).toPrecision(1):l=+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-o)/100).toPrecision(1)));const c=l?pB(l)*10:pB(o);l=l||c/10;const u=Math.round($c(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:_t({initialValue:o,step:l,pad:u,min:i,max:r,suffix:a},s)}},j8=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var $8=Object.freeze({__proto__:null,schema:Uoe,sanitize:V8,format:Noe,normalize:W8,sanitizeStep:j8});function ei(){return ei=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ei.apply(this,arguments)}const X8=I.createContext({});function Er(){return I.useContext(X8)}const FT=I.createContext(null),Y8=I.createContext(null),J8=I.createContext(null);function I0(){return I.useContext(Y8)}function zoe(){return I.useContext(J8)}const K8=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function qy(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const bm={$inputStyle:()=>n=>qy(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>qy(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>qy(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>qy(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:vt,css:Pxe,createTheme:Hoe,globalCss:Goe,keyframes:Ixe}=m8({prefix:"leva",theme:K8(),utils:_t(_t({},bm),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":bm.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":bm.$focusStyle()(n)}),$hover:n=>({"&:hover":bm.$hoverStyle()(n)}),$active:n=>({"&:active":bm.$activeStyle()(n)})})}),Voe=Goe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Woe(n){const e=K8();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=Hoe(e);return{theme:e,className:t.className}}function Al(n,e){const{theme:t}=I.useContext(FT);if(!(n in t)||!(e in t[n]))return ul(Un.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const q8=vt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),Q8=vt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${q8}`]:{paddingLeft:0}}),joe=vt(Q8,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),$oe=vt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Xoe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Yoe=["onUpdate"];function UT(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=ln(n,Xoe);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:g}=Er(),x=a||f,y=I.useRef(null),v=c>0,_=v?"textarea":"input",A=I.useCallback(M=>C=>{const P=C.currentTarget.value;M(P)},[]);te.useEffect(()=>{const M=y.current,C=A(P=>{i(P),p()});return M==null||M.addEventListener("blur",C),()=>M==null?void 0:M.removeEventListener("blur",C)},[A,i,p]);const w=I.useCallback(M=>{M.key==="Enter"&&A(i)(M)},[A,i]),E=Object.assign({as:_},v?{rows:c}:{},u);return te.createElement($oe,{textArea:v},e&&typeof e=="string"?te.createElement(Q8,null,e):e,te.createElement(q8,ei({levaType:o,ref:y,id:x,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:A(r),onFocus:()=>d(),onKeyPress:w,onKeyDown:s,disabled:g},E)))}function Joe(n){let{onUpdate:e}=n,t=ln(n,Yoe);const i=I.useCallback(s=>e(woe(s)),[e]),r=I.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return te.createElement(UT,ei({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const Tx=vt("div",{}),NE=vt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Koe=vt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${NE}::after`]:{opacity:.6},[`${Tx}:hover > & + ${NE}::after`]:{opacity:.6},[`${Tx}:hover > & > svg`]:{opacity:1}}),Z8=vt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Tx}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),ez=vt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Z8} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),tz=vt(ez,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),qoe=vt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Qoe=vt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),zE=vt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Zoe=vt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${zE}`]:{pointerEvents:"auto"}}}}}),nz=vt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),eae=vt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),tae=vt(poe,{fill:"$toolTipBackground"});function NT({children:n}){const{className:e}=I.useContext(FT);return te.createElement(pre,{className:e},n)}const nae=["align"];function iae(){const{id:n,disable:e,disabled:t}=Er();return te.createElement(te.Fragment,null,te.createElement(Qoe,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),te.createElement("label",{htmlFor:n+"__disable"}))}function rae(n){const{id:e,optional:t,hint:i}=Er(),r=n.htmlFor||(e?{htmlFor:e}:null),s=!i&&typeof n.children=="string"?{title:n.children}:null;return te.createElement(te.Fragment,null,t&&te.createElement(iae,null),i!==void 0?te.createElement(foe,null,te.createElement(doe,{asChild:!0},te.createElement(zE,ei({},r,n))),te.createElement(hoe,{side:"top",sideOffset:2},te.createElement(eae,null,i,te.createElement(tae,null)))):te.createElement(zE,ei({},r,s,n)))}function ra(n){let{align:e}=n,t=ln(n,nae);const{value:i,label:r,key:s,disabled:o}=Er(),{hideCopyButton:a}=zoe(),l=!a&&s!==void 0,[c,u]=I.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:i??""})),u(!0)}catch{ul(Un.CLIPBOARD_ERROR,{[s]:i})}};return te.createElement(qoe,{align:e,onPointerLeave:()=>u(!1)},te.createElement(rae,t),l&&!o&&te.createElement("div",{title:`Click to copy ${typeof r=="string"?r:s} value`},c?te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):te.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const sae=["toggled"],oae=vt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function zT(n){let{toggled:e}=n,t=ln(n,sae);return te.createElement(oae,ei({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const aae=["input"];function wo(n){let{input:e}=n,t=ln(n,aae);return e?te.createElement(tz,t):te.createElement(ez,t)}function iz({value:n,type:e,settings:t,setValue:i}){const[r,s]=I.useState(dB(e,n,t)),o=I.useRef(n),a=I.useRef(t);a.current=t;const l=I.useCallback(u=>s(dB(e,u,a.current)),[e]),c=I.useCallback(u=>{try{i(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,i]);return I.useEffect(()=>{$g(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:r,onChange:s,onUpdate:c}}function D0(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=Er();return Ene(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i==null||i()),s},e)}function lae(n){const e=I.useRef(null),t=I.useRef(null),i=I.useRef(!1);return I.useEffect(()=>{const r=H8(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),I.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function rz(){const n=I.useRef(null),e=I.useRef({x:0,y:0}),t=I.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const cae=["__refCount"],Uw=(n,e)=>{if(!n[e])return null;const t=n[e];return ln(t,cae)};function uae(n){const e=I0(),[t,i]=I.useState(Uw(e.getData(),n)),r=I.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=I.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=I.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=I.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=I.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return I.useEffect(()=>{i(Uw(e.getData(),n));const c=e.useStore.subscribe(u=>Uw(u.data,n),i,{equalityFn:R0});return()=>c()},[e,n]),[t,{set:r,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const fae=vt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),sz=vt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),HE=vt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),oz=vt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),az=vt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function dae({value:n,min:e,max:t,onDrag:i,step:r,initialValue:s}){const o=I.useRef(null),a=I.useRef(null),l=I.useRef(0),c=Al("sizes","scrubberWidth"),u=D0(({event:d,first:p,xy:[g],movement:[x],memo:y})=>{if(p){const{width:_,left:A}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:Cx((g-A)/_,e,t)}const v=y+Cx(x/l.current,0,t-e);return i(j8(v,{step:r,initialValue:s})),y}),f=Mx(n,e,t);return te.createElement(oz,ei({ref:o},u()),te.createElement(sz,null,te.createElement(az,{style:{left:0,right:`${(1-f)*100}%`}})),te.createElement(HE,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const hae=te.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,s]=I.useState(!1),o=D0(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*G8(c)),u=0),u));return te.createElement(joe,ei({dragging:r,title:n.length>1?n:""},o()),n.slice(0,i))});function lz({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:s,innerLabelTrim:o=1}){const a=o>0&&te.createElement(hae,{label:n,step:s.step,onUpdate:i,innerLabelTrim:o});return te.createElement(Joe,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:a})}function pae(){const n=Er(),{label:e,value:t,onUpdate:i,settings:r,id:s}=n,{min:o,max:a}=r,l=a!==1/0&&o!==-1/0;return te.createElement(wo,{input:!0},te.createElement(ra,null,e),te.createElement(fae,{hasRange:l},l&&te.createElement(dae,ei({value:parseFloat(t),onDrag:i},r)),te.createElement(lz,ei({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:mae}=$8,gae=ln($8,["sanitizeStep"]);var vae=_t({component:pae},gae);const yae=(n,e)=>ts().schema({options:ts().passesAnyOf(ts().object(),ts().array())}).test(e),xae=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},_ae=(n,{values:e})=>e.indexOf(n),Aae=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(s=>String(s))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var bae=Object.freeze({__proto__:null,schema:yae,sanitize:xae,format:_ae,normalize:Aae});const wae=vt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),GE=vt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Sae=vt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${GE}:focus + &`]:{$focusStyle:""},[`${GE}:hover + &`]:{$hoverStyle:""}});function Eae({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:s}){const{keys:o,values:a}=r,l=I.useRef();return e===a[n]&&(l.current=o[n]),te.createElement(wae,null,te.createElement(GE,{id:i,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>te.createElement("option",{key:c,value:u},c))),te.createElement(Sae,null,l.current),te.createElement(zT,{toggled:!0}))}function Mae(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:s,settings:o}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(Eae,{id:r,value:e,displayValue:t,onUpdate:i,settings:o,disabled:s}))}var Cae=_t({component:Mae},bae);const Tae=n=>ts().string().test(n),Rae=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Pae=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Iae=Object.freeze({__proto__:null,schema:Tae,sanitize:Rae,normalize:Pae});const Dae=["displayValue","onUpdate","onChange","editable"],Lae=vt("div",{whiteSpace:"pre-wrap"});function kae(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,s=ln(n,Dae);return r?te.createElement(UT,ei({value:e,onUpdate:t,onChange:i},s)):te.createElement(Lae,null,e)}function Bae(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(kae,ei({displayValue:t,onUpdate:i,onChange:r},e)))}var Oae=_t({component:Bae},Iae);const Fae=n=>ts().boolean().test(n),Uae=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Nae=Object.freeze({__proto__:null,schema:Fae,sanitize:Uae});const zae=vt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Hae({value:n,onUpdate:e,id:t,disabled:i}){return te.createElement(zae,null,te.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),te.createElement("label",{htmlFor:t},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Gae(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(Hae,{value:e,onUpdate:t,id:r,disabled:i}))}var Vae=_t({component:Gae},Nae);const Wae=["locked"];function jae({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:s}){const o=I.useRef(n[t]);o.current=n[t];const a=I.useCallback(c=>r({[t]:z8({type:"NUMBER",value:o.current,settings:i},c)}),[r,i,t]),l=iz({type:"NUMBER",value:n[t],settings:i,setValue:a});return te.createElement(lz,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:i,innerLabelTrim:s})}const $ae=vt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Xae(n){let{locked:e}=n,t=ln(n,Wae);return te.createElement("svg",ei({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function HT({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:s}=Er(),{lock:o,locked:a}=t;return te.createElement($ae,{withLock:o},o&&te.createElement(Xae,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>te.createElement(jae,{id:c===0?r:`${r}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:i})))}const cz=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=W8(_t({value:o},e[s])).settings,i=Math.max(i,t[s].step),r=Math.min(r,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=i,t[s].pad=r)}return t},Yae=["lock"],Jae=["value"];function Kae(n){const e=ts().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(s=>isFinite(s))};return i=>e.test(i)||t(i)}function qae(n){return Array.isArray(n)?"array":"object"}function ig(n,e,t){return qae(n)===e?n:e==="array"?Object.values(n):Toe(n,t)}const Qae=(n,e,t)=>{const i=ig(n,"object",e.keys);for(let o in i)i[o]=V8(i[o],e[o]);const r=Object.keys(i);let s={};if(r.length===e.keys.length)s=i;else{const o=ig(t,"object",e.keys);if(r.length===1&&e.locked){const a=r[0],l=i[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=_t(_t({},o),i)}return ig(s,e.format,e.keys)},Zae=(n,e)=>ig(n,"object",e.keys),ele=n=>!!n&&("step"in n||"min"in n||"max"in n);function tle(n,e,t=[]){const{lock:i=!1}=e,r=ln(e,Yae),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=ig(n,"object",o),l=ele(r)?o.reduce((u,f)=>Object.assign(u,{[f]:r}),{}):r,c=cz(a,l);return{value:s==="array"?n:a,settings:_t(_t({},c),{},{format:s,keys:o,lock:i,locked:!1})}}function uz(n){return{schema:Kae(n.length),normalize:e=>{let{value:t}=e,i=ln(e,Jae);return tle(t,i,n)},format:(e,t)=>Zae(e,t),sanitize:(e,t,i)=>Qae(e,t,i)}}var nle={grad:.9,turn:360,rad:360/(2*Math.PI)},nl=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Fi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},co=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},fz=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},bB=function(n){return{r:co(n.r,0,255),g:co(n.g,0,255),b:co(n.b,0,255),a:co(n.a)}},Nw=function(n){return{r:Fi(n.r),g:Fi(n.g),b:Fi(n.b),a:Fi(n.a,3)}},ile=/^#([0-9a-f]{3,8})$/i,Qy=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},dz=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),a=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:r}},hz=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),a=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),c=s%6;return{r:255*[i,a,o,o,l,i][c],g:255*[l,i,i,a,o,o][c],b:255*[o,o,l,i,i,a][c],a:r}},wB=function(n){return{h:fz(n.h),s:co(n.s,0,100),l:co(n.l,0,100),a:co(n.a)}},SB=function(n){return{h:Fi(n.h),s:Fi(n.s),l:Fi(n.l),a:Fi(n.a,3)}},EB=function(n){return hz((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},rg=function(n){return{h:(e=dz(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},rle=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sle=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ole=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ale=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,VE={string:[[function(n){var e=ile.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Fi(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Fi(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=ole.exec(n)||ale.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:bB({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=rle.exec(n)||sle.exec(n);if(!e)return null;var t,i,r=wB({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(nle[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return EB(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r===void 0?1:r;return nl(e)&&nl(t)&&nl(i)?bB({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=r===void 0?1:r;if(!nl(e)||!nl(t)||!nl(i))return null;var o=wB({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return EB(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=r===void 0?1:r;if(!nl(e)||!nl(t)||!nl(i))return null;var o=function(a){return{h:fz(a.h),s:co(a.s,0,100),v:co(a.v,0,100),a:co(a.a)}}({h:Number(e),s:Number(t),v:Number(i),a:Number(s)});return hz(o)},"hsv"]]},MB=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},pz=function(n){return typeof n=="string"?MB(n.trim(),VE.string):typeof n=="object"&&n!==null?MB(n,VE.object):[null,void 0]},lle=function(n){return pz(n)[1]},zw=function(n,e){var t=rg(n);return{h:t.h,s:co(t.s+100*e,0,100),l:t.l,a:t.a}},Hw=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},CB=function(n,e){var t=rg(n);return{h:t.h,s:t.s,l:co(t.l+100*e,0,100),a:t.a}},WE=function(){function n(e){this.parsed=pz(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Fi(Hw(this.rgba),2)},n.prototype.isDark=function(){return Hw(this.rgba)<.5},n.prototype.isLight=function(){return Hw(this.rgba)>=.5},n.prototype.toHex=function(){return e=Nw(this.rgba),t=e.r,i=e.g,r=e.b,o=(s=e.a)<1?Qy(Fi(255*s)):"","#"+Qy(t)+Qy(i)+Qy(r)+o;var e,t,i,r,s,o},n.prototype.toRgb=function(){return Nw(this.rgba)},n.prototype.toRgbString=function(){return e=Nw(this.rgba),t=e.r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return SB(rg(this.rgba))},n.prototype.toHslString=function(){return e=SB(rg(this.rgba)),t=e.h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=dz(this.rgba),{h:Fi(e.h),s:Fi(e.s),v:Fi(e.v),a:Fi(e.a,3)};var e},n.prototype.invert=function(){return Br({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Br(zw(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Br(zw(this.rgba,-e))},n.prototype.grayscale=function(){return Br(zw(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Br(CB(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Br(CB(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Br({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Fi(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=rg(this.rgba);return typeof e=="number"?Br({h:e,s:t.s,l:t.l,a:t.a}):Fi(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Br(e).toHex()},n}(),Br=function(n){return n instanceof WE?n:new WE(n)},TB=[],cle=function(n){n.forEach(function(e){TB.indexOf(e)<0&&(e(WE,VE),TB.push(e))})};function ule(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=i[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var g in t){var x=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<f&&(f=x,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function bp(){return(bp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function GT(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function jE(n){var e=I.useRef(n),t=I.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var Yh=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},sg=function(n){return"touches"in n},$E=function(n){return n&&n.ownerDocument.defaultView||self},RB=function(n,e,t){var i=n.getBoundingClientRect(),r=sg(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:Yh((r.pageX-(i.left+$E(n).pageXOffset))/i.width),top:Yh((r.pageY-(i.top+$E(n).pageYOffset))/i.height)}},PB=function(n){!sg(n)&&n.preventDefault()},VT=te.memo(function(n){var e=n.onMove,t=n.onKey,i=GT(n,["onMove","onKey"]),r=I.useRef(null),s=jE(e),o=jE(t),a=I.useRef(null),l=I.useRef(!1),c=I.useMemo(function(){var p=function(y){PB(y),(sg(y)?y.touches.length>0:y.buttons>0)&&r.current?s(RB(r.current,y,a.current)):x(!1)},g=function(){return x(!1)};function x(y){var v=l.current,_=$E(r.current),A=y?_.addEventListener:_.removeEventListener;A(v?"touchmove":"mousemove",p),A(v?"touchend":"mouseup",g)}return[function(y){var v=y.nativeEvent,_=r.current;if(_&&(PB(v),!function(w,E){return E&&!sg(w)}(v,l.current)&&_)){if(sg(v)){l.current=!0;var A=v.changedTouches||[];A.length&&(a.current=A[0].identifier)}_.focus(),s(RB(_,v,a.current)),x(!0)}},function(y){var v=y.which||y.keyCode;v<37||v>40||(y.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},x]},[o,s]),u=c[0],f=c[1],d=c[2];return I.useEffect(function(){return d},[d]),te.createElement("div",bp({},i,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:r,onKeyDown:f,tabIndex:0,role:"slider"}))}),L0=function(n){return n.filter(Boolean).join(" ")},WT=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=L0(["react-colorful__pointer",n.className]);return te.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Or=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},mz=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:Or(n.h),s:Or(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:Or(r/2),a:Or(i,2)}},XE=function(n){var e=mz(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Gw=function(n){var e=mz(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},gz=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),a=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),c=s%6;return{r:Or(255*[i,a,o,o,l,i][c]),g:Or(255*[l,i,i,a,o,o][c]),b:Or(255*[o,o,l,i,i,a][c]),a:Or(r,2)}},vz=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),a=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:Or(60*(a<0?a+6:a)),s:Or(s?o/s*100:0),v:Or(s/255*100),a:r}},yz=te.memo(function(n){var e=n.hue,t=n.onChange,i=L0(["react-colorful__hue",n.className]);return te.createElement("div",{className:i},te.createElement(VT,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:Yh(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Or(e),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(WT,{className:"react-colorful__hue-pointer",left:e/360,color:XE({h:e,s:100,v:100,a:1})})))}),xz=te.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:XE({h:e.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:i},te.createElement(VT,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:Yh(e.s+100*r.left,0,100),v:Yh(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Or(e.s)+"%, Brightness "+Or(e.v)+"%"},te.createElement(WT,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:XE(e)})))}),jT=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function _z(n,e,t){var i=jE(t),r=I.useState(function(){return n.toHsva(e)}),s=r[0],o=r[1],a=I.useRef({color:e,hsva:s});I.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),I.useEffect(function(){var c;jT(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},i(c))},[s,n,i]);var l=I.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var fle=typeof window<"u"?I.useLayoutEffect:I.useEffect,dle=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},IB=new Map,Az=function(n){fle(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!IB.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,IB.set(e,t);var i=dle();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},hle=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=GT(n,["className","colorModel","color","onChange"]),a=I.useRef(null);Az(a);var l=_z(t,r,s),c=l[0],u=l[1],f=L0(["react-colorful",e]);return te.createElement("div",bp({},o,{ref:a,className:f}),te.createElement(xz,{hsva:c,onChange:u}),te.createElement(yz,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},ple=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+Gw(Object.assign({},t,{a:0}))+", "+Gw(Object.assign({},t,{a:1}))+")"},s=L0(["react-colorful__alpha",e]),o=Or(100*t.a);return te.createElement("div",{className:s},te.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),te.createElement(VT,{onMove:function(a){i({a:a.left})},onKey:function(a){i({a:Yh(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},te.createElement(WT,{className:"react-colorful__alpha-pointer",left:t.a,color:Gw(t)})))},mle=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=GT(n,["className","colorModel","color","onChange"]),a=I.useRef(null);Az(a);var l=_z(t,r,s),c=l[0],u=l[1],f=L0(["react-colorful",e]);return te.createElement("div",bp({},o,{ref:a,className:f}),te.createElement(xz,{hsva:c,onChange:u}),te.createElement(yz,{hue:c.h,onChange:u}),te.createElement(ple,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},gle={defaultColor:{r:0,g:0,b:0,a:1},toHsva:vz,fromHsva:gz,equal:jT},vle=function(n){return te.createElement(mle,bp({},n,{colorModel:gle}))},yle={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return vz({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=gz(n)).r,g:e.g,b:e.b};var e},equal:jT},xle=function(n){return te.createElement(hle,bp({},n,{colorModel:yle}))};function wp(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Sp(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function _le(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function Ale(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(_le(arguments[e]));return n}var ble=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function k0(n,e){var t=wle(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function wle(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=ble.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var Sle=[".DS_Store","Thumbs.db"];function Ele(n){return wp(this,void 0,void 0,function(){return Sp(this,function(e){return Rx(n)&&Mle(n)?[2,Ple(n.dataTransfer,n.type)]:Cle(n)?[2,Tle(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Rle(n)]:[2,[]]})})}function Mle(n){return Rx(n.dataTransfer)}function Cle(n){return Rx(n)&&Rx(n.target)}function Rx(n){return typeof n=="object"&&n!==null}function Tle(n){return YE(n.target.files).map(function(e){return k0(e)})}function Rle(n){return wp(this,void 0,void 0,function(){var e;return Sp(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return k0(i)})]}})})}function Ple(n,e){return wp(this,void 0,void 0,function(){var t,i;return Sp(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=YE(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Ile))]):[3,2];case 1:return i=r.sent(),[2,DB(bz(i))];case 2:return[2,DB(YE(n.files).map(function(s){return k0(s)}))]}})})}function DB(n){return n.filter(function(e){return Sle.indexOf(e.name)===-1})}function YE(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function Ile(n){if(typeof n.webkitGetAsEntry!="function")return LB(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?wz(e):LB(n)}function bz(n){return n.reduce(function(e,t){return Ale(e,Array.isArray(t)?bz(t):[t])},[])}function LB(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=k0(e);return Promise.resolve(t)}function Dle(n){return wp(this,void 0,void 0,function(){return Sp(this,function(e){return[2,n.isDirectory?wz(n):Lle(n)]})})}function wz(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function s(){var o=this;e.readEntries(function(a){return wp(o,void 0,void 0,function(){var l,c,u;return Sp(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),i(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Dle)),r.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){i(a)})}s()})}function Lle(n){return wp(this,void 0,void 0,function(){return Sp(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var s=k0(r,n.fullPath);t(s)},function(r){i(r)})})]})})}var kle=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0};function kB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(t),!0).forEach(function(i){Sz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Sz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OB(n,e){return Ule(n)||Fle(n,e)||Ole(n,e)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ole(n,e){if(n){if(typeof n=="string")return FB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FB(n,e)}}function FB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Fle(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function Ule(n){if(Array.isArray(n))return n}var Nle="file-invalid-type",zle="file-too-large",Hle="file-too-small",Gle="too-many-files",Vle=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Nle,message:"File type must be ".concat(t)}},UB=function(e){return{code:zle,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},NB=function(e){return{code:Hle,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Wle={code:Gle,message:"Too many files"};function Ez(n,e){var t=n.type==="application/x-moz-file"||kle(n,e);return[t,t?null:Vle(e)]}function Mz(n,e,t){if(wm(n.size))if(wm(e)&&wm(t)){if(n.size>t)return[!1,UB(t)];if(n.size<e)return[!1,NB(e)]}else{if(wm(e)&&n.size<e)return[!1,NB(e)];if(wm(t)&&n.size>t)return[!1,UB(t)]}return[!0,null]}function wm(n){return n!=null}function jle(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=Ez(a,t),c=OB(l,1),u=c[0],f=Mz(a,i,r),d=OB(f,1),p=d[0];return u&&p})}function Px(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Zy(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function zB(n){n.preventDefault()}function $le(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Xle(n){return n.indexOf("Edge/")!==-1}function Yle(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $le(n)||Xle(n)}function ma(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(a){return!Px(i)&&a&&a.apply(void 0,[i].concat(s)),Px(i)})}}function Jle(){return"showOpenFilePicker"in window}function Kle(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return BB(BB({},e),{},Sz({},t,[]))},{}):{}}]}function qle(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Qle(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Zle=["children"],ece=["open"],tce=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nce=["refKey","onChange","onClick"];function ice(n){return oce(n)||sce(n)||Cz(n)||rce()}function rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oce(n){if(Array.isArray(n))return JE(n)}function Vw(n,e){return cce(n)||lce(n,e)||Cz(n,e)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cz(n,e){if(n){if(typeof n=="string")return JE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JE(n,e)}}function JE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function lce(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function cce(n){if(Array.isArray(n))return n}function HB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(t),!0).forEach(function(i){KE(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ix(n,e){if(n==null)return{};var t=uce(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function uce(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var $T=I.forwardRef(function(n,e){var t=n.children,i=Ix(n,Zle),r=Rz(i),s=r.open,o=Ix(r,ece);return I.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(I.Fragment,null,t(Fn(Fn({},o),{},{open:s})))});$T.displayName="Dropzone";var Tz={disabled:!1,getFilesFromEvent:Ele,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};$T.defaultProps=Tz;$T.propTypes={children:ot.func,accept:ot.oneOfType([ot.string,ot.arrayOf(ot.string)]),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,validator:ot.func};var qE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Rz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Fn(Fn({},Tz),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,x=e.onFileDialogCancel,y=e.onFileDialogOpen,v=e.useFsAccessApi,_=e.preventDropOnDocument,A=e.noClick,w=e.noKeyboard,E=e.noDrag,M=e.noDragEventsBubbling,C=e.validator,P=I.useMemo(function(){return typeof y=="function"?y:GB},[y]),T=I.useMemo(function(){return typeof x=="function"?x:GB},[x]),D=I.useRef(null),O=I.useRef(null),N=I.useReducer(fce,qE),z=Vw(N,2),G=z[0],W=z[1],J=G.isFocused,Z=G.isFileDialogActive,H=G.draggedFiles,$=I.useRef(typeof window<"u"&&window.isSecureContext&&v&&Jle()),X=function(){!$.current&&Z&&setTimeout(function(){if(O.current){var B=O.current.files;B.length||(W({type:"closeDialog"}),T())}},300)};I.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[O,Z,T,$]);var F=I.useRef([]),j=function(B){D.current&&D.current.contains(B.target)||(B.preventDefault(),F.current=[])};I.useEffect(function(){return _&&(document.addEventListener("dragover",zB,!1),document.addEventListener("drop",j,!1)),function(){_&&(document.removeEventListener("dragover",zB),document.removeEventListener("drop",j))}},[D,_]);var se=I.useCallback(function(U){U.preventDefault(),U.persist(),pe(U),F.current=[].concat(ice(F.current),[U.target]),Zy(U)&&Promise.resolve(r(U)).then(function(B){Px(U)&&!M||(W({draggedFiles:B,isDragActive:!0,type:"setDraggedFiles"}),c&&c(U))})},[r,c,M]),ne=I.useCallback(function(U){U.preventDefault(),U.persist(),pe(U);var B=Zy(U);if(B&&U.dataTransfer)try{U.dataTransfer.dropEffect="copy"}catch{}return B&&f&&f(U),!1},[f,M]),ie=I.useCallback(function(U){U.preventDefault(),U.persist(),pe(U);var B=F.current.filter(function(Te){return D.current&&D.current.contains(Te)}),re=B.indexOf(U.target);re!==-1&&B.splice(re,1),F.current=B,!(B.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Zy(U)&&u&&u(U))},[D,u,M]),ce=I.useCallback(function(U,B){var re=[],Te=[];U.forEach(function(Se){var Re=Ez(Se,t),ze=Vw(Re,2),Ne=ze[0],xe=ze[1],Q=Mz(Se,o,s),he=Vw(Q,2),Me=he[0],we=he[1],Oe=C?C(Se):null;if(Ne&&Me&&!Oe)re.push(Se);else{var Ye=[xe,we];Oe&&(Ye=Ye.concat(Oe)),Te.push({file:Se,errors:Ye.filter(function(dt){return dt})})}}),(!a&&re.length>1||a&&l>=1&&re.length>l)&&(re.forEach(function(Se){Te.push({file:Se,errors:[Wle]})}),re.splice(0)),W({acceptedFiles:re,fileRejections:Te,type:"setFiles"}),d&&d(re,Te,B),Te.length>0&&g&&g(Te,B),re.length>0&&p&&p(re,B)},[W,a,t,o,s,l,d,p,g,C]),le=I.useCallback(function(U){U.preventDefault(),U.persist(),pe(U),F.current=[],Zy(U)&&Promise.resolve(r(U)).then(function(B){Px(U)&&!M||ce(B,U)}),W({type:"reset"})},[r,ce,M]),ue=I.useCallback(function(){if($.current){W({type:"openDialog"}),P();var U={multiple:a,types:Kle(t)};window.showOpenFilePicker(U).then(function(B){return r(B)}).then(function(B){ce(B,null),W({type:"closeDialog"})}).catch(function(B){qle(B)?(T(B),W({type:"closeDialog"})):Qle(B)&&($.current=!1,O.current&&(O.current.value=null,O.current.click()))});return}O.current&&(W({type:"openDialog"}),P(),O.current.value=null,O.current.click())},[W,P,T,v,ce,t,a]),Fe=I.useCallback(function(U){!D.current||!D.current.isEqualNode(U.target)||(U.key===" "||U.key==="Enter"||U.keyCode===32||U.keyCode===13)&&(U.preventDefault(),ue())},[D,ue]),He=I.useCallback(function(){W({type:"focus"})},[]),ge=I.useCallback(function(){W({type:"blur"})},[]),V=I.useCallback(function(){A||(Yle()?setTimeout(ue,0):ue())},[A,ue]),_e=function(B){return i?null:B},de=function(B){return w?null:_e(B)},ye=function(B){return E?null:_e(B)},pe=function(B){M&&B.stopPropagation()},Ge=I.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=U.refKey,re=B===void 0?"ref":B,Te=U.role,Se=U.onKeyDown,Re=U.onFocus,ze=U.onBlur,Ne=U.onClick,xe=U.onDragEnter,Q=U.onDragOver,he=U.onDragLeave,Me=U.onDrop,we=Ix(U,tce);return Fn(Fn(KE({onKeyDown:de(ma(Se,Fe)),onFocus:de(ma(Re,He)),onBlur:de(ma(ze,ge)),onClick:_e(ma(Ne,V)),onDragEnter:ye(ma(xe,se)),onDragOver:ye(ma(Q,ne)),onDragLeave:ye(ma(he,ie)),onDrop:ye(ma(Me,le)),role:typeof Te=="string"&&Te!==""?Te:"button"},re,D),!i&&!w?{tabIndex:0}:{}),we)}},[D,Fe,He,ge,V,se,ne,ie,le,w,E,i]),ve=I.useCallback(function(U){U.stopPropagation()},[]),Pe=I.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=U.refKey,re=B===void 0?"ref":B,Te=U.onChange,Se=U.onClick,Re=Ix(U,nce),ze=KE({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:_e(ma(Te,le)),onClick:_e(ma(Se,ve)),tabIndex:-1},re,O);return Fn(Fn({},ze),Re)}},[O,t,a,le,i]),Le=H.length,Ee=Le>0&&jle({files:H,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),$e=Le>0&&!Ee;return Fn(Fn({},G),{},{isDragAccept:Ee,isDragReject:$e,isFocused:J&&!i,getRootProps:Ge,getInputProps:Pe,rootRef:D,inputRef:O,open:_e(ue)})}function fce(n,e){switch(e.type){case"focus":return Fn(Fn({},n),{},{isFocused:!0});case"blur":return Fn(Fn({},n),{},{isFocused:!1});case"openDialog":return Fn(Fn({},qE),{},{isFileDialogActive:!0});case"closeDialog":return Fn(Fn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return Fn(Fn({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return Fn(Fn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Fn({},qE);default:return n}}function GB(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dce=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hce=dce;function VB(n){return hce(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var Pz=function(e){var t,i;return!(VB(e)===!1||(t=e.constructor,typeof t!="function")||(i=t.prototype,VB(i)===!1)||i.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var pce=Pz,XT=function(e){return pce(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mce=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break},gce=XT,vce=mce;function Iz(n,e){for(var t=arguments.length,i=0;++i<t;){var r=arguments[i];QE(r)&&vce(r,yce,n)}return n}function yce(n,e){if(xce(e)){var t=this[e];QE(n)&&QE(t)?Iz(t,n):this[e]=n}}function QE(n){return gce(n)&&!Array.isArray(n)}function xce(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var _ce=Iz;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Ace=function(n,e,t,i,r){if(!bce(n)||!e)return n;if(e=e1(e),t&&(e+="."+e1(t)),i&&(e+="."+e1(i)),r&&(e+="."+e1(r)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function bce(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function e1(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wce=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,s=0;++s<r;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(i[c]=o[c])}return i},Sce=XT,Ece=wce,Mce=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");WB(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Tce(t)&&(t=Rce(t)),WB(t)&&(Cce(n,t),Ece(n,t))}return n};function Cce(n,e){for(var t in e)Pce(e,t)&&(n[t]=e[t])}function Tce(n){return n&&typeof n=="string"}function Rce(n){var e={};for(var t in n)e[t]=n[t];return e}function WB(n){return n&&typeof n=="object"||Sce(n)}function Pce(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ice=Mce,Dce=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var i=Ice({sep:"."},e),r=i.quotes||['"',"'","`"],s;i.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(s=i.brackets);var o=[],a=[],l=[""],c=i.sep,u=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],x=n[f+1],y={val:g,idx:f,arr:l,str:n};if(o.push(y),g==="\\"){y.val=kce(i,n,f)===!0?g+x:x,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var v=p(),_=f+1;if(n.indexOf(v,_+1)!==-1)for(;a.length&&_<u;){var A=n[++_];if(A==="\\"){A++;continue}if(r.indexOf(A)!==-1){_=ZE(n,A,_+1);continue}if(v=p(),a.length&&n.indexOf(v,_+1)===-1)break;if(s[A]){a.push(A);continue}v===A&&a.pop()}if(d=_,d===-1){l[l.length-1]+=g;continue}g=n.slice(f,d+1),y.val=g,y.idx=f=d}if(r.indexOf(g)!==-1){if(d=ZE(n,g,f+1),d===-1){l[l.length-1]+=g;continue}Lce(g,i)===!0?g=n.slice(f,d+1):g=n.slice(f+1,d),y.val=g,y.idx=f=d}if(typeof t=="function"&&(t(y,o),g=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function ZE(n,e,t,i){var r=n.indexOf(e,t);return n.charAt(r-1)==="\\"?ZE(n,e,r+1):r}function Lce(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function kce(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Bce=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},jB=Bce,Oce=function(e){jB(e)||(e={});for(var t=arguments.length,i=1;i<t;i++){var r=arguments[i];jB(r)&&Fce(e,r)}return e};function Fce(n,e){for(var t in e)Uce(e,t)&&(n[t]=e[t])}function Uce(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Nce=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zce=Dce,Hce=Oce,$B=Pz,XB=Nce,Gce=function(n,e,t){if(!XB(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var i=zce(e,{sep:".",brackets:!0}).filter(Vce),r=i.length,s=-1,o=n;++s<r;){var a=i[s];if(s!==r-1){XB(o[a])||(o[a]={}),o=o[a];continue}$B(o[a])&&$B(t)?o[a]=Hce({},o[a],t):o[a]=t}return n};function Vce(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Ww=XT,YB=_ce,Wce=Ace,JB=Gce,jce=function(e,t,i){if(!Ww(e))throw new TypeError("expected an object");if(typeof t!="string"||i==null)return YB.apply(null,arguments);if(typeof i=="string")return JB(e,t,i),e;var r=Wce(e,t);return Ww(i)&&Ww(r)&&(i=YB({},r,i)),JB(e,t,i),e};const $ce=Ba(jce),YT=(...n)=>n.filter(Boolean).join(".");function Xce(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Yce(n,e){return Object.entries(Moe(n,e)).reduce((t,[,{value:i,disabled:r,key:s}])=>(t[s]=r?void 0:i,t),{})}function Jce(n,e){const t=I.useRef();return(e?$g:R0)(n,t.current)||(t.current=n),t.current}function Dz(n,e){return I.useMemo(n,Jce(e,!0))}function Kce(n){const e=I.useRef(null),t=I.useRef(null),i=I.useRef(!0);return I.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),I.useEffect(()=>{if(i.current){i.current=!1;return}let r;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",r=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const qce=n=>{const[e,t]=I.useState(n.getVisiblePaths());return I.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:R0});return()=>i()},[n]),e};function Qce(n,e,t){return n.useStore(r=>{const s=_t(_t({},t),r.data);return Yce(s,e)},R0)}function Lz(n=3){const e=I.useRef(null),t=I.useRef(null),[i,r]=I.useState(!1),s=I.useCallback(()=>r(!0),[]),o=I.useCallback(()=>r(!1),[]);return I.useLayoutEffect(()=>{if(i){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:s,hide:o}}cle([ule]);const Zce={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ts.extend({color:()=>n=>Br(n).isValid()});const eue=n=>ts().color().test(n);function kz(n,{format:e,hasAlpha:t,isString:i}){const r=Zce[e]+(i&&e!=="hex"?"String":""),s=n[r]();return typeof s=="object"&&!t?Coe(s,["a"]):s}const Bz=(n,e)=>{const t=Br(n);if(!t.isValid())throw Error("Invalid color");return kz(t,e)},tue=(n,e)=>kz(Br(n),_t(_t({},e),{},{isString:!0,format:"hex"})),nue=({value:n})=>{const e=lle(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:Bz(n,r),settings:r}};var iue=Object.freeze({__proto__:null,schema:eue,sanitize:Bz,format:tue,normalize:nue});const rue=vt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sue=vt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),oue=vt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function KB(n,e){return e!=="rgb"?Br(n).toRgb():n}function aue({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:s}=Er(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=Lz(),p=I.useRef(0),[g,x]=I.useState(()=>KB(n,o)),y=a?vle:xle,v=()=>{x(KB(n,o)),f(),r()},_=()=>{d(),s(),window.clearTimeout(p.current)},A=()=>{p.current=window.setTimeout(_,500)};return I.useEffect(()=>()=>window.clearTimeout(p.current),[]),te.createElement(te.Fragment,null,te.createElement(rue,{ref:l,active:u,onClick:()=>v(),style:{color:e}}),u&&te.createElement(NT,null,te.createElement(nz,{onPointerUp:_}),te.createElement(oue,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:w=>w.buttons===0&&A()},te.createElement(y,{color:g,onChange:i}))))}function lue(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:s}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,t),te.createElement(sue,null,te.createElement(aue,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:s}),te.createElement(UT,{value:e,onChange:i,onUpdate:r})))}var cue=_t({component:lue},iue);function uue(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(HT,{value:e,settings:i,onUpdate:t}))}var fue=_t({component:uue},uz(["x","y","z"]));const due=vt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),hue=vt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function pue({value:n,settings:e,onUpdate:t}){const i=I.useRef(),r=I.useRef(0),s=I.useRef(0),o=I.useRef(1),[a,l]=I.useState(!1),[c,u]=I.useState(!1),[f,d]=rz(),p=I.useRef(null),g=I.useRef(null);I.useLayoutEffect(()=>{if(a){const{top:N,left:z,width:G,height:W}=p.current.getBoundingClientRect();g.current.style.left=z+G/2+"px",g.current.style.top=N+W/2+"px"}},[a]);const{keys:[x,y],joystick:v}=e,_=v==="invertY"?1:-1,{[x]:{step:A},[y]:{step:w}}=e,E=Al("sizes","joystickWidth"),M=Al("sizes","joystickHeight"),C=parseFloat(E)*.8/2,P=parseFloat(M)*.8/2,T=I.useCallback(()=>{i.current||(u(!0),r.current&&d({x:r.current*C}),s.current&&d({y:s.current*-P}),i.current=window.setInterval(()=>{t(N=>{const z=A*r.current*o.current,G=_*w*s.current*o.current;return Array.isArray(N)?{[x]:N[0]+z,[y]:N[1]+G}:{[x]:N[x]+z,[y]:N[y]+G}})},16))},[C,P,t,d,A,w,x,y,_]),D=I.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,u(!1)},[]);I.useEffect(()=>{function N(z){o.current=G8(z)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const O=D0(({first:N,active:z,delta:[G,W],movement:[J,Z]})=>{N&&l(!0);const H=$c(J,-C,C),$=$c(Z,-P,P);r.current=Math.abs(J)>Math.abs(H)?Math.sign(J-H):0,s.current=Math.abs(Z)>Math.abs($)?Math.sign($-Z):0;let X=n[x],F=n[y];z?(r.current||(X+=G*A*o.current,d({x:H})),s.current||(F-=_*W*w*o.current,d({y:$})),r.current||s.current?T():D(),t({[x]:X,[y]:F})):(l(!1),r.current=0,s.current=0,d({x:0,y:0}),D())});return te.createElement(due,ei({ref:p},O()),a&&te.createElement(NT,null,te.createElement(hue,{ref:g,isOutOfBounds:c},te.createElement("div",null),te.createElement("span",{ref:f}))))}const mue=vt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function gue(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Er();return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(mue,{withJoystick:!!i.joystick},i.joystick&&te.createElement(pue,{value:e,settings:i,onUpdate:t}),te.createElement(HT,{value:e,settings:i,onUpdate:t})))}const vue=["joystick"],Oz=uz(["x","y"]),yue=n=>{let{joystick:e=!0}=n,t=ln(n,vue);const{value:i,settings:r}=Oz.normalize(t);return{value:i,settings:_t(_t({},r),{},{joystick:e})}};var xue=_t(_t({component:gue},Oz),{},{normalize:yue});const _ue=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},Aue=(n,e)=>typeof e=="object"&&"image"in e,bue=({image:n})=>({value:n});var wue=Object.freeze({__proto__:null,sanitize:_ue,schema:Aue,normalize:bue});const Sue=vt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Eue=vt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Mue=vt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Cue=vt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Tue=vt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Rue=vt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Pue(){const{label:n,value:e,onUpdate:t,disabled:i}=Er(),{popinRef:r,wrapperRef:s,shown:o,show:a,hide:l}=Lz(),c=I.useCallback(g=>{g.length&&t(g[0])},[t]),u=I.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=Rz({maxFiles:1,accept:"image/*",onDrop:c,disabled:i});return te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(Sue,null,te.createElement(Mue,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&te.createElement(NT,null,te.createElement(nz,{onPointerUp:l,style:{cursor:"pointer"}}),te.createElement(Cue,{ref:s,style:{backgroundImage:`url(${e})`}})),te.createElement(Eue,f({isDragAccept:p}),te.createElement("input",d()),te.createElement(Tue,null,p?"drop image":"click or drop")),te.createElement(Rue,{onClick:u,disabled:!e})))}var Iue=_t({component:Pue},wue);const qB=ts().number(),Due=(n,e)=>ts().array().length(2).every.number().test(n)&&ts().schema({min:qB,max:qB}).test(e),Dx=n=>({min:n[0],max:n[1]}),Fz=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?Dx(n):n,s={min:i[0],max:i[1]},{min:o,max:a}=_t(_t({},s),r);return[$c(Number(o),e,Math.max(e,a)),$c(Number(a),Math.min(t,o),t)]},Lue=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=cz(Dx(n),{min:i,max:i}),s=[e,t],o=_t(_t({},r),{},{bounds:s});return{value:Fz(Dx(n),o,n),settings:o}};var kue=Object.freeze({__proto__:null,schema:Due,format:Dx,sanitize:Fz,normalize:Lue});const Bue=["value","bounds","onDrag"],Oue=["bounds"],Fue=vt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Uue(n){let{value:e,bounds:[t,i],onDrag:r}=n,s=ln(n,Bue);const o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),c=I.useRef(0),u=Al("sizes","scrubberWidth"),f=D0(({event:g,first:x,xy:[y],movement:[v],memo:_={}})=>{if(x){const{width:w,left:E}=o.current.getBoundingClientRect();c.current=w-parseFloat(u);const M=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=Cx((y-E)/w,t,i);const C=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=C<0||C===0&&_.pos<=e.min?"min":"max",M&&(_.pos=e[_.key])}const A=_.pos+Cx(v/c.current,0,i-t);return r({[_.key]:mae(A,s[_.key])}),_}),d=`calc(${Mx(e.min,t,i)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-Mx(e.max,t,i)} * (100% - ${u} - 8px) + 4px)`;return te.createElement(oz,ei({ref:o},f()),te.createElement(sz,null,te.createElement(az,{style:{left:d,right:p}})),te.createElement(HE,{position:"left",ref:a,style:{left:d}}),te.createElement(HE,{position:"right",ref:l,style:{right:p}}))}function Nue(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Er(),r=ln(i,Oue);return te.createElement(te.Fragment,null,te.createElement(wo,{input:!0},te.createElement(ra,null,n),te.createElement(Fue,null,te.createElement(Uue,ei({value:e},i,{onDrag:t})),te.createElement(HT,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var zue=_t({component:Nue},kue);const Hue=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},Gue=["type","value"],Vue=["onChange","transient","onEditStart","onEditEnd"],Wue=function(){const e=aN(Mne(()=>({data:{}}))),t=Hue();this.storeId=Eoe(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(i).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return r.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>r.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in Vo&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>i[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let d=c[u];if(d){const{type:p,value:g}=f,x=ln(f,Gue);p!==d.type?ul(Un.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,x),d.__refCount++)}else c[u]=_t(_t({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return AB(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=_t(_t({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{AB(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{ul(Un.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,_t(_t({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,_t(_t({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return ul(Un.EMPTY_KEY);let d=YT(a,u);if(f.type===Vo.FOLDER){const p=s(f.schema,d,l);Object.assign(c,p),d in i||(i[d]=f.settings)}else if(u in l)ul(Un.DUPLICATE_KEYS,u,d,l[u].path);else{const p=Loe(f,u,d,c);if(p){const{type:g,options:x,input:y}=p,{onChange:v,transient:_,onEditStart:A,onEditEnd:w}=x,E=ln(x,Vue);c[d]=_t(_t(_t({type:g},E),y),{},{fromPanel:!0}),l[u]={path:d,onChange:v,transient:_,onEditStart:A,onEditEnd:w}}else ul(Un.UNKNOWN_INPUT,d,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},Uz=new Wue,jue={collapsed:!1};function $ue(n,e){return{type:Vo.FOLDER,schema:n,settings:_t(_t({},jue),e)}}const QB=n=>"__levaInput"in n,Xue=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[s,o]=Xce(r);(!i||s.toLowerCase().indexOf(i)>-1)&&$ce(t,o,{[s]:{__levaInput:!0,path:r}})}),t},Yue=["type","label","path","valueKey","value","settings","setValue","disabled"];function Jue(n){let{type:e,label:t,path:i,valueKey:r,value:s,settings:o,setValue:a,disabled:l}=n,c=ln(n,Yue);const{displayValue:u,onChange:f,onUpdate:d}=iz({type:e,value:s,settings:o,setValue:a}),p=Ef[e].component;return p?te.createElement(X8.Provider,{value:_t({key:r,path:i,id:""+i,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},te.createElement(Zoe,{disabled:l},te.createElement(p,null))):(ul(Un.NO_COMPONENT_FOR_TYPE,e,i),null)}const Kue=vt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function que({onClick:n,settings:e,label:t}){const i=I0();return te.createElement(wo,null,te.createElement(Kue,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const Que=vt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Zue=vt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),efe=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function tfe(n){const{label:e,opts:t}=efe(n),i=I0();return te.createElement(wo,{input:!!e},e&&te.createElement(ra,null,e),te.createElement(Que,null,Object.entries(t).map(([r,s])=>te.createElement(Zue,{key:r,onClick:()=>s(i.get)},r))))}const nfe=vt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),Nz=100;function ife(n,e){n.push(e),n.length>Nz&&n.shift()}const rfe=I.forwardRef(function({initialValue:n},e){const t=Al("colors","highlight3"),i=Al("colors","elevation2"),r=Al("colors","highlight1"),[s,o]=I.useMemo(()=>[Br(r).alpha(.4).toRgbString(),Br(r).alpha(.1).toRgbString()],[r]),a=I.useRef([n]),l=I.useRef(n),c=I.useRef(n),u=I.useRef(),f=I.useCallback((g,x)=>{if(!g)return;const{width:y,height:v}=g,_=new Path2D,A=y/Nz,w=v*.05;for(let C=0;C<a.current.length;C++){const P=Mx(a.current[C],l.current,c.current),T=A*C,D=v-P*(v-w*2)-w;_.lineTo(T,D)}x.clearRect(0,0,y,v);const E=new Path2D(_);E.lineTo(A*(a.current.length+1),v),E.lineTo(0,v),E.lineTo(0,0);const M=x.createLinearGradient(0,0,0,v);M.addColorStop(0,s),M.addColorStop(1,o),x.fillStyle=M,x.fill(E),x.strokeStyle=i,x.lineJoin="round",x.lineWidth=14,x.stroke(_),x.strokeStyle=t,x.lineWidth=2,x.stroke(_)},[t,i,s,o]),[d,p]=lae(f);return I.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),ife(a.current,g),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),I.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),te.createElement(nfe,{ref:d})}),ZB=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),sfe=I.forwardRef(function({initialValue:n},e){const[t,i]=I.useState(ZB(n));return I.useImperativeHandle(e,()=>({frame:r=>i(ZB(r))}),[]),te.createElement("div",null,t)});function eO(n){return typeof n=="function"?n():n.current}function ofe({label:n,objectOrFn:e,settings:t}){const i=I.useRef(),r=I.useRef(eO(e));return I.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=i.current)===null||o===void 0||o.frame(eO(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),te.createElement(wo,{input:!0},te.createElement(ra,{align:"top"},n),t.graph?te.createElement(rfe,{ref:i,initialValue:r.current}):te.createElement(sfe,{ref:i,initialValue:r.current}))}const afe=["type","label","key"],lfe={[Vo.BUTTON]:que,[Vo.BUTTON_GROUP]:tfe,[Vo.MONITOR]:ofe},cfe=te.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=uae(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=ln(e,afe);if(l in Vo){const d=lfe[l];return te.createElement(d,ei({label:c,path:n},f))}return l in Ef?te.createElement(Jue,ei({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:i,disable:r,emitOnEditStart:o,emitOnEditEnd:a},f)):(voe(Un.UNSUPPORTED_INPUT,l,n),null)});function ufe({toggle:n,toggled:e,name:t}){return te.createElement(Koe,{onClick:()=>n()},te.createElement(zT,{toggled:e}),te.createElement("div",null,t))}const ffe=({name:n,path:e,tree:t})=>{const i=I0(),r=YT(e,n),{collapsed:s,color:o}=i.getFolderSettings(r),[a,l]=I.useState(!s),c=I.useRef(null),u=Al("colors","folderWidgetColor"),f=Al("colors","folderTextColor");return I.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),te.createElement(Tx,{ref:c},te.createElement(ufe,{name:n,toggled:a,toggle:()=>l(d=>!d)}),te.createElement(zz,{parent:r,tree:t,toggled:a}))},zz=te.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Kce(s),l=I0(),c=([f,d])=>{var p;return(QB(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(YT(i,f)).order)||0},u=Object.entries(r).sort((f,d)=>c(f)-c(d));return te.createElement(NE,{ref:o,isRoot:n,fill:e,flat:t},te.createElement(Z8,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>QB(d)?te.createElement(cfe,{key:d.path,valueKey:d.valueKey,path:d.path}):te.createElement(ffe,{key:f,name:f,path:i,tree:d}))))}),dfe=vt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${tz}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Hz=40,Lx=vt("i",{$flexCenter:"",width:Hz,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),hfe=vt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),pfe=vt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Lx}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),mfe=vt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),gfe=vt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Hz}}}}),vfe=te.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=I.useState(""),s=I.useMemo(()=>H8(n,250),[n]),o=()=>{n(""),r("")},a=l=>{const c=l.currentTarget.value;e(!0),r(c)};return I.useEffect(()=>{s(i)},[i,s]),te.createElement(te.Fragment,null,te.createElement(mfe,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),te.createElement(Lx,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function yfe({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=I.useState(!1),d=I.useRef(null);I.useEffect(()=>{var g,x;u?(g=d.current)===null||g===void 0||g.focus():(x=d.current)===null||x===void 0||x.blur()},[u]);const p=D0(({offset:[g,x],first:y,last:v})=>{e({x:g,y:x}),y&&t({x:g,y:x}),v&&i({x:g,y:x})},{filterTaps:!0,from:({offset:[g,x]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||x]});return I.useEffect(()=>{const g=x=>{x.key==="L"&&x.shiftKey&&x.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),te.createElement(te.Fragment,null,te.createElement(hfe,{mode:a?"drag":void 0},te.createElement(Lx,{active:!s,onClick:()=>r()},te.createElement(zT,{toggled:s,width:12,height:8})),te.createElement(gfe,ei({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},te.createElement("circle",{cx:"2",cy:"2",r:"2"}),te.createElement("circle",{cx:"14",cy:"2",r:"2"}),te.createElement("circle",{cx:"26",cy:"2",r:"2"}),te.createElement("circle",{cx:"2",cy:"12",r:"2"}),te.createElement("circle",{cx:"14",cy:"12",r:"2"}),te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&te.createElement(Lx,{active:u,onClick:()=>f(g=>!g)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),te.createElement(pfe,{toggled:u},te.createElement(vfe,{ref:d,setFilter:n,toggle:r})))}const xfe=["store","hidden","theme","collapsed"];function _fe(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,s=ln(n,xfe);const o=Dz(()=>Woe(i),[i]),[a,l]=I.useState(!r),c=typeof r=="object"?!r.collapsed:a,u=I.useMemo(()=>typeof r=="object"?f=>{typeof f=="function"?r.onChange(!f(!r.collapsed)):r.onChange(!f)}:l,[r]);return!e||t?null:te.createElement(FT.Provider,{value:o},te.createElement(Afe,ei({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const Afe=te.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=qce(n),[p,g]=I.useState(""),x=I.useMemo(()=>Xue(d,p),[d,p]),[y,v]=rz(),_=r||d.length>0,A=typeof o=="object"&&o.title||void 0,w=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,E=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,M=typeof o=="object"&&o.position||void 0,C=typeof o=="object"&&o.onDrag||void 0,P=typeof o=="object"&&o.onDragStart||void 0,T=typeof o=="object"&&o.onDragEnd||void 0;return te.useEffect(()=>{v({x:M==null?void 0:M.x,y:M==null?void 0:M.y})},[M,v]),Voe(),te.createElement(J8.Provider,{value:{hideCopyButton:a}},te.createElement(dfe,{ref:y,className:e,fill:t,flat:i,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&te.createElement(yfe,{onDrag:D=>{v(D),C==null||C(D)},onDragStart:D=>P==null?void 0:P(D),onDragEnd:D=>T==null?void 0:T(D),setFilter:g,toggle:D=>c(O=>D??!O),toggled:l,title:A,drag:w,filterEnabled:E,from:M}),_&&te.createElement(Y8.Provider,{value:n},te.createElement(zz,{isRoot:!0,fill:t,flat:i,tree:x,toggled:l}))))}),bfe=["isRoot"];let kx=!1,qu=null;function Gz(n){let{isRoot:e=!1}=n,t=ln(n,bfe);return I.useEffect(()=>(kx=!0,!e&&qu&&(qu.remove(),qu=null),()=>{e||(kx=!1)}),[e]),te.createElement(_fe,ei({store:Uz},t))}function wfe(n){I.useEffect(()=>{n&&!kx&&(qu||(qu=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(qu),Boe(te.createElement(Gz,{isRoot:!0}),qu))),kx=!0)},[n])}function Sfe(n,e,t,i,r){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=i):(a=t,Array.isArray(i)?c=i:(l=i,c=r)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function Qg(n,e,t,i,r){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Sfe(n,e,t,i,r),u=typeof o=="function",f=I.useRef(!1),d=I.useRef(!0),p=Dz(()=>{f.current=!0;const O=typeof o=="function"?o():o;return s?{[s]:$ue(O,a)}:O},c),g=!(l!=null&&l.store);wfe(g);const[x]=I.useState(()=>(l==null?void 0:l.store)||Uz),[y,v]=I.useMemo(()=>x.getDataFromSchema(p),[x,p]),[_,A,w,E,M]=I.useMemo(()=>{const O=[],N=[],z={},G={},W={};return Object.values(v).forEach(({path:J,onChange:Z,onEditStart:H,onEditEnd:$,transient:X})=>{O.push(J),Z?(z[J]=Z,X||N.push(J)):N.push(J),H&&(G[J]=H),$&&(W[J]=$)}),[O,N,z,G,W]},[v]),C=I.useMemo(()=>x.orderPaths(_),[_,x]),P=Qce(x,A,y),T=I.useCallback(O=>{const N=Object.entries(O).reduce((z,[G,W])=>Object.assign(z,{[v[G].path]:W}),{});x.set(N,!1)},[x,v]),D=I.useCallback(O=>x.get(v[O].path),[x,v]);return I.useEffect(()=>{const O=!d.current&&f.current;return x.addData(y,O),d.current=!1,f.current=!1,()=>x.disposePaths(C)},[x,C,y]),I.useEffect(()=>{const O=[];return Object.entries(w).forEach(([N,z])=>{z(x.get(N),N,_t({initial:!0,get:x.get},x.getInput(N)));const G=x.useStore.subscribe(W=>{const J=W.data[N];return[J.disabled?void 0:J.value,J]},([W,J])=>z(W,N,_t({initial:!1,get:x.get},J)),{equalityFn:R0});O.push(G)}),()=>O.forEach(N=>N())},[x,w]),I.useEffect(()=>{const O=[];return Object.entries(E).forEach(([N,z])=>O.push(x.subscribeToEditStart(N,z))),Object.entries(M).forEach(([N,z])=>O.push(x.subscribeToEditEnd(N,z))),()=>O.forEach(N=>N())},[E,M,x]),u?[P,T,D]:P}Fl(qo.SELECT,Cae);Fl(qo.IMAGE,Iue);Fl(qo.NUMBER,vae);Fl(qo.COLOR,cue);Fl(qo.STRING,Oae);Fl(qo.BOOLEAN,Vae);Fl(qo.INTERVAL,zue);Fl(qo.VECTOR3D,fue);Fl(qo.VECTOR2D,xue);const t1={u_time:{value:1},u_intensity:{value:1}},Efe=({position:n})=>{const e=I.useRef(),t=I.useRef(!1),i=.04,r=Qg("Blob Controls",{color:"#1f1f1f",intensity:t1.u_intensity,castShadow:!0,position:{x:n[0],y:n[1],z:n[2]},scale:1});return Sr(({clock:s})=>{e.current.rotation.y+=t.current?.01:.005,e.current.material.uniforms.u_time.value=Nh.lerp(e.current.material.uniforms.u_time.value,t.current?1+s.getElapsedTime():.4+s.getElapsedTime(),i),e.current.material.uniforms.u_intensity.value=Nh.lerp(e.current.material.uniforms.u_intensity.value,t.current?r.intensity:.4*r.intensity,i)}),k.jsx(k.Fragment,{children:k.jsxs("mesh",{ref:e,castShadow:r.castShadow,scale:r.scale,position:[r.position.x,r.position.y,r.position.z],onPointerEnter:()=>t.current=!0,onPointerOut:()=>t.current=!1,children:[k.jsx("sphereGeometry",{args:[3,300,300]}),k.jsx("meshStandardMaterial",{color:r.color,uniforms:t1,onBeforeCompile:s=>{s.uniforms.u_time=t1.u_time,s.uniforms.u_intensity=t1.u_intensity;const o="#include <displacementmap_pars_vertex>";s.vertexShader=s.vertexShader.replace(o,o+qee);const a="#include <displacementmap_vertex>";s.vertexShader=s.vertexShader.replace(a,a+Qee);const l="#include <bumpmap_pars_fragment>";s.fragmentShader=s.fragmentShader.replace(l,l+Jee);const c="#include <normal_fragment_maps>";s.fragmentShader=s.fragmentShader.replace(c,c+Kee)}})]})})},Mfe=()=>{const n=Qg("Ground Contols",{receiveShadow:!0,Rx:{value:-Math.PI/2,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/2},Ry:{value:0,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/2},Rz:{value:0,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/2},position:{x:0,y:-5,z:0},color:"#efefef",size:{l:10,b:10}});return k.jsx(k.Fragment,{children:k.jsxs("mesh",{castShadow:!0,receiveShadow:n.receiveShadow,position:[n.position.x,n.position.y,n.position.z],rotation:[n.Rx,n.Ry,n.Rz],children:[k.jsx("planeGeometry",{args:[n.size.l,n.size.b]}),k.jsx("shadowMaterial",{opacity:.4})]})})},Cfe=()=>{const n=Qg("Point Light",{castShadow:!0,position:{x:0,y:40,z:0},intensity:5}),e=Qg("Directional Light",{castShadow:!1,position:{x:0,y:0,z:0},intensity:5});return k.jsxs(k.Fragment,{children:[k.jsx("pointLight",{castShadow:n.castShadow,"shadow-mapSize":2048,"shadow-bias":-.001,position:[n.position.x,n.position.y,n.position.z],intensity:n.intensity}),k.jsx("directionalLight",{castShadow:e.castShadow,position:[e.position.x,e.position.y,e.position.z],intensity:e.intensity})]})},Vz=({position:n,stats:e,OBC:t,controls:i})=>k.jsxs(k.Fragment,{children:[k.jsx(Gz,{hidden:!i,collapsed:!0}),k.jsxs(K_,{shadows:!0,style:{height:"100%",overflow:"hidden"},camera:{position:[0,-4,10]},children:[t&&k.jsx(ire,{}),e&&k.jsx(are,{}),k.jsx(Cfe,{}),k.jsx(Efe,{position:n}),k.jsx(Mfe,{})]},"THIS THE FIRST CANVAS")]}),tO=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const f=e;e=c??typeof u!="object"?u:Object.assign({},e,u),t.forEach(d=>d(e,f))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(i,r,a),a},Tfe=n=>n?tO(n):tO;var Wz={exports:{}},jz={},$z={exports:{}},Xz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=I;function Rfe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Pfe=typeof Object.is=="function"?Object.is:Rfe,Ife=Jh.useState,Dfe=Jh.useEffect,Lfe=Jh.useLayoutEffect,kfe=Jh.useDebugValue;function Bfe(n,e){var t=e(),i=Ife({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return Lfe(function(){r.value=t,r.getSnapshot=e,jw(r)&&s({inst:r})},[n,t,e]),Dfe(function(){return jw(r)&&s({inst:r}),n(function(){jw(r)&&s({inst:r})})},[n]),kfe(t),t}function jw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Pfe(n,t)}catch{return!0}}function Ofe(n,e){return e()}var Ffe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ofe:Bfe;Xz.useSyncExternalStore=Jh.useSyncExternalStore!==void 0?Jh.useSyncExternalStore:Ffe;$z.exports=Xz;var Ufe=$z.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA=I,Nfe=Ufe;function zfe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hfe=typeof Object.is=="function"?Object.is:zfe,Gfe=Nfe.useSyncExternalStore,Vfe=oA.useRef,Wfe=oA.useEffect,jfe=oA.useMemo,$fe=oA.useDebugValue;jz.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=Vfe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=jfe(function(){function l(p){if(!c){if(c=!0,u=p,p=i(p),r!==void 0&&o.hasValue){var g=o.value;if(r(g,p))return f=g}return f=p}if(g=f,Hfe(u,p))return g;var x=i(p);return r!==void 0&&r(g,x)?g:(u=p,f=x)}var c=!1,u,f,d=t===void 0?null:t;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,t,i,r]);var a=Gfe(n,s[0],s[1]);return Wfe(function(){o.hasValue=!0,o.value=a},[a]),$fe(a),a};Wz.exports=jz;var Xfe=Wz.exports;const Yz=Ba(Xfe),{useSyncExternalStoreWithSelector:Yfe}=Yz;function Jfe(n,e=n.getState,t){const i=Yfe(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return I.useDebugValue(i),i}const nO=n=>{const e=typeof n=="function"?Tfe(n):n,t=(i,r)=>Jfe(e,i,r);return Object.assign(t,e),t},Kfe=n=>n?nO(n):nO;function qfe(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[i,r]of n)if(!Object.is(r,e.get(i)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}const JT=Kfe((n,e)=>{function t(){var i;const{accumulated:r,startTime:s,infos:o}=e(),a=(i=e().log)==null?void 0:i.maxMemory,{totalFrames:l,log:c,gl:u,max:f}=r,d={calls:u.calls/l,triangles:u.triangles/l,points:u.points/l,lines:u.lines/l},p={gpu:c.gpu/l,cpu:c.cpu/l,mem:c.mem/l,fps:c.fps/l};return{sessionTime:(window.performance.now()-s)/1e3,infos:o,log:p,gl:d,max:f,maxMemory:a,totalFrames:l}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:t}}),xo=n=>JT(n,qfe);Object.assign(xo,JT);const{getState:uo,setState:ys}=JT,eo={value:0,fpsLimit:60,isOverLimit:0},Sm=n=>(n==null?void 0:n.reduce((e,t)=>e+t,0))/n.length;class Qfe{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=Nh.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=i=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(i-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=i)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const t=16.666666666666668,i=t-e.timeRemaining(),r=t*eo.fpsLimit/10/i;r<0||(eo.value=r,eo.isOverLimit<25?eo.isOverLimit++:ys({overclockingFps:!0}))}nextFrame(e){this.frameId++;const t=e||this.now();let i=t-this.paramTime,r=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/i,a=uo().overclockingFps?eo.value:o;if(r=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/i,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(r),this.overClock&&typeof window.requestIdleCallback<"u"&&(eo.isOverLimit>0&&a>o?eo.isOverLimit--:uo().overclockingFps&&ys({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:Sm(this.logsAccums.cpu),gpu:Sm(this.logsAccums.gpu),mem:Sm(this.logsAccums.mem),fps:Sm(this.logsAccums.fps),duration:Math.round(i),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,eo.fpsLimit=Math.round(Sm(this.logsAccums.fpsFixed)/10)*100,ys({fpsLimit:eo.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,c=uo().overclockingFps?eo.value:l;this.fpsChart[this.circularId%this.chartLen]=c;const u=1e3/this.currentMem,f=this.currentCpu,d=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/i*100))+4;d>0&&(this.gpuChart[this.circularId%this.chartLen]=d),f>0&&(this.cpuChart[this.circularId%this.chartLen]=f),u>0&&(this.memChart[this.circularId%this.chartLen]=u);for(let p=0;p<this.names.length;p++)this.chartLogger({i:p,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let i=!1,r,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(i=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),i&&!r){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;(i||r)&&(e.deleteQuery(this.query),o=null),i&&a>0&&(r||this.activeAccums.forEach((l,c)=>{this.gpuAccums[c]=a}))}}(i||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const i=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=i}}const Zfe=n=>{n.forEach((e,t)=>{const{meshes:i}=e;if(!i)return;let r={total:0,type:"Triangle",data:[]};Object.keys(i).forEach(s=>{const o=i[s],{geometry:a,material:l}=o;let c=a.index;const u=a.attributes.position;if(!u)return;let f=1;l.wireframe===!0&&(f=0);const d=c!==null?c.count:u.count,p=a.drawRange.start*f,g=a.drawRange.count*f,x=p,y=Math.min(d,p+g)-1;let v=1;const _=o.count||1;let A="Triangle",w=0;o.isMesh?l.wireframe===!0?(A="Line",v=v/2):(A="Triangle",v=v/3):o.isLine?(A="Line",o.isLineSegments?v=v/2:o.isLineLoop?v=v:v=v-1):o.isPoints?(A="Point",v=v):o.isSprite&&(A="Triangle",v=v/3);const E=Math.round(Math.max(0,y-x+1)*(v*_));E>w&&(w=E,r.type=A),r.total+=E,r.data.push({drawCount:E,type:A}),o.userData.drawCount={type:A,count:E}}),e.drawCounts=r})};var Jz={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,f||l,d),g=t?t+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},a.prototype.listenerCount=function(c){var u=t?t+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,d,p,g){var x=t?t+c:c;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,_,A;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,p),!0;case 6:return y.fn.call(y.context,u,f,d,p,g),!0}for(A=1,_=new Array(v-1);A<v;A++)_[A-1]=arguments[A];y.fn.apply(y.context,_)}else{var w=y.length,E;for(A=0;A<w;A++)switch(y[A].once&&this.removeListener(c,y[A].fn,void 0,!0),v){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,u);break;case 3:y[A].fn.call(y[A].context,u,f);break;case 4:y[A].fn.call(y[A].context,u,f,d);break;default:if(!_)for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];y[A].fn.apply(y[A].context,_)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,d){var p=t?t+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!d||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||d&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(Jz);var ede=Jz.exports;const tde=Ba(ede),Bx=new tde;function nde(n,e,t){return t!=null&&t.once?Bx.once(n,e):Bx.on(n,e)}function ide(n,e,t){var i;Bx.removeListener(n,e,(i=t==null?void 0:t.context)!=null?i:null,t==null?void 0:t.once)}function rde(n,e){Bx.emit(n,e)}function sde(n,e,t=[],i){const r=I.useRef(e);I.useEffect(()=>void(r.current=e),[e]),I.useEffect(()=>{const s=a=>{var l;return(l=r.current)==null?void 0:l.call(r,a)},o=nde(n,s,i);return()=>ide(n,s,{...i,context:o})},[n,i==null?void 0:i.once,...t])}const ode=Lt.prototype.updateMatrixWorld,ade=Lt.prototype.updateWorldMatrix,iO=Lt.prototype.updateMatrix,rO=["calls","triangles","points","lines"],sO=["gpu","cpu","mem","fps"];let nh={value:0},Ms={value:0};const lde=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},oO=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},cde=n=>n==="muiPerf",ude=({overClock:n,logsPerSecond:e,chart:t,deepAnalyze:i,matrixUpdate:r})=>{const{gl:s,scene:o}=cr();ys({gl:s,scene:o});const a=I.useMemo(()=>{const l=new Qfe({trackGPU:!0,overClock:n,chartLen:t?t.length:120,chartHz:t?t.hz:60,logsPerSecond:e||10,gl:s.getContext(),chartLogger:y=>{ys({chart:y})},paramLogger:y=>{const v={maxMemory:y.maxMemory,gpu:y.gpu,cpu:y.cpu,mem:y.mem,fps:y.fps,totalTime:y.duration,frameCount:y.frameCount};ys({log:v});const{accumulated:_}=uo(),A=s.info.render;_.totalFrames++,_.gl.calls+=A.calls,_.gl.triangles+=A.triangles,_.gl.points+=A.points,_.gl.lines+=A.lines,_.log.gpu+=y.gpu,_.log.cpu+=y.cpu,_.log.mem+=y.mem,_.log.fps+=y.fps;for(let w=0;w<rO.length;w++){const E=rO[w],M=A[E];M>_.max.gl[E]&&(_.max.gl[E]=M)}for(let w=0;w<sO.length;w++){const E=sO[w],M=y[E];M>_.max.log[E]&&(_.max.log[E]=M)}ys({accumulated:_}),rde("log",[v,s])}}),c=s.getContext();let u=null,f=null;const d=c.getExtension("WEBGL_debug_renderer_info"),p=c.getParameter(c.VERSION);d!=null&&(u=c.getParameter(d.UNMASKED_RENDERER_WEBGL),f=c.getParameter(d.UNMASKED_VENDOR_WEBGL)),f||(f="Unknown vendor"),u||(u=c.getParameter(c.RENDERER)),ys({startTime:window.performance.now(),infos:{version:p,renderer:u,vendor:f}});const g=new Map,x=new Map;return Object.defineProperty(Hh.prototype,"onBeforeRender",{get(){return(...y)=>{var v;l&&l.begin("profiler"),(v=g.get(this))==null||v(...y)}},set(y){g.set(this,y)},configurable:!0}),Object.defineProperty(Hh.prototype,"onAfterRender",{get(){return(...y)=>{var v;l&&l.end("profiler"),(v=x.get(this))==null||v(...y)}},set(y){x.set(this,y)},configurable:!0}),l},[]);return I.useEffect(()=>{a&&(a.overClock=n||!1,n===!1&&(ys({overclockingFps:!1}),eo.value=0,eo.isOverLimit=0),a.chartHz=(t==null?void 0:t.hz)||60,a.chartLen=(t==null?void 0:t.length)||120)},[n,a,t==null?void 0:t.length,t==null?void 0:t.hz]),I.useEffect(()=>{r&&(Lt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&nh.value++,ode.apply(this,arguments)},Lt.prototype.updateWorldMatrix=function(){nh.value++,ade.apply(this,arguments)},Lt.prototype.updateMatrix=function(){Ms.value++,iO.apply(this,arguments)}),s.info.autoReset=!1;let l=null,c=null;if(s.info)return l=MN(function(){uo().paused&&ys({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),Ms.value-=1,nh.value=0,Ms.value=0,s.info&&s.info.reset()}),c=CN(function(){var f,d;if(a&&!a.paused&&(a.nextFrame(window.performance.now()),n&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),i){const p={},g=new Map;o.traverse(function(y){if((y instanceof Qn||y instanceof D_)&&y.material){let v=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?v=oO(y.material[1],p):v=oO(y.material,p),p[v].meshes[y.uuid]=y}}),(d=(f=s==null?void 0:s.info)==null?void 0:f.programs)==null||d.forEach(x=>{const y=x.cacheKey.split(","),v=y[y.findIndex(cde)+1];if(lde(v)&&p[v]){const{material:_,meshes:A}=p[v];g.set(v,{program:x,material:_,meshes:A,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),g.size!==uo().programs.size&&(Zfe(g),ys({programs:g,triggerProgramsUpdate:uo().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),r&&(Lt.prototype.updateMatrixWorld=iO),l(),c()}},[a,s,t,r]),I.useEffect(()=>{const l=Mee(function(){return a&&(a.paused=!0,Ms.value=0,nh.value=0,ys({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null},fde=Ri("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),$w=Ri("small",{position:"absolute",right:0,fontSize:"10px"}),fr=Ri("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),Jr=Ri("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),dde=Ri("div",{display:"flex"}),hde=Ri("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),pde=Ri("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),mde=Ri("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),KT=Ri("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),gde=Ri("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),vde=Ri("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),yde=Ri("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),xde=Ri("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),_de=Ri("div",{marginTop:"0"}),aO=Ri("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),Kz=Ri("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),qz=Ri("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),Ade=Ri("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),bde=Ri("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function li(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var wde=["color"],Qz=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,wde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Sde=["color"],Ede=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Sde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Mde=["color"],Cde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Mde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Tde=["color"],Rde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Tde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Pde=["color"],Ide=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Pde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Dde=["color"],Lde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Dde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),kde=["color"],Bde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,kde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Ode=["color"],Fde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Ode);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Ude=["color"],eM=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Ude);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Nde=["color"],zde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Nde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Hde=["color"],Gde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Hde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Vde=["color"],Wde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Vde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),jde=["color"],$de=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,jde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Xde=["color"],Yde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Xde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Jde=["color"],Kde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Jde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),qde=["color"],Qde=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,qde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Zde=["color"],ehe=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,Zde);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),the=["color"],nhe=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,the);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),ihe=["color"],Zz=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,ihe);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:i}))}),rhe=["color"],e6=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,rhe);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:i}))}),she=["color"],t6=I.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=li(n,she);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),I.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});const qs=I.memo(({isPerf:n,color:e,colorBlind:t,customData:i,isMemory:r,isShadersInfo:s,metric:o,fontSize:a,offsetY:l=0,offsetX:c,round:u,hasInstance:f})=>{const{width:d,height:p}=cr(y=>y.viewport),g=I.useRef(null),x=I.useRef(null);return sde("log",function([v,_]){var A;if(!v||!g.current||(i&&(g.current.text=(Math.round(uo().customData*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)),!o))return;let w=v[o];if(s?w=(A=_.info.programs)==null?void 0:A.length:o==="matriceCount"?w=Ms.value:!n&&_.info.render&&(w=(r?_.info.memory:_.info.render)[o]),o==="fps"&&(g.current.color=uo().overclockingFps?dr(t).overClock.toString():`rgb(${dr(t).fps.toString()})`),g.current.text=(Math.round(w*Math.pow(10,u))/Math.pow(10,u)).toFixed(u),f){const E=_.info.instance;if(typeof E>"u"&&o!=="matriceCount")return;let M;o==="matriceCount"?M=nh.value:M=E[o],M>0?(g.current.fontSize=a/1.15,x.current.fontSize=w>0?a/1.4:a,g.current.position.y=p/2-l-a/1.9,x.current.text=" ±	"+(Math.round(M*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)):(x.current.text&&(x.current.text=""),g.current.position.y=p/2-l-a,g.current.fontSize=a)}Ms.value-=1,g.current.updateMatrix(),g.current.matrixWorld.copy(g.current.matrix)}),k.jsxs(I.Suspense,{fallback:null,children:[k.jsxs(zk,{textAlign:"justify",matrixAutoUpdate:!1,ref:g,fontSize:a,position:[-d/2+c+a,p/2-l-a,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Ms.value-=1,y.matrixWorld.copy(y.matrix)},children:[k.jsx("meshBasicMaterial",{blending:vl}),"0"]}),f&&k.jsx(zk,{textAlign:"justify",matrixAutoUpdate:!1,ref:x,fontSize:8,position:[-d/2+c+a,p/2-l-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Ms.value-=1,y.matrixWorld.copy(y.matrix)},children:k.jsx("meshBasicMaterial",{blending:vl})})]})}),ohe=({colorBlind:n,customData:e,minimal:t,matrixUpdate:i})=>k.jsxs(k.Fragment,{children:[k.jsx(qs,{colorBlind:n,color:`rgb(${dr(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),k.jsx(qs,{color:`rgb(${dr(n).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),k.jsx(qs,{color:`rgb(${dr(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:k.jsxs(k.Fragment,{children:[k.jsx(qs,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),k.jsx(qs,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),k.jsx(qs,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),k.jsx(qs,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),k.jsx(qs,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),k.jsx(qs,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),k.jsx(qs,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),i&&k.jsx(qs,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&k.jsx(qs,{color:`rgb(${dr(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:e.round||2})]}),ahe=({colorBlind:n,minimal:e,chart:t={length:120,hz:60}})=>{const i=I.useMemo(()=>({fps:new Float32Array(t.length*3),cpu:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),r=I.useRef(null),s=I.useRef(null),o=I.useRef(null),a=I.useRef(null),l=I.useMemo(()=>new Y(0,0,0),[]),c=(u,f=1,d,p)=>{let g=0;const{width:x,height:y}=p,v=uo().chart.data[u];if(!v||v.length===0)return;const _=e?2:6,A=e?12:50;let w=v.length;for(let E=0;E<w;E++){let M=(uo().chart.circularId+E+1)%w;v[M]!==void 0&&(v[M]>g&&(g=v[M]*f),l.set(_+E/(w-1)*(x-_*2)-x/2,Math.min(100,v[M])*f/100*(y-_*2-A)-y/2,0),l.toArray(d.attributes.position.array,E*3))}d.attributes.position.needsUpdate=!0};return Sr(function({viewport:f}){c("fps",1,r.current,f),s.current&&s.current.color.set(uo().overclockingFps?dr(n).overClock.toString():`rgb(${dr(n).fps.toString()})`),c("gpu",5,o.current,f),c("cpu",5,a.current,f)}),k.jsxs(k.Fragment,{children:[k.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ms.value-=1,u.matrixWorld.copy(u.matrix)},children:[k.jsx("bufferGeometry",{ref:r,children:k.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.fps,itemSize:3,usage:E1,needsUpdate:!0})}),k.jsx("lineBasicMaterial",{ref:s,color:`rgb(${dr(n).fps.toString()})`,transparent:!0,opacity:.5})]}),k.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ms.value-=1,u.matrixWorld.copy(u.matrix)},children:[k.jsx("bufferGeometry",{ref:o,children:k.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.gpu,itemSize:3,usage:E1,needsUpdate:!0})}),k.jsx("lineBasicMaterial",{color:`rgb(${dr(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),k.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ms.value-=1,u.matrixWorld.copy(u.matrix)},children:[k.jsx("bufferGeometry",{ref:a,children:k.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.cpu,itemSize:3,usage:E1,needsUpdate:!0})}),k.jsx("lineBasicMaterial",{color:`rgb(${dr(n).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},lhe=({colorBlind:n,chart:e,customData:t,matrixUpdate:i,showGraph:r=!0,antialias:s=!0,minimal:o})=>{const a=I.useRef(void 0),l=xo(c=>c.paused);return k.jsxs(pde,{style:{display:"flex",position:"absolute",height:`${o?37:r?100:60}px`,minWidth:`${o?"100px":t?"370px":"310px"}`},children:[k.jsx(K_,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:c})=>{c.traverse(u=>{u.matrixWorldAutoUpdate=!1,u.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:r?100:60}px`},children:l?null:k.jsxs(k.Fragment,{children:[k.jsx(che,{}),k.jsx(ohe,{customData:t,minimal:o,matrixUpdate:i}),r&&k.jsx(ahe,{colorBlind:n,minimal:o,chart:e})]})}),l&&k.jsxs(mde,{children:[k.jsx(Kde,{})," PAUSED"]})]})},che=()=>(Sr(function({gl:e,scene:t,camera:i}){i.updateMatrix(),Ms.value-=1,i.matrixWorld.copy(i.matrix),i.matrixWorldInverse.copy(i.matrixWorld).invert(),e.render(t,i),nh.value=0,Ms.value=0},1/0),null),uhe=I.forwardRef(({portal:n,className:e,children:t,name:i,...r},s)=>{const o=cr(u=>u.gl),a=I.useRef(null),l=I.useRef(null),c=(n==null?void 0:n.current)!=null?n.current:o.domElement.parentNode;return I.useLayoutEffect(()=>{if(!a.current||!c)return;const u=document.createElement("div"),f=l.current=u_(u);return c.appendChild(u),()=>{f.unmount(),l.current=null,c.removeChild(u)}},[c]),I.useLayoutEffect(()=>{const u=l.current;u&&u.render(k.jsx("div",{ref:s,className:e,children:t}))}),k.jsx("group",{name:i,...r,ref:a})});function fhe(n){let e=0;for(let i in n.attributes){const r=n.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}const lO=(n,e)=>{const t=r=>{switch(r){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},i=r=>{switch(r){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:i(e.encoding),wrapT:t(e.wrapT),flipY:e.flipY.toString()}},dhe=({program:n,material:e,setTexNumber:t})=>{const i=xo(o=>o.gl),[r,s]=I.useState(null);return I.useEffect(()=>{if(i){const o=n==null?void 0:n.getUniforms();let a=0;const l=new Map;o.seq.forEach(c=>{if(!c.id.includes("uTroika")&&c.id!=="isOrthographic"&&c.id!=="uvTransform"&&c.id!=="lightProbe"&&c.id!=="projectionMatrix"&&c.id!=="viewMatrix"&&c.id!=="normalMatrix"&&c.id!=="modelMatrix"&&c.id!=="modelViewMatrix"){let u=[],f={name:c.id};c.cache&&(c.cache.forEach(d=>{typeof d<"u"&&u.push(d.toString().substring(0,4))}),f.value=u.join(),e[c.id]&&e[c.id].image&&e[c.id].image&&(a++,f.value=lO(c.id,e[c.id])),f.value||(f.value="empty"),l.set(c.id,f))}}),e.uniforms&&Object.keys(e.uniforms).forEach(c=>{const u=e.uniforms[c];if(u.value){const{value:f}=u;let d={name:c};if(c.includes("uTroika"))return;if(f.isTexture)a++,d.value=lO(c,f);else{let p=JSON.stringify(f);try{p=JSON.stringify(f)}catch{p=f.toString()}d.value=p}l.set(c,d)}}),a>0&&t(a),s(l)}},[]),k.jsx(Kz,{children:r&&Array.from(r.values()).map(o=>k.jsx("span",{children:typeof o.value=="string"?k.jsx("li",{children:k.jsxs("span",{children:[o.name," :"," ",k.jsxs("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):k.jsxs(k.Fragment,{children:[k.jsx("li",{children:k.jsxs("b",{children:[o.value.name,":"]})}),k.jsxs("div",{children:[Object.keys(o.value).map(a=>a!=="name"?k.jsx("div",{children:a==="url"?k.jsx("a",{href:o.value[a],target:"_blank",children:k.jsx("img",{src:o.value[a]})}):k.jsxs("li",{children:[a,": ",k.jsx("b",{children:o.value[a]})]})},a):null),k.jsxs(qz,{onClick:()=>{var a;console.info(e[o.value.name]||((a=e==null?void 0:e.uniforms[o.value.name])==null?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},hhe=({el:n})=>{xo(i=>i.log);const e=xo(i=>i.gl),t=i=>{if(!e)return 0;const r=Math.round(i.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(r)&&r||0};return k.jsx(k.Fragment,{children:n.drawCounts.total>0&&k.jsxs(fr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?k.jsx(t6,{style:{top:"-1px"}}):k.jsx(Qz,{style:{top:"-1px"}}),n.drawCounts.total,k.jsxs("small",{children:[n.drawCounts.type,"s"]}),e&&k.jsxs(Jr,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},phe=({el:n})=>{const[e,t]=I.useState(n.visible),[i,r]=I.useState(n.expand),[s,o]=I.useState(0),{meshes:a,program:l,material:c}=n;return k.jsxs(vde,{children:[k.jsxs(hde,{onClick:()=>{n.expand=!i,Object.keys(a).forEach(u=>{const f=a[u];f.material.wireframe=!1}),r(!i)},children:[k.jsx(KT,{style:{marginRight:"6px"},children:i?k.jsx("span",{children:k.jsx(Zz,{})}):k.jsx("span",{children:k.jsx(e6,{})})}),l&&k.jsxs("span",{children:[k.jsx(yde,{children:l.name}),k.jsxs(fr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[k.jsx(Gde,{style:{top:"-1px"}}),Object.keys(a).length,k.jsx("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&k.jsxs(fr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?k.jsx(eM,{style:{top:"-1px"}}):k.jsx(eM,{style:{top:"-1px"}}),s,k.jsx("small",{children:"tex"})]}),k.jsx(hhe,{el:n}),c.glslVersion==="300 es"&&k.jsxs(fr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[k.jsx(Qde,{style:{top:"-1px"}}),"300",k.jsx("small",{children:"es"}),k.jsx(Jr,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),k.jsx(gde,{onPointerEnter:()=>{Object.keys(a).forEach(u=>{const f=a[u];f.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(u=>{const f=a[u];f.material.wireframe=!1})},onClick:u=>{u.stopPropagation(),Object.keys(a).forEach(f=>{const d=a[f],p=!e;d.visible=p,n.visible=p,t(p)})},children:e?k.jsx(Fde,{}):k.jsx(Bde,{})})]}),k.jsxs("div",{style:{maxHeight:i?"9999px":0,overflow:"hidden"},children:[k.jsxs(aO,{children:[k.jsx(Cde,{})," Uniforms:"]}),k.jsx(dhe,{program:l,material:c,setTexNumber:o}),k.jsxs(aO,{children:[k.jsx(Rde,{})," Geometries:"]}),k.jsx(Kz,{children:a&&Object.keys(a).map(u=>a[u]&&a[u].geometry&&k.jsxs(bde,{children:[k.jsxs("span",{children:[a[u].geometry.type,": "]}),a[u].userData&&a[u].userData.drawCount&&k.jsxs("b",{children:[k.jsxs("div",{children:[a[u].userData.drawCount.count,k.jsxs("small",{children:[" ",a[u].userData.drawCount.type,"s"]})]}),k.jsx("br",{}),k.jsxs("div",{children:[Math.round(fhe(a[u].geometry)/1024*1e3)/1e3,"Kb",k.jsx("small",{children:" memory used"})]})]})]},u))}),k.jsxs(qz,{onClick:()=>{console.info(c)},children:["console.info(",c.type,")"]})]})]})},mhe=()=>{xo(e=>e.triggerProgramsUpdate);const n=xo(e=>e.programs);return k.jsx(_de,{children:n&&Array.from(n.values()).map(e=>e&&e?k.jsx(phe,{el:e},e.material.uuid):null)})},dr=n=>({overClock:"#ff6eff",fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),ghe=({showGraph:n,colorBlind:e})=>{const t=xo(r=>r.overclockingFps),i=xo(r=>r.fpsLimit);return k.jsxs(Jr,{style:n?{color:t?dr(e).overClock.toString():`rgb(${dr(e).fps})`}:{},children:["FPS ",t?`${i}🚀`:""]})},vhe=({showGraph:n,colorBlind:e,customData:t,minimal:i})=>{const r=xo(s=>s.gl);return r?k.jsxs(dde,{children:[k.jsxs(fr,{children:[k.jsx(Wde,{}),k.jsx(Jr,{style:n?{color:`rgb(${dr(e).gpu.toString()})`}:{},children:"GPU"}),k.jsx($w,{children:"ms"})]}),k.jsxs(fr,{children:[k.jsx(ehe,{}),k.jsx(Jr,{style:n?{color:`rgb(${dr(e).cpu.toString()})`}:{},children:"CPU"}),k.jsx($w,{children:"ms"})]}),k.jsxs(fr,{children:[k.jsx(zde,{}),k.jsx(ghe,{showGraph:n,colorBlind:e})]}),!i&&r&&k.jsxs(fr,{children:[k.jsx(nhe,{}),k.jsx(Jr,{children:r.info.render.calls===1?"call":"calls"})]}),!i&&r&&k.jsxs(fr,{children:[k.jsx(t6,{}),k.jsx(Jr,{children:"Triangles"})]}),t&&k.jsxs(fr,{children:[k.jsx(Ede,{}),k.jsx(Jr,{style:n?{color:`rgb(${dr(e).custom})`}:{},children:t.name}),t.info&&k.jsx($w,{children:t.info})]})]}):null},yhe=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:i,matrixUpdate:r,openByDefault:s,minimal:o})=>k.jsxs(k.Fragment,{children:[k.jsx(vhe,{showGraph:n,colorBlind:e,customData:i,minimal:o}),!o&&k.jsx(_he,{matrixUpdate:r,openByDefault:s,deepAnalyze:t,showGraph:n})]}),xhe=({matrixUpdate:n})=>k.jsxs("div",{children:[k.jsxs(fr,{children:[k.jsx($de,{}),k.jsx(Jr,{children:"Geometries"})]}),k.jsxs(fr,{children:[k.jsx(eM,{}),k.jsx(Jr,{children:"Textures"})]}),k.jsxs(fr,{children:[k.jsx(Qz,{}),k.jsx(Jr,{children:"shaders"})]}),k.jsxs(fr,{children:[k.jsx(Yde,{}),k.jsx(Jr,{children:"Lines"})]}),k.jsxs(fr,{children:[k.jsx(Ide,{}),k.jsx(Jr,{children:"Points"})]}),n&&k.jsxs(fr,{children:[k.jsx(Lde,{}),k.jsx(Jr,{children:"Matrices"})]})]}),cO=({tab:n,title:e,set:t})=>{const i=xo(r=>r.tab);return k.jsx(KT,{className:`${i===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),ys({tab:n})},children:k.jsx("span",{children:e})})},_he=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:i})=>{const[r,s]=te.useState(n);return k.jsxs("span",{children:[k.jsx(Ahe,{show:r,showGraph:e,matrixUpdate:i}),n&&!t?null:k.jsxs(Ade,{className:"__perf_toggle",children:[t&&k.jsx(cO,{tab:"programs",title:"Programs",set:s}),t&&k.jsx(cO,{tab:"infos",title:"Infos",set:s}),k.jsx(KT,{onClick:()=>{s(!r)},children:r?k.jsxs("span",{children:[k.jsx(Zz,{})," Minimize"]}):k.jsxs("span",{children:[k.jsx(e6,{})," More"]})})]})]})},Ahe=({show:n,showGraph:e,matrixUpdate:t})=>{const i=xo(r=>r.tab);return k.jsxs(k.Fragment,{children:[k.jsx(xhe,{matrixUpdate:t}),n&&k.jsx("div",{children:k.jsx(xde,{style:{marginTop:e?"38px":0},children:i==="programs"&&k.jsx(mhe,{})})})]})},bhe=({showGraph:n=!0,colorBlind:e=!1,openByDefault:t=!0,className:i,overClock:r=!1,style:s,position:o="top-right",chart:a,logsPerSecond:l,deepAnalyze:c=!1,antialias:u=!0,customData:f,matrixUpdate:d,minimal:p})=>{const g=I.useRef(null);return k.jsxs(k.Fragment,{children:[k.jsx(ude,{logsPerSecond:l,chart:a,overClock:r,deepAnalyze:c,matrixUpdate:d}),k.jsx(uhe,{name:"r3f-perf",children:k.jsxs(fde,{className:(i?" ".concat(i):" ")+` ${o||""} ${p?"minimal":""}`,style:{minHeight:p?"37px":n?"100px":"60px",...s},ref:g,children:[k.jsx(lhe,{perfContainerRef:g,colorBlind:e,chart:a,showGraph:n,antialias:u,customData:f,minimal:p,matrixUpdate:d}),k.jsx(yhe,{colorBlind:e,showGraph:n,deepAnalyze:c,openByDefault:t,customData:f,matrixUpdate:d,minimal:p})]})})]})};function rl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function n6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Rs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Kh={duration:.5,overwrite:!1,delay:0},qT,gr,pi,fo=1e8,hn=1/fo,tM=Math.PI*2,whe=tM/4,She=0,i6=Math.sqrt,Ehe=Math.cos,Mhe=Math.sin,zi=function(e){return typeof e=="string"},Zn=function(e){return typeof e=="function"},Dl=function(e){return typeof e=="number"},QT=function(e){return typeof e>"u"},ka=function(e){return typeof e=="object"},ss=function(e){return e!==!1},ZT=function(){return typeof window<"u"},n1=function(e){return Zn(e)||zi(e)},r6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},vr=Array.isArray,nM=/(?:-?\.?\d|\.)+/gi,s6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ih=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Xw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,o6=/[+-]=-?[.\d]+/,a6=/[^,'"\[\]\s]+/gi,Che=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,zn,io,iM,e3,Ls={},Ox={},l6,c6=function(e){return(Ox=Mf(e,Ls))&&cs},t3=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Fx=function(e,t){return!t&&console.warn(e)},u6=function(e,t){return e&&(Ls[e]=t)&&Ox&&(Ox[e]=t)||Ls},Zg=function(){return 0},The={suppressEvents:!0,isStart:!0,kill:!1},I1={suppressEvents:!0,kill:!1},Rhe={suppressEvents:!0},n3={},Ic=[],rM={},f6,As={},Yw={},uO=30,D1=[],i3="",r3=function(e){var t=e[0],i,r;if(ka(t)||Zn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=D1.length;r--&&!D1[r].targetTest(t););i=D1[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new B6(e[r],i)))||e.splice(r,1);return e},lf=function(e){return e._gsap||r3(ho(e))[0]._gsap},d6=function(e,t,i){return(i=e[t])&&Zn(i)?e[t]():QT(i)&&e.getAttribute&&e.getAttribute(t)||i},os=function(e,t){return(e=e.split(",")).forEach(t)||e},ri=function(e){return Math.round(e*1e5)/1e5||0},Xi=function(e){return Math.round(e*1e7)/1e7||0},bh=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},Phe=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},Ux=function(){var e=Ic.length,t=Ic.slice(0),i,r;for(rM={},Ic.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},h6=function(e,t,i,r){Ic.length&&!gr&&Ux(),e.render(t,i,r||gr&&t<0&&(e._initted||e._startAt)),Ic.length&&!gr&&Ux()},p6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(a6).length<2?t:zi(e)?e.trim():e},m6=function(e){return e},_o=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Ihe=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Mf=function(e,t){for(var i in t)e[i]=t[i];return e},fO=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ka(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},Nx=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},og=function(e){var t=e.parent||zn,i=e.keyframes?Ihe(vr(e.keyframes)):_o;if(ss(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},Dhe=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},g6=function(e,t,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},aA=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Xc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},cf=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Lhe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},sM=function(e,t,i,r){return e._startAt&&(gr?e._startAt.revert(I1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},khe=function n(e){return!e||e._ts&&n(e.parent)},dO=function(e){return e._repeat?qh(e._tTime,e=e.duration()+e._rDelay)*e:0},qh=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},zx=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},lA=function(e){return e._end=Xi(e._start+(e._tDur/Math.abs(e._ts||e._rts||hn)||0))},cA=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Xi(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),lA(e),i._dirty||cf(i,e)),e},v6=function(e,t){var i;if((t._time||t._initted&&!t._dur)&&(i=zx(e.rawTime(),t),(!t._dur||B0(0,t.totalDuration(),i)-t._tTime>hn)&&t.render(i,!0)),cf(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-hn}},ya=function(e,t,i,r){return t.parent&&Xc(t),t._start=Xi((Dl(i)?i:i||e!==zn?to(e,i,t):e._time)+t._delay),t._end=Xi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),g6(e,t,"_first","_last",e._sort?"_start":0),oM(t)||(e._recent=t),r||v6(e,t),e._ts<0&&cA(e,e._tTime),e},y6=function(e,t){return(Ls.ScrollTrigger||t3("scrollTrigger",t))&&Ls.ScrollTrigger.create(t,e)},x6=function(e,t,i,r,s){if(o3(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!gr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&f6!==bs.frame)return Ic.push(e),e._lazy=[s,r],1},Bhe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},oM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Ohe=function(e,t,i,r){var s=e.ratio,o=t<0||!t&&(!e._start&&Bhe(e)&&!(!e._initted&&oM(e))||(e._ts<0||e._dp._ts<0)&&!oM(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=B0(0,e._tDur,t),u=qh(l,a),e._yoyo&&u&1&&(o=1-o),u!==qh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||gr||r||e._zTime===hn||!t&&e._zTime){if(!e._initted&&x6(e,t,r,i,l))return;for(f=e._zTime,e._zTime=t||(i?hn:0),i||(i=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&sM(e,t,i,!0),e._onUpdate&&!i&&po(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&po(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Xc(e,1),!i&&!gr&&(po(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Fhe=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Qh=function(e,t,i,r){var s=e._repeat,o=Xi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Xi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&cA(e,e._tTime=e._tDur*a),e.parent&&lA(e),i||cf(e.parent,e),e},hO=function(e){return e instanceof Qr?cf(e):Qh(e,e._dur)},Uhe={_start:0,endTime:Zg,totalDuration:Zg},to=function n(e,t,i){var r=e.labels,s=e._recent||Uhe,o=e.duration()>=fo?s.endTime(!1):e._dur,a,l,c;return zi(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(vr(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},ag=function(e,t,i){var r=Dl(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ss(l.vars.inherit)&&l.parent;o.immediateRender=ss(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new bi(t[0],o,t[s+1])},iu=function(e,t){return e||e===0?t(e):t},B0=function(e,t,i){return i<e?e:i>t?t:i},hr=function(e,t){return!zi(e)||!(t=Che.exec(e))?"":t[1]},Nhe=function(e,t,i){return iu(i,function(r){return B0(e,t,r)})},aM=[].slice,_6=function(e,t){return e&&ka(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ka(e[0]))&&!e.nodeType&&e!==io},zhe=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return zi(r)&&!t||_6(r,1)?(s=i).push.apply(s,ho(r)):i.push(r)})||i},ho=function(e,t,i){return pi&&!t&&pi.selector?pi.selector(e):zi(e)&&!i&&(iM||!Zh())?aM.call((t||e3).querySelectorAll(e),0):vr(e)?zhe(e,i):_6(e)?aM.call(e,0):e?[e]:[]},lM=function(e){return e=ho(e)[0]||Fx("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return ho(t,i.querySelectorAll?i:i===e?Fx("Invalid scope")||e3.createElement("div"):e)}},A6=function(e){return e.sort(function(){return .5-Math.random()})},b6=function(e){if(Zn(e))return e;var t=ka(e)?e:{each:e},i=uf(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,f=r;return zi(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],f=r[1]),function(d,p,g){var x=(g||t).length,y=o[x],v,_,A,w,E,M,C,P,T;if(!y){if(T=t.grid==="auto"?0:(t.grid||[1,fo])[1],!T){for(C=-fo;C<(C=g[T++].getBoundingClientRect().left)&&T<x;);T--}for(y=o[x]=[],v=l?Math.min(T,x)*u-.5:r%T,_=T===fo?0:l?x*f/T-.5:r/T|0,C=0,P=fo,M=0;M<x;M++)A=M%T-v,w=_-(M/T|0),y[M]=E=c?Math.abs(c==="y"?w:A):i6(A*A+w*w),E>C&&(C=E),E<P&&(P=E);r==="random"&&A6(y),y.max=C-P,y.min=P,y.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(T>x?x-1:c?c==="y"?x/T:T:Math.max(T,x/T))||0)*(r==="edges"?-1:1),y.b=x<0?s-x:s,y.u=hr(t.amount||t.each)||0,i=i&&x<0?D6(i):i}return x=(y[d]-y.min)/y.max||0,Xi(y.b+(i?i(x):x)*y.v)+y.u}},cM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Xi(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Dl(i)?0:hr(i))}},w6=function(e,t){var i=vr(e),r,s;return!i&&ka(e)&&(r=i=e.radius||fo,e.values?(e=ho(e.values),(s=!Dl(e[0]))&&(r*=r)):e=cM(e.increment)),iu(t,i?Zn(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=fo,u=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<c&&(c=d,u=f);return u=!r||c<=r?e[u]:o,s||u===o||Dl(o)?u:u+hr(o)}:cM(e))},S6=function(e,t,i,r){return iu(vr(e)?!t:i===!0?!!(i=0):!r,function(){return vr(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},Hhe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},Ghe=function(e,t){return function(i){return e(parseFloat(i))+(t||hr(i))}},Vhe=function(e,t,i){return M6(e,t,0,1,i)},E6=function(e,t,i){return iu(i,function(r){return e[~~t(r)]})},Whe=function n(e,t,i){var r=t-e;return vr(e)?E6(e,n(0,e.length),t):iu(i,function(s){return(r+(s-e)%r)%r+e})},jhe=function n(e,t,i){var r=t-e,s=r*2;return vr(e)?E6(e,n(0,e.length-1),t):iu(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},e0=function(e){for(var t=0,i="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?a6:nM),i+=e.substr(t,r-t)+S6(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},M6=function(e,t,i,r,s){var o=t-e,a=r-i;return iu(s,function(l){return i+((l-e)/o*a||0)})},$he=function n(e,t,i,r){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=zi(e),a={},l,c,u,f,d;if(i===!0&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(vr(e)&&!vr(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var x=Math.min(d,~~g);return u[x](g-x)},i=t}else r||(e=Mf(vr(e)?[]:{},e));if(!u){for(l in t)s3.call(a,e,l,"get",t[l]);s=function(g){return c3(g,a)||(o?e.p:e)}}}return iu(i,s)},pO=function(e,t,i){var r=e.labels,s=fo,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},po=function(e,t,i){var r=e.vars,s=r[t],o=pi,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&Ic.length&&Ux(),a&&(pi=a),u=l?s.apply(c,l):s.call(c),pi=o,u},Om=function(e){return Xc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!gr),e.progress()<1&&po(e,"onInterrupt"),e},rh,C6=[],T6=function(e){if(!ZT()){C6.push(e);return}e=!e.name&&e.default||e;var t=e.name,i=Zn(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Zg,render:c3,add:s3,kill:lpe,modifier:ape,rawVars:0},o={targetTest:0,get:0,getSetter:l3,aliases:{},register:0};if(Zh(),e!==r){if(As[t])return;_o(r,_o(Nx(e,s),o)),Mf(r.prototype,Mf(s,Nx(e,o))),As[r.prop=t]=r,e.targetTest&&(D1.push(r),n3[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}u6(t,r),e.register&&e.register(cs,r,as)},dn=255,Fm={aqua:[0,dn,dn],lime:[0,dn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,dn],navy:[0,0,128],white:[dn,dn,dn],olive:[128,128,0],yellow:[dn,dn,0],orange:[dn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[dn,0,0],pink:[dn,192,203],cyan:[0,dn,dn],transparent:[dn,dn,dn,0]},Jw=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*dn+.5|0},R6=function(e,t,i){var r=e?Dl(e)?[e>>16,e>>8&dn,e&dn]:0:Fm.black,s,o,a,l,c,u,f,d,p,g;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Fm[e])r=Fm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&dn,r&dn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&dn,e&dn]}else if(e.substr(0,3)==="hsl"){if(r=g=e.match(nM),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=Jw(l+1/3,s,o),r[1]=Jw(l,s,o),r[2]=Jw(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(s6),i&&r.length<4&&(r[3]=1),r}else r=e.match(nM)||Fm.transparent;r=r.map(Number)}return t&&!g&&(s=r[0]/dn,o=r[1]/dn,a=r[2]/dn,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(p=f-d,c=u>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},P6=function(e){var t=[],i=[],r=-1;return e.split(Dc).forEach(function(s){var o=s.match(ih)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},mO=function(e,t,i){var r="",s=(e+r).match(Dc),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(d){return(d=R6(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=P6(e),l=i.c,l.join(r)!==u.c.join(r)))for(c=e.replace(Dc,"1").split(ih),f=c.length-1;a<f;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=e.split(Dc),f=c.length-1;a<f;a++)r+=c[a]+s[a];return r+c[f]},Dc=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Fm)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Xhe=/hsl[a]?\(/,I6=function(e){var t=e.join(" "),i;if(Dc.lastIndex=0,Dc.test(t))return i=Xhe.test(t),e[1]=mO(e[1],i),e[0]=mO(e[0],i,P6(e[1])),!0},t0,bs=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],l,c,u,f,d,p,g=function x(y){var v=n()-r,_=y===!0,A,w,E,M;if(v>e&&(i+=v-t),r+=v,E=r-i,A=E-o,(A>0||_)&&(M=++f.frame,d=E-f.time*1e3,f.time=E=E/1e3,o+=A+(A>=s?4:s-A),w=1),_||(l=c(x)),w)for(p=0;p<a.length;p++)a[p](E,d,M,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){l6&&(!iM&&ZT()&&(io=iM=window,e3=io.document||{},Ls.gsap=cs,(io.gsapVersions||(io.gsapVersions=[])).push(cs.version),c6(Ox||io.GreenSockGlobals||!io.gsap&&io||{}),u=io.requestAnimationFrame,C6.forEach(T6)),l&&f.sleep(),c=u||function(y){return setTimeout(y,o-f.time*1e3+1|0)},t0=1,g(2))},sleep:function(){(u?io.cancelAnimationFrame:clearTimeout)(l),t0=0,c=Zg},lagSmoothing:function(y,v){e=y||1/0,t=Math.min(v||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,v,_){var A=v?function(w,E,M,C){y(w,E,M,C),f.remove(A)}:y;return f.remove(y),a[_?"unshift":"push"](A),Zh(),A},remove:function(y,v){~(v=a.indexOf(y))&&a.splice(v,1)&&p>=v&&p--},_listeners:a},f}(),Zh=function(){return!t0&&bs.wake()},jt={},Yhe=/^[\d.\-M][\d.\-,\s]/,Jhe=/["']/g,Khe=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(Jhe,"").trim():+c,r=l.substr(a+1).trim();return t},qhe=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Qhe=function(e){var t=(e+"").split("("),i=jt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Khe(t[1])]:qhe(e).split(",").map(p6)):jt._CE&&Yhe.test(e)?jt._CE("",e):i},D6=function(e){return function(t){return 1-e(1-t)}},L6=function n(e,t){for(var i=e._first,r;i;)i instanceof Qr?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},uf=function(e,t){return e&&(Zn(e)?e:jt[e]||Qhe(e))||t},Ff=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},o;return os(e,function(a){jt[a]=Ls[a]=s,jt[o=a.toLowerCase()]=i;for(var l in s)jt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=jt[a+"."+l]=s[l]}),s},k6=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Kw=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/tM*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*Mhe((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:k6(a);return s=tM/s,l.config=function(c,u){return n(e,c,u)},l},qw=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:k6(i);return r.config=function(s){return n(e,s)},r};os("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ff(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});jt.Linear.easeNone=jt.none=jt.Linear.easeIn;Ff("Elastic",Kw("in"),Kw("out"),Kw());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<r?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Ff("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ff("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Ff("Circ",function(n){return-(i6(1-n*n)-1)});Ff("Sine",function(n){return n===1?1:-Ehe(n*whe)+1});Ff("Back",qw("in"),qw("out"),qw());jt.SteppedEase=jt.steps=Ls.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-hn;return function(a){return((r*B0(0,o,a)|0)+s)*i}}};Kh.ease=jt["quad.out"];os("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return i3+=n+","+n+"Params,"});var B6=function(e,t){this.id=She++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:d6,this.set=t?t.getSetter:l3},ep=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Qh(this,+t.duration,1,1),this.data=t.data,pi&&(this._ctx=pi,pi.data.push(this)),t0||bs.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Qh(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(Zh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(cA(this,i),!s._dp||s.parent||v6(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ya(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===hn||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),h6(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+dO(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+dO(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?qh(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-hn?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?zx(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-hn?0:this._rts,this.totalTime(B0(-Math.abs(this._delay),this._tDur,r),!0),lA(this),Lhe(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Zh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==hn&&(this._tTime-=hn)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&ya(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ss(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zx(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Rhe);var r=gr;return gr=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),gr=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,hO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,hO(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(to(this,i),ss(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ss(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-hn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-hn,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-hn)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=Zn(i)?i:m6,a=function(){var c=r.then;r.then=null,Zn(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Om(this)},n}();_o(ep.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-hn,_prom:0,_ps:!1,_rts:1});var Qr=function(n){n6(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=ss(i.sortChildren),zn&&ya(i.parent||zn,rl(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&y6(rl(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return ag(0,arguments,this),this},t.from=function(r,s,o){return ag(1,arguments,this),this},t.fromTo=function(r,s,o,a){return ag(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,og(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new bi(r,s,to(this,o),1),this},t.call=function(r,s,o){return ya(this,bi.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new bi(r,o,to(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,og(o).immediateRender=ss(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,f){return a.startAt=o,og(a).immediateRender=ss(a.immediateRender),this.staggerTo(r,s,a,l,c,u,f)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Xi(r),f=this._zTime<0!=r<0&&(this._initted||!c),d,p,g,x,y,v,_,A,w,E,M,C;if(this!==zn&&u>l&&r>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),d=u,w=this._start,A=this._ts,v=!A,f&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(M=this._yoyo,y=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(y*100+r,s,o);if(d=Xi(u%y),u===l?(x=this._repeat,d=c):(x=~~(u/y),x&&x===u/y&&(d=c,x--),d>c&&(d=c)),E=qh(this._tTime,y),!a&&this._tTime&&E!==x&&this._tTime-E*y-this._dur<=0&&(E=x),M&&x&1&&(d=c-d,C=1),x!==E&&!this._lock){var P=M&&E&1,T=P===(M&&x&1);if(x<E&&(P=!P),a=P?0:c,this._lock=1,this.render(a||(C?0:Xi(x*y)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&po(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=P?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;L6(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=Fhe(this,Xi(a),Xi(d)),_&&(u-=d-(d=_._start))),this._tTime=u,this._time=d,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&d&&!s&&!x&&(po(this,"onStart"),this._tTime!==u))return this;if(d>=a&&r>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&_!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!v){_=0,g&&(u+=this._zTime=-hn);break}}p=g}else{p=this._last;for(var D=r<0?r:d;p;){if(g=p._prev,(p._act||D<=p._end)&&p._ts&&_!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,s,o||gr&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!v){_=0,g&&(u+=this._zTime=D?-hn:hn);break}}p=g}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-hn)._zTime=d>=a?1:-1,this._ts))return this._start=w,lA(this),this.render(r,s,o);this._onUpdate&&!s&&po(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Xc(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(po(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Dl(s)||(s=to(this,s,r)),!(r instanceof ep)){if(vr(r))return r.forEach(function(a){return o.add(a,s)}),this;if(zi(r))return this.addLabel(r,s);if(Zn(r))r=bi.delayedCall(0,r);else return this}return this!==r?ya(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-fo);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof bi?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return zi(r)?this.removeLabel(r):Zn(r)?this.killTweensOf(r):(aA(this,r),r===this._recent&&(this._recent=this._last),cf(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xi(bs.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=to(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=bi.delayedCall(0,s||Zg,o);return a.data="isPause",this._hasPause=1,ya(this,a,to(this,r))},t.removePause=function(r){var s=this._first;for(r=to(this,r);s;)s._start===r&&s.data==="isPause"&&Xc(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)mc!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=ho(r),l=this._first,c=Dl(s),u;l;)l instanceof bi?Phe(l._targets,a)&&(c?(!mc||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=to(o,r),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=bi.to(o,_o({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||hn,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==y&&Qh(g,y,0,1).render(g._time,!0,!0),p=1}u&&u.apply(g,f||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,_o({startAt:{time:to(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),pO(this,to(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),pO(this,to(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+hn)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return cf(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),cf(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=fo,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ya(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Qh(o,o===zn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(zn._ts&&(h6(zn,zx(r,zn)),f6=bs.frame),bs.frame>=uO){uO+=Rs.autoSleep||120;var s=zn._first;if((!s||!s._ts)&&Rs.autoSleep&&bs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||bs.sleep()}}},e}(ep);_o(Qr.prototype,{_lock:0,_hasPause:0,_forcing:0});var Zhe=function(e,t,i,r,s,o,a){var l=new as(this._pt,e,t,0,1,H6,null,s),c=0,u=0,f,d,p,g,x,y,v,_;for(l.b=i,l.e=r,i+="",r+="",(v=~r.indexOf("random("))&&(r=e0(r)),o&&(_=[i,r],o(_,e,t),i=_[0],r=_[1]),d=i.match(Xw)||[];f=Xw.exec(r);)g=f[0],x=r.substring(c,f.index),p?p=(p+1)%5:x.substr(-5)==="rgba("&&(p=1),g!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:x||u===1?x:",",s:y,c:g.charAt(1)==="="?bh(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},c=Xw.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(o6.test(r)||v)&&(l.e=0),this._pt=l,l},s3=function(e,t,i,r,s,o,a,l,c,u){Zn(r)&&(r=r(s||0,e,o));var f=e[t],d=i!=="get"?i:Zn(f)?c?e[t.indexOf("set")||!Zn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,p=Zn(f)?c?rpe:N6:a3,g;if(zi(r)&&(~r.indexOf("random(")&&(r=e0(r)),r.charAt(1)==="="&&(g=bh(d,r)+(hr(d)||0),(g||g===0)&&(r=g))),!u||d!==r||uM)return!isNaN(d*r)&&r!==""?(g=new as(this._pt,e,t,+d||0,r-(d||0),typeof f=="boolean"?ope:z6,0,p),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&t3(t,r),Zhe.call(this,e,t,d,r,p,l||Rs.stringFilter,c))},epe=function(e,t,i,r,s){if(Zn(e)&&(e=lg(e,s,t,i,r)),!ka(e)||e.style&&e.nodeType||vr(e)||r6(e))return zi(e)?lg(e,s,t,i,r):e;var o={},a;for(a in e)o[a]=lg(e[a],s,t,i,r);return o},O6=function(e,t,i,r,s,o){var a,l,c,u;if(As[e]&&(a=new As[e]).init(s,a.rawVars?t[e]:epe(t[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new as(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==rh))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},mc,uM,o3=function n(e,t,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.onUpdateParams,f=r.callbackScope,d=r.runBackwards,p=r.yoyoEase,g=r.keyframes,x=r.autoRevert,y=e._dur,v=e._startAt,_=e._targets,A=e.parent,w=A&&A.data==="nested"?A.vars.targets:_,E=e._overwrite==="auto"&&!qT,M=e.timeline,C,P,T,D,O,N,z,G,W,J,Z,H,$;if(M&&(!g||!s)&&(s="none"),e._ease=uf(s,Kh.ease),e._yEase=p?D6(uf(p===!0?s:p,Kh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!M&&!!r.runBackwards,!M||g&&!r.stagger){if(G=_[0]?lf(_[0]).harness:0,H=G&&r[G.prop],C=Nx(r,n3),v&&(v._zTime<0&&v.progress(1),t<0&&d&&a&&!x?v.render(-1,!0):v.revert(d&&y?I1:The),v._lazy=0),o){if(Xc(e._startAt=bi.set(_,_o({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!v&&ss(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gr||!a&&!x)&&e._startAt.revert(I1),a&&y&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(d&&y&&!v){if(t&&(a=!1),T=_o({overwrite:!1,data:"isFromStart",lazy:a&&!v&&ss(l),immediateRender:a,stagger:0,parent:A},C),H&&(T[G.prop]=H),Xc(e._startAt=bi.set(_,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gr?e._startAt.revert(I1):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,hn,hn);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&ss(l)||l&&!y,P=0;P<_.length;P++){if(O=_[P],z=O._gsap||r3(_)[P]._gsap,e._ptLookup[P]=J={},rM[z.id]&&Ic.length&&Ux(),Z=w===_?P:w.indexOf(O),G&&(W=new G).init(O,H||C,e,Z,w)!==!1&&(e._pt=D=new as(e._pt,O,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(X){J[X]=D}),W.priority&&(N=1)),!G||H)for(T in C)As[T]&&(W=O6(T,C,e,Z,O,w))?W.priority&&(N=1):J[T]=D=s3.call(e,O,T,"get",C[T],Z,w,0,r.stringFilter);e._op&&e._op[P]&&e.kill(O,e._op[P]),E&&e._pt&&(mc=e,zn.killTweensOf(O,J,e.globalTime(t)),$=!e.parent,mc=0),e._pt&&l&&(rM[z.id]=1)}N&&G6(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!$,g&&t<=0&&M.render(fo,!0,!0)},tpe=function(e,t,i,r,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,d;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(c=f[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return uM=1,e.vars[t]="+=0",o3(e,a),uM=0,1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(r||r===0)&&!s?r:c.s+(r||0)+o*c.c,c.c=i-c.s,u.e&&(u.e=ri(i)+hr(u.e)),u.b&&(u.b=c.s+hr(u.b))},npe=function(e,t){var i=e[0]?lf(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return t;s=Mf({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},ipe=function(e,t,i,r){var s=t.ease||r||"power1.inOut",o,a;if(vr(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},lg=function(e,t,i,r,s){return Zn(e)?e.call(t,i,r,s):zi(e)&&~e.indexOf("random(")?e0(e):e},F6=i3+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",U6={};os(F6+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return U6[n]=1});var bi=function(n){n6(e,n);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=n.call(this,o?r:og(r))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,x=l.defaults,y=l.scrollTrigger,v=l.yoyoEase,_=r.parent||zn,A=(vr(i)||r6(i)?Dl(i[0]):"length"in r)?[i]:ho(i),w,E,M,C,P,T,D,O;if(a._targets=A.length?r3(A):Fx("GSAP target "+i+" not found. https://greensock.com",!Rs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||n1(c)||n1(u)){if(r=a.vars,w=a.timeline=new Qr({data:"nested",defaults:x||{},targets:_&&_.data==="nested"?_.vars.targets:A}),w.kill(),w.parent=w._dp=rl(a),w._start=0,d||n1(c)||n1(u)){if(C=A.length,D=d&&b6(d),ka(d))for(P in d)~F6.indexOf(P)&&(O||(O={}),O[P]=d[P]);for(E=0;E<C;E++)M=Nx(r,U6),M.stagger=0,v&&(M.yoyoEase=v),O&&Mf(M,O),T=A[E],M.duration=+lg(c,rl(a),E,T,A),M.delay=(+lg(u,rl(a),E,T,A)||0)-a._delay,!d&&C===1&&M.delay&&(a._delay=u=M.delay,a._start+=u,M.delay=0),w.to(T,M,D?D(E,T,A):0),w._ease=jt.none;w.duration()?c=u=0:a.timeline=0}else if(g){og(_o(w.vars.defaults,{ease:"none"})),w._ease=uf(g.ease||r.ease||"none");var N=0,z,G,W;if(vr(g))g.forEach(function(J){return w.to(A,J,">")}),w.duration();else{M={};for(P in g)P==="ease"||P==="easeEach"||ipe(P,g[P],M,g.easeEach);for(P in M)for(z=M[P].sort(function(J,Z){return J.t-Z.t}),N=0,E=0;E<z.length;E++)G=z[E],W={ease:G.e,duration:(G.t-(E?z[E-1].t:0))/100*c},W[P]=G.v,w.to(A,W,N),N+=W.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return p===!0&&!qT&&(mc=rl(a),zn.killTweensOf(A),mc=0),ya(_,rl(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!c&&!g&&a._start===Xi(_._time)&&ss(f)&&khe(rl(a))&&_.data!=="nested")&&(a._tTime=-hn,a.render(Math.max(0,-u)||0)),y&&y6(rl(a),y),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,f=r>l-hn&&!u?l:r<hn?0:r,d,p,g,x,y,v,_,A,w;if(!c)Ohe(this,r,s,o);else if(f!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,A=this.timeline,this._repeat){if(x=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(x*100+r,s,o);if(d=Xi(f%x),f===l?(g=this._repeat,d=c):(g=~~(f/x),g&&g===f/x&&(d=c,g--),d>c&&(d=c)),v=this._yoyo&&g&1,v&&(w=this._yEase,d=c-d),y=qh(this._tTime,x),d===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(A&&this._yEase&&L6(A,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(Xi(x*g),!0).invalidate()._lock=0))}if(!this._initted){if(x6(this,u?r:d,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(w||this._ease)(d/c),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!g&&(po(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(_,p.d),p=p._next;A&&A.render(r<0?r:!d&&v?-hn:A._dur*A._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&sM(this,r,s,o),po(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&po(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&sM(this,r,!0,!0),(r||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Xc(this,1),!s&&!(u&&!a)&&(f||a||v)&&(po(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a){t0||bs.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||o3(this,l),c=this._ease(l/this._dur),tpe(this,r,s,o,a,c,l)?this.resetTo(r,s,o,a):(cA(this,0),this.parent||g6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Om(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,mc&&mc.vars.overwrite!==!0)._first||Om(this),this.parent&&o!==this.timeline.totalDuration()&&Qh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?ho(r):a,c=this._ptLookup,u=this._pt,f,d,p,g,x,y,v;if((!s||s==="all")&&Dhe(a,l))return s==="all"&&(this._pt=0),Om(this);for(f=this._op=this._op||[],s!=="all"&&(zi(s)&&(x={},os(s,function(_){return x[_]=1}),s=x),s=npe(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){d=c[v],s==="all"?(f[v]=s,g=d,p={}):(p=f[v]=f[v]||{},g=s);for(x in g)y=d&&d[x],y&&((!("kill"in y.d)||y.d.kill(x)===!0)&&aA(this,y,"_pt"),delete d[x]),p!=="all"&&(p[x]=1)}return this._initted&&!this._pt&&u&&Om(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return ag(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return ag(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return zn.killTweensOf(r,s,o)},e}(ep);_o(bi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});os("staggerTo,staggerFrom,staggerFromTo",function(n){bi[n]=function(){var e=new Qr,t=aM.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var a3=function(e,t,i){return e[t]=i},N6=function(e,t,i){return e[t](i)},rpe=function(e,t,i,r){return e[t](r.fp,i)},spe=function(e,t,i){return e.setAttribute(t,i)},l3=function(e,t){return Zn(e[t])?N6:QT(e[t])&&e.setAttribute?spe:a3},z6=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},ope=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},H6=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},c3=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},ape=function(e,t,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},lpe=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?aA(this,t,"_pt"):t.dep||(i=1),t=r;return!i},cpe=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},G6=function(e){for(var t=e._pt,i,r,s,o;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},as=function(){function n(t,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||z6,this.d=l||this,this.set=c||a3,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=cpe,this.m=i,this.mt=s,this.tween=r},n}();os(i3+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return n3[n]=1});Ls.TweenMax=Ls.TweenLite=bi;Ls.TimelineLite=Ls.TimelineMax=Qr;zn=new Qr({sortChildren:!1,defaults:Kh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Rs.stringFilter=I6;var tp=[],L1={},upe=[],gO=0,Qw=function(e){return(L1[e]||upe).map(function(t){return t()})},fM=function(){var e=Date.now(),t=[];e-gO>2&&(Qw("matchMediaInit"),tp.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=io.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),Qw("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),gO=e,Qw("matchMedia"))},V6=function(){function n(t,i){this.selector=i&&lM(i),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){Zn(i)&&(s=r,r=i,i=Zn);var o=this,a=function(){var c=pi,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=lM(s)),pi=o,f=r.apply(o,arguments),Zn(f)&&o._r.push(f),pi=c,o.selector=u,o.isReverted=!1,f};return o.last=a,i===Zn?a(o):i?o[i]=a:a},e.ignore=function(i){var r=pi;pi=null,i(this),pi=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof bi&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(i)}),this.data.forEach(function(l){return!(l instanceof ep)&&l.revert&&l.revert(i)}),this._r.forEach(function(l){return l(i,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),r){var a=tp.indexOf(this);~a&&tp.splice(a,1)}},e.revert=function(i){this.kill(i||{})},n}(),fpe=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){ka(i)||(i={matches:i});var o=new V6(0,s||this.scope),a=o.conditions={},l,c,u;this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?u=1:(l=io.matchMedia(i[c]),l&&(tp.indexOf(o)<0&&tp.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(fM):l.addEventListener("change",fM)));return u&&r(o),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),Hx={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return T6(r)})},timeline:function(e){return new Qr(e)},getTweensOf:function(e,t){return zn.getTweensOf(e,t)},getProperty:function(e,t,i,r){zi(e)&&(e=ho(e)[0]);var s=lf(e||{}).get,o=i?m6:p6;return i==="native"&&(i=""),e&&(t?o((As[t]&&As[t].get||s)(e,t,i,r)):function(a,l,c){return o((As[a]&&As[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if(e=ho(e),e.length>1){var r=e.map(function(u){return cs.quickSetter(u,t,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}e=e[0]||{};var o=As[t],a=lf(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;rh._pt=0,f.init(e,i?u+i:u,rh,0,[e]),f.render(1,f),rh._pt&&c3(1,rh)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,t,i){var r,s=cs.to(e,Mf((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return zn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=uf(e.ease,Kh.ease)),fO(Kh,e||{})},config:function(e){return fO(Rs,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!As[a]&&!Ls[a]&&Fx(t+" effect requires "+a+" plugin.")}),Yw[t]=function(a,l,c){return i(ho(a),_o(l||{},s),c)},o&&(Qr.prototype[t]=function(a,l,c){return this.add(Yw[t](a,ka(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){jt[e]=uf(t)},parseEase:function(e,t){return arguments.length?uf(e,t):jt},getById:function(e){return zn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Qr(e),r,s;for(i.smoothChildTiming=ss(e.smoothChildTiming),zn.remove(i),i._dp=0,i._time=i._tTime=zn._time,r=zn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof bi&&r.vars.onComplete===r._targets[0]))&&ya(i,r,r._start-r._delay),r=s;return ya(zn,i,0),i},context:function(e,t){return e?new V6(e,t):pi},matchMedia:function(e){return new fpe(e)},matchMediaRefresh:function(){return tp.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||fM()},addEventListener:function(e,t){var i=L1[e]||(L1[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=L1[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:Whe,wrapYoyo:jhe,distribute:b6,random:S6,snap:w6,normalize:Vhe,getUnit:hr,clamp:Nhe,splitColor:R6,toArray:ho,selector:lM,mapRange:M6,pipe:Hhe,unitize:Ghe,interpolate:$he,shuffle:A6},install:c6,effects:Yw,ticker:bs,updateRoot:Qr.updateRoot,plugins:As,globalTimeline:zn,core:{PropTween:as,globals:u6,Tween:bi,Timeline:Qr,Animation:ep,getCache:lf,_removeLinkedListItem:aA,reverting:function(){return gr},context:function(e){return e&&pi&&(pi.data.push(e),e._ctx=pi),pi},suppressOverwrites:function(e){return qT=e}}};os("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Hx[n]=bi[n]});bs.add(Qr.updateRoot);rh=Hx.to({},{duration:0});var dpe=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},hpe=function(e,t){var i=e._targets,r,s,o;for(r in t)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=dpe(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))},Zw=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(zi(s)&&(l={},os(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}hpe(a,s)}}}},cs=Hx.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)gr?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Zw("roundProps",cM),Zw("modifiers"),Zw("snap",w6))||Hx;bi.version=Qr.version=cs.version="3.11.5";l6=1;ZT()&&Zh();jt.Power0;jt.Power1;jt.Power2;jt.Power3;jt.Power4;jt.Linear;jt.Quad;jt.Cubic;jt.Quart;jt.Quint;jt.Strong;jt.Elastic;jt.Back;jt.SteppedEase;jt.Bounce;jt.Sine;jt.Expo;jt.Circ;/*!
 * CSSPlugin 3.11.5
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var vO,gc,wh,u3,Qu,yO,f3,ppe=function(){return typeof window<"u"},Ll={},Nu=180/Math.PI,Sh=Math.PI/180,Id=Math.atan2,xO=1e8,d3=/([A-Z])/g,mpe=/(left|right|width|margin|padding|x)/i,gpe=/[\s,\(]\S/,ba={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},dM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},vpe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ype=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},xpe=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},W6=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},j6=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_pe=function(e,t,i){return e.style[t]=i},Ape=function(e,t,i){return e.style.setProperty(t,i)},bpe=function(e,t,i){return e._gsap[t]=i},wpe=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Spe=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Epe=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},Gn="transform",Wo=Gn+"Origin",Mpe=function n(e,t){var i=this,r=this.target,s=r.style;if(e in Ll){if(this.tfm=this.tfm||{},e!=="transform")e=ba[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=al(r,o)}):this.tfm[e]=r._gsap.x?r._gsap[e]:al(r,e);else return ba.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(Gn)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Wo,t,"")),e=Gn}(s||t)&&this.props.push(e,t,s[e])},$6=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Cpe=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(d3,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=f3(),(!s||!s.isStart)&&!i[Gn]&&($6(i),r.uncache=1)}},X6=function(e,t){var i={target:e,props:[],revert:Cpe,save:Mpe};return e._gsap||cs.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},Y6,hM=function(e,t){var i=gc.createElementNS?gc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):gc.createElement(e);return i.style?i:gc.createElement(e)},Ta=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(d3,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,np(t)||t,1)||""},_O="O,Moz,ms,Ms,Webkit".split(","),np=function(e,t,i){var r=t||Qu,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(_O[o]+e in s););return o<0?null:(o===3?"ms":o>=0?_O[o]:"")+e},pM=function(){ppe()&&window.document&&(vO=window,gc=vO.document,wh=gc.documentElement,Qu=hM("div")||{style:{}},hM("div"),Gn=np(Gn),Wo=Gn+"Origin",Qu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Y6=!!np("perspective"),f3=cs.core.reverting,u3=1)},eS=function n(e){var t=hM("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(wh.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),wh.removeChild(t),this.style.cssText=s,o},AO=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},J6=function(e){var t;try{t=e.getBBox()}catch{t=eS.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===eS||(t=eS.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+AO(e,["x","cx","x1"])||0,y:+AO(e,["y","cy","y1"])||0,width:0,height:0}:t},K6=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&J6(e))},n0=function(e,t){if(t){var i=e.style;t in Ll&&t!==Wo&&(t=Gn),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(d3,"-$1").toLowerCase())):i.removeAttribute(t)}},vc=function(e,t,i,r,s,o){var a=new as(e._pt,t,i,0,1,o?j6:W6);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},bO={deg:1,rad:1,turn:1},Tpe={grid:1,flex:1},Yc=function n(e,t,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Qu.style,l=mpe.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=r==="px",p=r==="%",g,x,y,v;return r===o||!s||bO[r]||bO[o]?s:(o!=="px"&&!d&&(s=n(e,t,i,"px")),v=e.getCTM&&K6(e),(p||o==="%")&&(Ll[t]||~t.indexOf("adius"))?(g=v?e.getBBox()[l?"width":"height"]:e[u],ri(p?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(d?o:r),x=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===gc||!x.appendChild)&&(x=gc.body),y=x._gsap,y&&p&&y.width&&l&&y.time===bs.time&&!y.uncache?ri(s/y.width*f):((p||o==="%")&&!Tpe[Ta(x,"display")]&&(a.position=Ta(e,"position")),x===e&&(a.position="static"),x.appendChild(Qu),g=Qu[u],x.removeChild(Qu),a.position="absolute",l&&p&&(y=lf(x),y.time=bs.time,y.width=x[u]),ri(d?g*s/f:g&&s?f/g*s:0))))},al=function(e,t,i,r){var s;return u3||pM(),t in ba&&t!=="transform"&&(t=ba[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ll[t]&&t!=="transform"?(s=r0(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Vx(Ta(e,Wo))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Gx[t]&&Gx[t](e,t,i)||Ta(e,t)||d6(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Yc(e,t,s,i)+i:s},Rpe=function(e,t,i,r){if(!i||i==="none"){var s=np(t,e,1),o=s&&Ta(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=Ta(e,"borderTopColor"))}var a=new as(this._pt,e.style,t,0,1,H6),l=0,c=0,u,f,d,p,g,x,y,v,_,A,w,E;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(e.style[t]=r,r=Ta(e,t)||r,e.style[t]=i),u=[i,r],I6(u),i=u[0],r=u[1],d=i.match(ih)||[],E=r.match(ih)||[],E.length){for(;f=ih.exec(r);)y=f[0],_=r.substring(l,f.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),y!==(x=d[c++]||"")&&(p=parseFloat(x)||0,w=x.substr((p+"").length),y.charAt(1)==="="&&(y=bh(p,y)+w),v=parseFloat(y),A=y.substr((v+"").length),l=ih.lastIndex-A.length,A||(A=A||Rs.units[t]||w,l===r.length&&(r+=A,a.e+=A)),w!==A&&(p=Yc(e,t,x,A)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:p,c:v-p,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?j6:W6;return o6.test(r)&&(a.e=0),this._pt=a,a},wO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ppe=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=wO[i]||i,t[1]=wO[r]||r,t.join(" ")},Ipe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Ll[a]&&(l=1,a=a==="transformOrigin"?Wo:Gn),n0(i,a);l&&(n0(i,Gn),o&&(o.svg&&i.removeAttribute("transform"),r0(i,1),o.uncache=1,$6(r)))}},Gx={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new as(e._pt,t,i,0,0,Ipe);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},i0=[1,0,0,1,0,0],q6={},Q6=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},SO=function(e){var t=Ta(e,Gn);return Q6(t)?i0:t.substr(7).match(s6).map(ri)},h3=function(e,t){var i=e._gsap||lf(e),r=e.style,s=SO(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?i0:s):(s===i0&&!e.offsetParent&&e!==wh&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,wh.appendChild(e)),s=SO(e),l?r.display=l:n0(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):wh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},mM=function(e,t,i,r,s,o){var a=e._gsap,l=s||h3(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],x=l[2],y=l[3],v=l[4],_=l[5],A=t.split(" "),w=parseFloat(A[0])||0,E=parseFloat(A[1])||0,M,C,P,T;i?l!==i0&&(C=p*y-g*x)&&(P=w*(y/C)+E*(-x/C)+(x*_-y*v)/C,T=w*(-g/C)+E*(p/C)-(p*_-g*v)/C,w=P,E=T):(M=J6(e),w=M.x+(~A[0].indexOf("%")?w/100*M.width:w),E=M.y+(~(A[1]||A[0]).indexOf("%")?E/100*M.height:E)),r||r!==!1&&a.smooth?(v=w-c,_=E-u,a.xOffset=f+(v*p+_*x)-v,a.yOffset=d+(v*g+_*y)-_):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=E,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[Wo]="0px 0px",o&&(vc(o,a,"xOrigin",c,w),vc(o,a,"yOrigin",u,E),vc(o,a,"xOffset",f,a.xOffset),vc(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",w+" "+E)},r0=function(e,t){var i=e._gsap||new B6(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Ta(e,Wo)||"0",u,f,d,p,g,x,y,v,_,A,w,E,M,C,P,T,D,O,N,z,G,W,J,Z,H,$,X,F,j,se,ne,ie;return u=f=d=x=y=v=_=A=w=0,p=g=1,i.svg=!!(e.getCTM&&K6(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Gn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Gn]!=="none"?l[Gn]:"")),r.scale=r.rotate=r.translate="none"),C=h3(e,i.svg),i.svg&&(i.uncache?(H=e.getBBox(),c=i.xOrigin-H.x+"px "+(i.yOrigin-H.y)+"px",Z=""):Z=!t&&e.getAttribute("data-svg-origin"),mM(e,Z||c,!!Z||i.originIsAbsolute,i.smooth!==!1,C)),E=i.xOrigin||0,M=i.yOrigin||0,C!==i0&&(O=C[0],N=C[1],z=C[2],G=C[3],u=W=C[4],f=J=C[5],C.length===6?(p=Math.sqrt(O*O+N*N),g=Math.sqrt(G*G+z*z),x=O||N?Id(N,O)*Nu:0,_=z||G?Id(z,G)*Nu+x:0,_&&(g*=Math.abs(Math.cos(_*Sh))),i.svg&&(u-=E-(E*O+M*z),f-=M-(E*N+M*G))):(ie=C[6],se=C[7],X=C[8],F=C[9],j=C[10],ne=C[11],u=C[12],f=C[13],d=C[14],P=Id(ie,j),y=P*Nu,P&&(T=Math.cos(-P),D=Math.sin(-P),Z=W*T+X*D,H=J*T+F*D,$=ie*T+j*D,X=W*-D+X*T,F=J*-D+F*T,j=ie*-D+j*T,ne=se*-D+ne*T,W=Z,J=H,ie=$),P=Id(-z,j),v=P*Nu,P&&(T=Math.cos(-P),D=Math.sin(-P),Z=O*T-X*D,H=N*T-F*D,$=z*T-j*D,ne=G*D+ne*T,O=Z,N=H,z=$),P=Id(N,O),x=P*Nu,P&&(T=Math.cos(P),D=Math.sin(P),Z=O*T+N*D,H=W*T+J*D,N=N*T-O*D,J=J*T-W*D,O=Z,W=H),y&&Math.abs(y)+Math.abs(x)>359.9&&(y=x=0,v=180-v),p=ri(Math.sqrt(O*O+N*N+z*z)),g=ri(Math.sqrt(J*J+ie*ie)),P=Id(W,J),_=Math.abs(P)>2e-4?P*Nu:0,w=ne?1/(ne<0?-ne:ne):0),i.svg&&(Z=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Q6(Ta(e,Gn)),Z&&e.setAttribute("transform",Z))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(p*=-1,_+=x<=0?180:-180,x+=x<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=ri(p),i.scaleY=ri(g),i.rotation=ri(x)+a,i.rotationX=ri(y)+a,i.rotationY=ri(v)+a,i.skewX=_+a,i.skewY=A+a,i.transformPerspective=w+o,(i.zOrigin=parseFloat(c.split(" ")[2])||0)&&(r[Wo]=Vx(c)),i.xOffset=i.yOffset=0,i.force3D=Rs.force3D,i.renderTransform=i.svg?Lpe:Y6?Z6:Dpe,i.uncache=0,i},Vx=function(e){return(e=e.split(" "))[0]+" "+e[1]},tS=function(e,t,i){var r=hr(t);return ri(parseFloat(t)+parseFloat(Yc(e,"x",i+"px",r)))+r},Dpe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Z6(e,t)},Iu="0deg",Em="0px",Du=") ",Z6=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,f=i.rotationX,d=i.skewX,p=i.skewY,g=i.scaleX,x=i.scaleY,y=i.transformPerspective,v=i.force3D,_=i.target,A=i.zOrigin,w="",E=v==="auto"&&e&&e!==1||v===!0;if(A&&(f!==Iu||u!==Iu)){var M=parseFloat(u)*Sh,C=Math.sin(M),P=Math.cos(M),T;M=parseFloat(f)*Sh,T=Math.cos(M),o=tS(_,o,C*T*-A),a=tS(_,a,-Math.sin(M)*-A),l=tS(_,l,P*T*-A+A)}y!==Em&&(w+="perspective("+y+Du),(r||s)&&(w+="translate("+r+"%, "+s+"%) "),(E||o!==Em||a!==Em||l!==Em)&&(w+=l!==Em||E?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Du),c!==Iu&&(w+="rotate("+c+Du),u!==Iu&&(w+="rotateY("+u+Du),f!==Iu&&(w+="rotateX("+f+Du),(d!==Iu||p!==Iu)&&(w+="skew("+d+", "+p+Du),(g!==1||x!==1)&&(w+="scale("+g+", "+x+Du),_.style[Gn]=w||"translate(0, 0)"},Lpe=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,f=i.scaleX,d=i.scaleY,p=i.target,g=i.xOrigin,x=i.yOrigin,y=i.xOffset,v=i.yOffset,_=i.forceCSS,A=parseFloat(o),w=parseFloat(a),E,M,C,P,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Sh,c*=Sh,E=Math.cos(l)*f,M=Math.sin(l)*f,C=Math.sin(l-c)*-d,P=Math.cos(l-c)*d,c&&(u*=Sh,T=Math.tan(c-u),T=Math.sqrt(1+T*T),C*=T,P*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),E*=T,M*=T)),E=ri(E),M=ri(M),C=ri(C),P=ri(P)):(E=f,P=d,M=C=0),(A&&!~(o+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(A=Yc(p,"x",o,"px"),w=Yc(p,"y",a,"px")),(g||x||y||v)&&(A=ri(A+g-(g*E+x*C)+y),w=ri(w+x-(g*M+x*P)+v)),(r||s)&&(T=p.getBBox(),A=ri(A+r/100*T.width),w=ri(w+s/100*T.height)),T="matrix("+E+","+M+","+C+","+P+","+A+","+w+")",p.setAttribute("transform",T),_&&(p.style[Gn]=T)},kpe=function(e,t,i,r,s){var o=360,a=zi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Nu:1),c=l-r,u=r+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*xO)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*xO)%o-~~(c/o)*o)),e._pt=d=new as(e._pt,t,i,r,c,vpe),d.e=u,d.u="deg",e._props.push(i),d},EO=function(e,t){for(var i in t)e[i]=t[i];return e},Bpe=function(e,t,i){var r=EO({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,f,d,p,g;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Gn]=t,a=r0(i,1),n0(i,Gn),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Gn],o[Gn]=t,a=r0(i,1),o[Gn]=c);for(l in Ll)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(p=hr(c),g=hr(u),f=p!==g?Yc(i,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new as(e._pt,a,l,f,d-f,dM),e._pt.u=g||0,e._props.push(l));EO(a,r)};os("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});Gx[e>1?"border"+n:n]=function(a,l,c,u,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return al(a,g,c)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(g,x){return p[g]=d[x]=d[x]||d[(x-1)/2|0]}),a.init(l,p,f)}});var e7={name:"css",register:pM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,u,f,d,p,g,x,y,v,_,A,w,E,M,C,P;u3||pM(),this.styles=this.styles||X6(e),P=this.styles.props,this.tween=i;for(x in t)if(x!=="autoRound"&&(u=t[x],!(As[x]&&O6(x,t,i,r,e,s)))){if(p=typeof u,g=Gx[x],p==="function"&&(u=u.call(i,r,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=e0(u)),g)g(this,e,x,u,i)&&(C=1);else if(x.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(x)+"").trim(),u+="",Dc.lastIndex=0,Dc.test(c)||(y=hr(c),v=hr(u)),v?y!==v&&(c=Yc(e,x,c,v)+v):y&&(u+=y),this.add(a,"setProperty",c,u,r,s,0,0,x),o.push(x),P.push(x,0,a[x]);else if(p!=="undefined"){if(l&&x in l?(c=typeof l[x]=="function"?l[x].call(i,r,e,s):l[x],zi(c)&&~c.indexOf("random(")&&(c=e0(c)),hr(c+"")||(c+=Rs.units[x]||hr(al(e,x))||""),(c+"").charAt(1)==="="&&(c=al(e,x))):c=al(e,x),d=parseFloat(c),_=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),f=parseFloat(u),x in ba&&(x==="autoAlpha"&&(d===1&&al(e,"visibility")==="hidden"&&f&&(d=0),P.push("visibility",0,a.visibility),vc(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),x!=="scale"&&x!=="transform"&&(x=ba[x],~x.indexOf(",")&&(x=x.split(",")[0]))),A=x in Ll,A){if(this.styles.save(x),w||(E=e._gsap,E.renderTransform&&!t.parseTransform||r0(e,t.parseTransform),M=t.smoothOrigin!==!1&&E.smooth,w=this._pt=new as(this._pt,a,Gn,0,1,E.renderTransform,E,0,-1),w.dep=1),x==="scale")this._pt=new as(this._pt,E,"scaleY",E.scaleY,(_?bh(E.scaleY,_+f):f)-E.scaleY||0,dM),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){P.push(Wo,0,a[Wo]),u=Ppe(u),E.svg?mM(e,u,0,M,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==E.zOrigin&&vc(this,E,"zOrigin",E.zOrigin,v),vc(this,a,x,Vx(c),Vx(u)));continue}else if(x==="svgOrigin"){mM(e,u,1,M,0,this);continue}else if(x in q6){kpe(this,E,x,d,_?bh(d,_+u):u);continue}else if(x==="smoothOrigin"){vc(this,E,"smooth",E.smooth,u);continue}else if(x==="force3D"){E[x]=u;continue}else if(x==="transform"){Bpe(this,u,e);continue}}else x in a||(x=np(x)||x);if(A||(f||f===0)&&(d||d===0)&&!gpe.test(u)&&x in a)y=(c+"").substr((d+"").length),f||(f=0),v=hr(u)||(x in Rs.units?Rs.units[x]:y),y!==v&&(d=Yc(e,x,c,v)),this._pt=new as(this._pt,A?E:a,x,d,(_?bh(d,_+f):f)-d,!A&&(v==="px"||x==="zIndex")&&t.autoRound!==!1?xpe:dM),this._pt.u=v||0,y!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=ype);else if(x in a)Rpe.call(this,e,x,c,_?_+u:u);else if(x in e)this.add(e,x,c||e[x],_?_+u:u,r,s);else if(x!=="parseTransform"){t3(x,u);continue}A||(x in a?P.push(x,0,a[x]):P.push(x,1,c||e[x])),o.push(x)}}C&&G6(this)},render:function(e,t){if(t.tween._time||!f3())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:al,aliases:ba,getSetter:function(e,t,i){var r=ba[t];return r&&r.indexOf(",")<0&&(t=r),t in Ll&&t!==Wo&&(e._gsap.x||al(e,"x"))?i&&yO===i?t==="scale"?wpe:bpe:(yO=i||{})&&(t==="scale"?Spe:Epe):e.style&&!QT(e.style[t])?_pe:~t.indexOf("-")?Ape:l3(e,t)},core:{_removeProperty:n0,_getMatrix:h3}};cs.utils.checkPrefix=np;cs.core.getStyleSaver=X6;(function(n,e,t,i){var r=os(n+","+e+","+t,function(s){Ll[s]=1});os(e,function(s){Rs.units[s]="deg",q6[s]=1}),ba[r[13]]=n+","+e,os(i,function(s){var o=s.split(":");ba[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");os("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Rs.units[n]="px"});cs.registerPlugin(e7);var Eh=cs.registerPlugin(e7)||cs;Eh.core.Tween;const Ope="/assets/html-22676eec.svg",Fpe="/assets/javascript-d1bda8c2.svg",Upe="/assets/css-c7f2afa2.svg",MO="/assets/react-521b891c.svg",Npe="/assets/nodejs-3bfef9f4.svg",zpe="/assets/mongodb-f7da3056.svg",Hpe="/assets/nextjs-6c4ff565.png",Gpe="/assets/redux-ca914ad8.svg",Vpe="/assets/typescript-24b3ccc3.svg",Wpe="/assets/solidity-55f672d9.svg",jpe="/assets/aws-8eda836a.svg",$pe="/assets/google-cloud-55c532e9.svg",Xpe="/assets/azure-f9f27a4c.svg",Ype="/assets/blockchain-ff73bc90.svg",Jpe="/assets/communication-473524a2.png",Kpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN2AAADdgF91YLMAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtlQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgggz1wAAAPJ0Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEzNDU2Nzg5Ojs8PT4/QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhY2RlZmdoaWprbG1ub3BxcnN0dnd4eXp7fH1+f4CDhIWGh4iJiouMjY6PkZKTlJWWl5iZmpucnZ6goqSlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJy8zNzs/Q0dLT1NXW2Nna29zd3t/g4eLj5OXm5+jp6uzt7u/w8fLz9PX29/j5+vv8/f7ccBEwAAAIHUlEQVR42u2b+VsVVRjH5yoSi6KoqWCaqJRlCYapWWqLprmnlguVWqKpaIuQheGSSplbZoiaSIKWueAuYHVdcGlzTVMWcwFFkfX+BcG8Z+bOnGXmzL1zeJ6ep/cn7nnP5f2cue98zznvmZEk0hzdE9N/+bus4Ni2pf19pTq3zsmFLrfd3vxC3YYPTa50YZYZUYfxY+66SKta5lNH4X1Wuui2L7hO4gcecLHsbLs6iO/Y4g54OjlxRsJXWe58+C1IPECiEqx8XnvU1DzmutK4o57o+IOVUKciNa2ttinNiaIT8CzEqZyPac+bReC431YswFQ00NGEp9M98KwTGj8AyV8qxReL5OBxkQAjIUhBU9rtcQicC0QCbIAYg6jOsDuy83eB8RvckkPsNb5Dw8UB9IAIUxjursZu+1KgDcufJ7sXigOYLgcoY/qzZf96cQAL5ACXmf402b9fHMBSOcCfTP862f+zOIDZcoAipj9T9qeLA3gDkjCA5T8tu78UB/ASAAxguJvDwmC2OICWVXKErxnuCcD3okApPCxHuNmK6qx/VPbeaiAQ4AMY449U5xxwbhA5GXWA38D1FsXXpQx8w4UuCNZDkCJSjRucRAtVsavCh+9DmOOPYI7gzS6jqdo+S0Jx7s10aJsH5qH2HNGr4oBcZf2bFaY2Bq1VGq93EL4vaKPuisv3TI1q7dsiYsymYrWpTx1sjZ65x9yaVU/Ud+24wsnuzGcVp1J64QRRVxmd747Sd3z3rssOq0rC6x8hTmrHq0/pu41x2WVJ+DV44MObRKey5Q/qO7W4bhtAFfErSMGLSvQ/1YYwoorhss9SKLnoNzj5GnKXZERTShMpNgKcYi0AIgZOGBoVShdfmBuzY7yzb+ECe3K7wtyw2ttyFFyC/wH+kwCTCgQBOMIiWRaum6L9ZxUKAOi620jgb2x/W6vb/u8V2g0QV2WmGZdjtAgB3ewF4Jpf9Ai2AvgU8imnFwgR8dk3L8eyAF7hFm+PEBqPXIuWlrEMgBUW5g+rCBFx2RXqly8wAKACckS97WApfkb93G+fZwjuoSt3EwMAyrHLVO9q+fNJzb961jpCRFxWBX75NtEB2sGHSQYAFhGIoYP92oIOMAQ+dDMEqEHYz4dAG3qN5aeMqM+4Cz6BBZq/CYAkPWeK0PjVZNrQK3M+6upg60A6XqNiAZggMIc+qomxEMFZwXc8ADUIB6gIjKFX5MRHOsyUMBDmgTl8AJLUW4/QT5K6WBg6BaA7sf82BsAQqndQh54dH8k7F7wDf7flB8CvgpWhUwDgvPKWZAVAkvocZOw6TYZOAciBsoBFACpCfsrIxtan42JMiHkBMATOoZMAhBCTAGt2x/ekVwnVoa/lHToJMBQXYhKgdrYsoUKgw7ZIy2sEDUACLsQkwF/KbrUGwocCEOPVkiydPCzAABxlmp+6JDOuh4+tAOfkv9IMAFrhyX5HhbABILAaF2ICIIp2vwOEDQA9KIVQWCMeUz4OZyneHThKcUV7AzCZEGJJmqYvj083W6iGewNACnHN3Hqltjip3luL5S6FoWPXnKXGv+bVxgTOKg7p3Q+tO/19lPppo/sXoUJ87A2AgxRiwmDVvlX52HrcN+e08bc6vAEIgz8mGnUGHVqubdJAbG7k1d5wGCnEuDnK6Ydmrcetytz2mYfbZBWAIsS4IR0aa2tpXAXIMDm1detQbzEA50khxg3pUJgQgIYUIcYNdKha2QJMG9jIRoCeHCdSSIfcZbpK58L+gTYBTDZ5dgLTIfvrhKvgzNawb45eh+wF+IkmxMY6ZC/AFXMhxnXIXoAz8HDGasX6muuQvQC52MSWQHbthumQvQCLMIBl5jpkL0CzYj3ARrLrDL0O2X1kM0VfJN5jqkO2H1r11x0DniABUvU6ZP+xXcvolTlOpxNuyCumOiTs4HKW3FRKAlzC10OCjm6joY2YZOqR6yExh9cDoLUdz3pIyPE9WvdEmemQqY03Oh43MFSneNnb9VBQgXacnfkBGsJXxpvpkJkt1V3pgxYuATzIM9NMh0zsSaxiOYYfAB7gmG+mQyaWhSVbHv8C8gT9iTpch/gz0Goe7pX7Z5jqEHcGojzkfiQ8lahXMnSIOwPBDvACLJe7/4G1hljZlz2BMvAiJC4Sq9c5AebKvf/xRodQBu5ENaYElIcN+QDgFYNKbLM/woIOjUPvQnREAH6w73Mt4QMYDb2beqxDQfnK2yBKlQ2dyJbz5eHz0PtRfesSfh36Av7BJX93me8HK3nYBTr38lSHlAwcpqkzhpVayMNQ6DtU33qYW4fQixg7dYVOlIdXefLQl1ot4tahsUoG6gD8LkDzYp5LUEyRHG4dapSveR9JU+pV8vAxDoALFO3m1qHP1QzEas3oVSmedwOOUN4neppThzq7MxADUPLwNXOAHXLH7R7pEMrAXZRq+1zuPITXGJye6JA2A3EA/jxMwp6y4NchJQPnUc8bBvHmYZzcr9gDHdJlIHngwZuHk6Cfr2UdUjJwOOPERcnD0SYAqGwcYlmHDuoykATgzcNe0O1T7TaeR4fQXvF+OBNAycNFxgDNmc+TDTHMwDx9BlIA1DzsZExwlBG/1LAsOhtlYIABgJKHqcYAsQyANJ4M0L6AAeXPXE1L+1LK0RRZEdxJf3irmeG3tmAZWGPvw1EKueK8aHIfBGfQnj4yefm8b23q3NC9fxBS+4R4ta7m6Hes9n/NMFXDIWnnddELdk03ffN8cG7Rfuz4PPLQ7ZPYyqbJ+sLjU4nv/gtIqE6NsZw9IAAAAABJRU5ErkJggg==",qpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA5VAAAOVQBtez6iwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAisSURBVHic7Z1tiB1XGcd/zzPbJtW4SWNMom1SbQOtimiDUlFbFFpBRKkYxRcoFCtSrZX2o1BBkKKCGNFWRKjSLxpCFdNSLAFBMDQo2CSarbZpbI1tulm6TUOal2bvOX64u5q92d27d+55ec6d+cF8mplznpn5n/Ocl+ecEVpCsx6q6xT/fo/fCrIRuBRYC6wEpruHTAv+KYfshc5e4CDQyWh3yxCMQ3WLILsFdYL6GsfLiv4M2Jr7YVqWzxpFfyjoqZoffZGj2gtcn/vhWhZHoPqyoMfCfvh5h1P0V8Bbcj9sy3xWKPpgxA/fexwF3pf7oVu6rBWqPyX8+HPHq1DdHOOBJEaiidgEuk3wN4FsBlYDUwL/dMjD0NkFnAyY3wqh2g0+l29+zeM+CvwxU/5mGFd0u6Bn+1ed+hUCiVzRezOU/N7jP3S7lMEorQa4UtBdwDuXe4PADoe7FTg9RL5bBJ0ALlrgXAc4CHJuiPR78JuBNy10RmC7w90VLq9yWCfo4XolR3YyhNgVvW+xtEG/GvAZ5xgXdGqRPE/RdXdB0FAJxUaQB4G31bx7G+iddbP28Jklzq+qme5SrATGFjl3CVSfCJVRIS5g7EbB7R4ykWmP2wK8POB9WwR9us81R4CALoCNwOsWOylwn8PdESKjxVRmCqFzRwCtrgX9PLj7B7zv8mVcs6mOQXXx+MtCpVWCC1gJclOIhAT/yRq3zYTIOzDBvlsJAriCJarDwZB31LjphTB5h0OQ50OlVYIL2BAwrY017vkXXREsOCYv8IDD3Qv4YQybz9hVgttFtzF4Ad0p5OawNeBAynQdA5buBlafDf3AgAp6ZJE8TxNwMKiEXsB6QScDpbXf495T474rBX0SuHiBc8cEHiFgW8Ej14C/YaFzAj9xuK+HyqsIBN0fogZQ9Ad1bVD0uwaGgg8DawK+2iIagXjYESIdh/v1EPfeA7InhB01OedxnwOOZ7QhG6sEPTpc6ZHfBLBjjVDtzVDyz0C1LYD9JVPdLGin5gucBDYHMmS1II8k/PjTtOFhc+jdMnjQ5XHgA4ENEdBvCHoi7seXnbQhYb1Unxb0pWW+xAPA1RGN2aDoTwU9HfbDV49D9bGIdhfPpbMBGs8u8AKdUP0Zqi8BVSJ71in67SE//JSiDwDvTWQzUMY4QD+ugbErwI9DZxI4RJ7h28sFPbKM684Bz4McEfyzDvaB+wNwAHBxTWyJyNiNy/Dpj1JvOLrFOor+aImPPwnVrbltXAhrLmAMuAqqd4HfAKxReMNiFzs4Du57zJ+IWa/o3Yvc4h28BHIMOgfprsc7E8DuNwv6FBdGB50SuN/hvgO8EiCfkaTqtuxlp6DHB208QfXF8xNT9JcD3H9akN9BdQuwoqb9IsiunnRfBL0HWDf02xltqk8J+syQreej/D9I8nqpvzjz31DdxsBT5Pqt+d3O6jbqi6kxXKzoz0P1mxX9MXCRoH8bPr1qD7DMkCu9XdDnFP0+8O6I72ukUEV3hPr4s8eMor8ImN4h+otgNXAdhUyoGULvCvzxIx3VHsqImBqKVCNlc4wL8lvgksT51mETyCT4v+Q2JCaJqy+9ncBr22Ii8E3SF5KkJBWAIFGWOEfkMuBDuY2ISUoBVOCTTnSEQT+c2YCopBTAOgpsVCm8PbcNMUkpgBIafhfg8UGDMK1hrET6hwRxHrYA10bM6KzAduD1HrkW/Acj5tUyy1v79b353wYMemfkfv55EzP6taWvld9neVuJaEexGo5VAVibph5ZWgE0HKsCaEmEVQG0NUAirAqgJRFWBdDWAIloBdBwrAqgJRFWBdDWAIlIORcw5ZF+++nM/jPHPeypnotoy3mbOrrH/JL7/LgXI9rR0pKXYFWtIA+BfCRUeiXh0S/ATJGTRiFdwCoKivcLi19oG/kisNoIbElEK4CG0wqg4bQCaDitABpOK4CG0wqg4YQcc78BqpB7+xdEZw8GfyzR0tKXVLNub4SxmAs9IjPzKvB4bitikEoAVwv6j0R5RcA/6vEfz21FDFI1Ap8m7I+ckyLIvtw2xCKVABzIgUR5BcchT+S2IRbJuoGCL7gUdVoBDEvBpegEcDi3EbFIOBBUaimS/QT9J6AtUo4E/p2wP1hOguALFe7ySCmAs8CTCfMLQsGua1kk3iWMAl9mp+DGa3+SCqD7d4yieA2YyG1ETBLPBrrSaoCDdEUwsqSeDn6CglrUZbqswUgtgBN0f8deBAW6rIHJEBBSUreqOJc1MMkF4MvpVnm6v3IbaTLUAMUI4BBdlzXSZBBAGf1qaYD/hzxBoS8AkxnyHQjXgB4AZIsKLmFqWFsBxEKKaAfMFCDS4ckigAImWCaBRuwMkskFWI8N8H/NbUEqcq0MMt3FKsNFhSGXALzlIFE3wlHAvWRbG2g7SNS6iwpHNgEYbgiOdBBoLxlXB1stZbIfcLmtSEXO5eEmgy1su6bw5BSAyXArw64pClk3iLAZcWPVNcUhqwAMRtyYrJViknmLGHMRNxMYbJfEJPceQaZa3DZdUlxyC8BUn7spMQDnk1sAxkqds9YmiU52ARgqdY0IAu0luwAMRd48A7zS96oRw4AAZkzMvdtyRekwIACOYSD6xuCYRBIsCAAbq4WaNQQ8hwkB2IjAadYQ8BwmBGBgAsaEG8qBCQHkL33NCQLtxYgAOEzGLpgNF5QHKwLws5E4WTDggrJhRQCZI3HKWLAaAzMCyFgKT9IdBWwkZgSQryEo+zA0JZ0aQwJgAjiTOtNR3wm0H5YEcI4M4VhNWgW0EJYEkGlCJvcYRF5MCSDDhEzjgkB7MSWADEGiE3Q3sW4sxgSQNki0KRtBLYU1AZyku3dAEgyFo2XDmgASNwTNrUtIjjkBJCyVjQwC7cWcABIGiWadgbSCQQHMJBJAs0cA5zAoAKZI8CfugjatjopFAZCmdDZ7CHgOkwJIE6HT7CHgOf4LXexN7VA9ypQAAAAASUVORK5CYII=",Qpe="/assets/problemsolving-ad9cc731.png",Zpe="/assets/photoshop-959693da.svg",eme="/assets/illustrator-d44a6fc1.svg",tme="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR4nO2dTW4TQRQG6wIECSEugrgDLFGUOxEuSPASFnAFVh9qyUscz+DOvGdPldQbq23LVf3j3YCIiIiIiIiIiMj18w74ChyAP0AcXOJgOPwOPAJv18b4APw2AC+1CH8B79fsDGOwSZRFO2UcUx5PbOLgy5Ig45wzCJs4+LYkiBc4my3I4fos7g42dWAQbjDID+AeeHUcn4GnifPD9bNZkCH3zT/eN177OWF+DLIuyFjpp3iYMD8GWRdkHDmnuJswPwaZF+T1hPkxyLog40I+xf2E+THIuiBPz1zShwnzY5B1QXL8d/RwvAPujiv9MHF+uH6WeMzMD3IwxYFB6LWYDEJ9BINQL94g1Ms2CPWCDUK9VIOwoyAiIiL/S/Ull50Ng1AfwSDUizcI9bINQr1gg1Av1SDUizQI9fKuIkh3svHvMMgZDNKMuEN6EYP0IgbpRQzSixikFzFIL2KQXmRvQW5lzMIgGKR8NccdUi8sBqmXFIPUi4lBLvuXcCtjFtO/t1pMDPLChYvJ3nZId2KQXsQgvYhBehGD9CIG6UUM0osYpBcxSC+ytyAOLnJgEHotIoNQH8Eg1Is3CPWyDUK9YINQL9Ug1Is0CPXyDEK9sPIgzz1kxcFUB+NhN2f5ZBS2ivFxSRAREREREREREREa8heAIMK45arRogAAAABJRU5ErkJggg==",nme="/assets/three-3b7245f9.ico",ime="/assets/TechSkillsBG-8e52b24a.jpg",cg="generated",rme="pointerdown",sme="pointerup",gM="pointerleave",ome="pointerout",Cf="pointermove",ame="touchstart",CO="touchend",lme="touchmove",cme="touchcancel",ume="resize",fme="visibilitychange",Ao="tsParticles - Error";class xs{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!xr(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${Ao} Vector3d not initialized correctly`)}static get origin(){return xs.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return xs.create(e.x,e.y,e.z)}static create(e,t,i){return new xs(e,t,i)}add(e){return xs.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return xs.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return xs.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return xs.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return xs.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return xs.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class gn extends xs{constructor(e,t){super(e,t,0)}static get origin(){return gn.create(0,0)}static clone(e){return gn.create(e.x,e.y)}static create(e,t){return new gn(e,t)}}let dme=Math.random;const hme=new Map;function t7(n){return hme.get(n)||(e=>e)}function Tt(){return Qo(dme(),0,1-1e-16)}function Qo(n,e,t){return Math.min(Math.max(n,e),t)}function nS(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Ui(n){const e=yc(n);let t=p3(n);return e===t&&(t=0),Tt()*(e-t)+t}function Qe(n){return xr(n)?n:Ui(n)}function p3(n){return xr(n)?n:n.min}function yc(n){return xr(n)?n:n.max}function ct(n,e){if(n===e||e===void 0&&xr(n))return n;const t=p3(n),i=yc(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:ct(t,i)}function kl(n){const e=n.random,{enable:t,minimumValue:i}=Lc(e)?{enable:e,minimumValue:0}:e;return Qe(t?ct(n.value,i):n.value)}function yr(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Ur(n,e){return yr(n,e).distance}function pme(n,e,t){if(xr(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return Tt()*Math.PI*2}}function mme(n){const e=gn.origin;return e.length=1,e.angle=n,e}function TO(n,e,t,i){return gn.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function n7(n){var e,t;return{x:(((e=n.position)==null?void 0:e.x)??Tt()*100)*n.size.width/100,y:(((t=n.position)==null?void 0:t.y)??Tt()*100)*n.size.height/100}}function i7(n){var t,i;const e={x:((t=n.position)==null?void 0:t.x)!==void 0?Qe(n.position.x):void 0,y:((i=n.position)==null?void 0:i.y)!==void 0?Qe(n.position.y):void 0};return n7({size:n.size,position:e})}function gme(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??Tt()*n.size.width,y:((t=n.position)==null?void 0:t.y)??Tt()*n.size.height}}function r7(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const vme={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Tf(){return vme}function RO(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&o>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function yme(n,e){const t=Cn(e,i=>n.matches(i));return Ei(t)?t.some(i=>i):t}function ip(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function xme(){return!ip()&&typeof matchMedia<"u"}function s7(n){if(xme())return matchMedia(n)}function _me(n){if(!(ip()||typeof MutationObserver>"u"))return new MutationObserver(n)}function En(n,e){return n===e||Ei(e)&&e.indexOf(n)>-1}async function Ame(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function o7(n){return Math.floor(Tt()*n.length)}function O0(n,e,t=!0){return n[e!==void 0&&t?e%n.length:o7(n)]}function F0(n,e,t,i,r){return bme(U0(n,i??0),e,t,r)}function bme(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function U0(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function ai(n,...e){for(const t of e){if(t==null)continue;if(!sh(t)){n=t;continue}const i=Array.isArray(t);i&&(sh(n)||!n||!Array.isArray(n))?n=[]:!i&&(sh(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=sh(o)&&Array.isArray(o)?o.map(l=>ai(a[r],l)):ai(a[r],o)}}return n}function m3(n,e){return!!c7(e,t=>t.enable&&En(n,t.mode))}function g3(n,e,t){Cn(e,i=>{const r=i.mode;i.enable&&En(n,r)&&wme(i,t)})}function wme(n,e){const t=n.selectors;Cn(t,i=>{e(i,n)})}function a7(n,e){if(!(!e||!n))return c7(n,t=>yme(e,t.selectors))}function vM(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:gn.create(kl(n.options.bounce.horizontal),kl(n.options.bounce.vertical))}}function l7(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:a}=yr(s,r);if(t*o+i*a<0)return;const l=-Math.atan2(a,o),c=n.mass,u=e.mass,f=n.velocity.rotate(l),d=e.velocity.rotate(l),p=TO(f,d,c,u),g=TO(d,f,c,u),x=p.rotate(-l),y=g.rotate(-l);n.velocity.x=x.x*n.factor.x,n.velocity.y=x.y*n.factor.y,e.velocity.x=y.x*e.factor.x,e.velocity.y=y.y*e.factor.y}function Sme(n,e){const t=n.getPosition(),i=n.getRadius(),r=U0(t,i),s=RO({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:kl(n.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(n.velocity.x=s.velocity),s.position!==void 0&&(n.position.x=s.position));const o=RO({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:kl(n.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function Cn(n,e){return Ei(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Ps(n,e,t){return Ei(n)?O0(n,e,t):n}function c7(n,e){return Ei(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function u7(n,e){const t=n.value,i=n.animation,r={delayTime:Qe(i.delay)*1e3,enable:i.enable,value:Qe(n.value)*e,max:yc(t)*e,min:p3(t)*e,loops:0,maxLoops:Qe(i.count),time:0};if(i.enable){switch(r.decay=1-Qe(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Tt()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Ui(r),s&&(r.status=Tt()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function f7(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function d7(n,e){return f7(n,e)}function Eme(n,e){return f7(n,e)}function Lc(n){return typeof n=="boolean"}function jo(n){return typeof n=="string"}function xr(n){return typeof n=="number"}function h7(n){return typeof n=="function"}function sh(n){return typeof n=="object"&&n!==null}function Ei(n){return Array.isArray(n)}const Wx="random",k1="mid",uA=new Map;function PO(n){uA.set(n.key,n)}function iS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Mme(n){for(const[,s]of uA)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function go(n,e,t=!0){if(!n)return;const i=jo(n)?{value:n}:n;if(jo(i.value))return p7(i.value,e,t);if(Ei(i.value))return go({value:O0(i.value,e,t)});for(const[,r]of uA){const s=r.handleRangeColor(i);if(s)return s}}function p7(n,e,t=!0){if(!n)return;const i=jo(n)?{value:n}:n;if(jo(i.value))return i.value===Wx?g7():Cme(i.value);if(Ei(i.value))return p7({value:O0(i.value,e,t)});for(const[,r]of uA){const s=r.handleColor(i);if(s)return s}}function Jc(n,e,t=!0){const i=go(n,e,t);return i?m7(i):void 0}function m7(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function Cme(n){return Mme(n)}function rp(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=iS(r,i,t.h+1/3),e.g=iS(r,i,t.h),e.b=iS(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function Tme(n){const e=rp(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function g7(n){const e=n??0;return{b:Math.floor(Ui(ct(e,256))),g:Math.floor(Ui(ct(e,256))),r:Math.floor(Ui(ct(e,256)))}}function Ra(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function sp(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function v3(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=rp(n)),s.r===void 0&&(s=rp(e)),{b:nS(r.b,s.b,t,i),g:nS(r.g,s.g,t,i),r:nS(r.r,s.r,t,i)}}function yM(n,e,t){if(t===Wx)return g7();if(t===k1){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return v3(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return rp(s)}}else return t}function v7(n,e,t){const i=jo(n)?n:n.value;return i===Wx?t?go({value:i}):e?Wx:k1:i===k1?k1:go({value:i})}function IO(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function y7(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(rS(i.h,e.h,t),rS(i.s,e.s,t),rS(i.l,e.l,t)),i}function rS(n,e,t){n.enable=e.enable,n.enable?(n.velocity=Qe(e.speed)/100*t,n.decay=1-Qe(e.decay),n.status="increasing",n.loops=0,n.maxLoops=Qe(e.count),n.time=0,n.delayTime=Qe(e.delay)*1e3,e.sync||(n.velocity*=Tt(),n.value*=Tt()),n.initialValue=n.value):n.velocity=0}function ug(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function Rme(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function Pme(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function Ime(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function sS(n,e){n.clearRect(0,0,e.width,e.height)}function Dme(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:u,transform:f}=n,d=i.getPosition(),p=i.rotation+(i.pathRotation?i.velocity.angle:0),g={sin:Math.sin(p),cos:Math.cos(p)},x={a:g.cos*(f.a??1),b:g.sin*(f.b??1),c:-g.sin*(f.c??1),d:g.cos*(f.d??1)};t.setTransform(x.a,x.b,x.c,x.d,d.x,d.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const y=i.shadowColor;u.enable&&y&&(t.shadowBlur=u.blur,t.shadowColor=Ra(y),t.shadowOffsetX=u.offset.x,t.shadowOffsetY=u.offset.y),s.fill&&(t.fillStyle=s.fill);const v=i.strokeWidth??0;t.lineWidth=v,s.stroke&&(t.strokeStyle=s.stroke),Lme(e,t,i,l,c,r),v>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),kme(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function Lme(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function kme(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function Bme(n,e,t){e.draw&&e.draw(n,t)}function Ome(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function Fme(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function Ume(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class Nme{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:u}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),u&&(o.stroke=u)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const u in c)Ume(a,c,u)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Jc(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=Jc(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=go(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=Ra(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=ai({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=go(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>Pme(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>Ime(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=_me(t=>{for(const i of t)i.type==="attributes"&&i.attributeName==="style"&&this._repairStyle()})}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Ra(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{sS(r,this.size)})}destroy(){if(this._safeMutationObserver(e=>e.disconnect()),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this.stop(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var A;const c=this.container,u=c.actualOptions,f=e.options.zIndex,d=(1-e.zIndexFactor)**f.opacityRate,p=e.bubble.opacity??((A=e.opacity)==null?void 0:A.value)??1,g=e.strokeOpacity??p,x=p*d,y=g*d,v={},_={fill:o?sp(o,x):void 0};_.stroke=a?sp(a,y):_.fill,this._applyPreDrawUpdaters(l,e,i,x,_,v),Dme({container:c,context:l,particle:e,delta:t,colorStyles:_,backgroundMask:u.backgroundMask.enable,composite:u.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:x,shadow:e.options.shadow,transform:v}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>Ome(r,e,t,i))}drawPlugin(e,t){this.draw(i=>Bme(i,e,t))}async init(){this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Tf().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=go(t.color);r.backgroundColor=s?Ra(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&cg in e.dataset?e.dataset[cg]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=ai({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(sS(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this.draw(e=>sS(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function Qs(n,e,t,i,r){if(i){let s={passive:!0};Lc(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class zme{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Cn(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Qs(a,Cf,r.mouseMove,i),Qs(a,ame,r.touchStart,i),Qs(a,lme,r.touchMove,i),o.interactivity.events.onClick.enable?(Qs(a,CO,r.touchEndClick,i),Qs(a,sme,r.mouseUp,i),Qs(a,rme,r.mouseDown,i)):Qs(a,CO,r.touchEnd,i),Qs(a,t,r.mouseLeave,i),Qs(a,cme,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=gM;o==="window"?(r.interactivity.element=window,l=ome):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&Qs(document,fme,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=s7("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Qs(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Qs(window,ume,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=gM,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const u=o.getBoundingClientRect();a={x:c.clientX-u.left,y:c.clientY-u.top}}}else if(r.interactivity.detectsOn==="parent"){const u=c.target,f=c.currentTarget;if(u&&f&&o){const d=u.getBoundingClientRect(),p=f.getBoundingClientRect(),g=o.getBoundingClientRect();a={x:c.offsetX+2*d.left-(p.left+g.left),y:c.offsetY+2*d.top-(p.top+g.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,u=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:u.clientX-(f.left??0),y:u.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=Cf},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class ti{constructor(){this.value=""}static create(e,t){const i=new ti;return i.load(e),t!==void 0&&(jo(t)||Ei(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class Hme{constructor(){this.color=new ti,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Gme{constructor(){this.color=new ti,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Vme{constructor(){this.composite="destination-out",this.cover=new Gme,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=jo(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class Wme{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class jme{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class DO{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Cn(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Cn(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class $me{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class Xme{constructor(){this.enable=!1,this.mode=[],this.parallax=new $me}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Yme{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Jme{constructor(){this.onClick=new jme,this.onDiv=new DO,this.onHover=new Xme,this.resize=new Yme}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Cn(t,i=>{const r=new DO;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Lc(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class Kme{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class x7{constructor(e,t){this.detectsOn="window",this.events=new Jme,this.modes=new Kme(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class qme{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=ai({},e.options)))}}class Qme{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=ai({},e.options)))}}class Zme{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class ege{constructor(){this.name="",this.default=new Zme}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=ai({},e.options)))}}class oS{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ct(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ct(e.offset)),e.speed!==void 0&&(this.speed=ct(e.speed)),e.decay!==void 0&&(this.decay=ct(e.decay)),e.delay!==void 0&&(this.delay=ct(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class tge{constructor(){this.h=new oS,this.s=new oS,this.l=new oS}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class op extends ti{constructor(){super(),this.animation=new tge}static create(e,t){const i=new op;return i.load(e),t!==void 0&&(jo(t)||Ei(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class nge{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class ige{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class rge{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ct(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ct(e.speed)),e.decay!==void 0&&(this.decay=ct(e.decay)),e.delay!==void 0&&(this.delay=ct(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class _7 extends rge{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class sge{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class So{constructor(){this.random=new sge,this.value=0}load(e){e&&(Lc(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ct(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class LO extends So{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class A7{constructor(){this.horizontal=new LO,this.vertical=new LO}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class oge{constructor(){this.absorb=new nge,this.bounce=new A7,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new ige}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ct(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class age{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ct(e.offset)),e.value!==void 0&&(this.value=ct(e.value)))}}class lge{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ct(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class cge{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class uge{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ct(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ct(e.maxSpeed)))}}class fge{constructor(){this.clamp=!0,this.delay=new So,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=ai(this.options,e.options)))}}class dge{load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class hge{constructor(){this.enable=!1,this.length=10,this.fill=new dge}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class pge{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class mge{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ct(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=ai({},e.position)))}}class gge{constructor(){this.angle=new age,this.attract=new lge,this.center=new cge,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new uge,this.path=new fge,this.outModes=new pge,this.random=!1,this.size=!1,this.speed=2,this.spin=new mge,this.straight=!1,this.trail=new hge,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(xr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ct(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=xr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ct(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(sh(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ct(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class vge extends _7{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class yge extends So{constructor(){super(),this.animation=new vge,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=ct(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class xge{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class _ge{constructor(){this.density=new xge,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class Age{constructor(){this.blur=0,this.color=new ti,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ti.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const aS="character",lS="char",cS="image",uS="images",fS="polygon",dS="star";class bge{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=Ei(e),o=s?[]:{},a=s!==Ei(this.options[t]),l=s!==Ei(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=ai(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=ai(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[aS]??this.options[lS]}set character(e){this.options[lS]=this.options[aS]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[cS]??this.options[uS]}set image(e){this.options[uS]=this.options[cS]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[fS]??this.options[dS]}set polygon(e){this.options[dS]=this.options[fS]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=ai(this.options[i]??{},r))}this.loadShape(e.character,aS,lS,!0),this.loadShape(e.polygon,fS,dS,!1),this.loadShape(e.image??e.images,cS,uS,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class wge extends _7{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Sge extends So{constructor(){super(),this.animation=new wge,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=ct(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class kO{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=op.create(this.color,e.color)),e.width!==void 0&&(this.width=ct(e.width)),e.opacity!==void 0&&(this.opacity=ct(e.opacity)))}}class Ege extends So{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Mge{constructor(e,t){this._engine=e,this._container=t,this.bounce=new A7,this.collisions=new oge,this.color=new op,this.color.value="#fff",this.groups={},this.move=new gge,this.number=new _ge,this.opacity=new yge,this.reduceDuplicates=!1,this.shadow=new Age,this.shape=new bge,this.size=new Sge,this.stroke=new kO,this.zIndex=new Ege}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(op.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=ai(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=ai({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=Cn(i,a=>{const l=new kO;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function b7(n,...e){for(const t of e)n.load(t)}function y3(n,e,...t){const i=new Mge(n,e);return b7(i,...t),i}class Cge{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new Hme,this.backgroundMask=new Vme,this.defaultThemes={},this.delay=0,this.fullScreen=new Wme,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new x7(e,t),this.manualParticles=[],this.particles=y3(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&Cn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ct(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=ct(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Lc(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new qme;return c.load(l),c})),this.particles.load(e.particles),this.style=ai(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new Qme;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(u=>u.name===l.name);if(c)c.load(l);else{const u=new ege;u.load(l),this.themes.push(u)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=s7("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class Tge{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const BO=n=>{if(!En(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class Rge{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,u=0)=>{for(const[,_]of a.plugins){const A=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(A)return xs.create(A.x,A.y,c)}const f=a.canvas.size,d=gme({size:f,position:l}),p=xs.create(d.x,d.y,c),g=this.getRadius(),x=this.options.move.outModes,y=_=>{BO({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:p.x,maxCoord:a.canvas.size.width,setCb:A=>p.x+=A,radius:g})},v=_=>{BO({outMode:_,checkModes:["bounce","bounce-vertical"],coord:p.y,maxCoord:a.canvas.size.height,setCb:A=>p.y+=A,radius:g})};return y(x.left??x.default),y(x.right??x.default),v(x.top??x.default),v(x.bottom??x.default),this._checkOverlap(p,u)?this._calcPosition(a,void 0,c,u+1):p},this._calculateVelocity=()=>{const a=mme(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const u=Math.PI/180*Qe(c.angle.value),f=Math.PI/180*Qe(c.angle.offset),d={left:f-u/2,right:f+u/2};return c.straight||(l.angle+=Ui(ct(d.left,d.right))),c.random&&typeof c.speed=="number"&&(l.length*=Tt()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,u=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const d=f.retries;if(d>=0&&l>d)throw new Error(`${Ao} particle is overlapping and can't be placed`);return!!this.container.particles.find(p=>Ur(a,p.position)<u+p.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?Fme(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=Qe(this.options.zIndex.value);this.position=this._calcPosition(l,a,Qo(c,0,l.zLayers)),this.initialPosition=this.position.copy();const u=l.canvas.size;switch(this.moveCenter={...d7(this.options.move.center,u),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=pme(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=gn.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return ai({close:a.close,fill:a.fill},Ps(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??IO(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??IO(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=y3(this._engine,s,l.particles),u=c.shape.type,{reduceDuplicates:f}=c;this.shape=Ps(u,this.id,f);const d=c.shape;if(i&&i.shape&&i.shape.type){const A=i.shape.type,w=Ps(A,this.id,f);w&&(this.shape=w,d.load(i.shape))}this.shapeData=this._loadShapeData(d,f),c.load(i);const p=this.shapeData;p&&c.load(p.particles);const g=new x7(o,s);g.load(s.actualOptions.interactivity),g.load(c.interactivity),this.interactivity=g,this.fill=(p==null?void 0:p.fill)??c.shape.fill,this.close=(p==null?void 0:p.close)??c.shape.close,this.options=c;const x=this.options.move.path;this.pathDelay=kl(x.delay)*1e3,x.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=u7(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Qe(this.options.move.decay);const y=s.particles;y.needsSort=y.needsSort||y.lastZIndex<this.position.z,y.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let v=s.drawers.get(this.shape);v||(v=this._engine.plugins.getShapeDrawer(this.shape),v&&s.drawers.set(this.shape,v)),v&&v.loadShape&&v.loadShape(this);const _=v==null?void 0:v.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=go(this.options.shadow.color);for(const A of s.particles.updaters)A.init(this);for(const A of s.particles.movers)A.init&&A.init(this);v&&v.particleInit&&v.particleInit(s,this);for(const[,A]of s.plugins)A.particleCreated&&A.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class Pge{constructor(e,t){this.position=e,this.particle=t}}class w7{constructor(e,t){this.position={x:e,y:t}}}class Zo extends w7{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof _r&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Zo?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class _r extends w7{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Ur(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof _r){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Zo){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class jx{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new jx(new Zo(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&Ur(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new _r(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Zo(e.x,e.y,t.width,t.height),i)}}const OO=4,FO=n=>new Zo(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let Ige=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var p;if(!((p=r.number.density)!=null&&p.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,u=a.limit>0?a.limit:c,f=Math.min(c,u)*l+s,d=Math.min(this.count,this.filter(g=>g.group===o).length);this.limit=a.limit*l,d<f?this.push(Math.abs(f-d),void 0,r,o):d>f&&this.removeQuantity(d-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new Rge(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){Tf().warning(`${Ao} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Tge(this._engine,this._container);const i=this._container.canvas.size;this.quadTree=new jx(FO(i),OO),this.movers=this._engine.plugins.getMovers(this._container,!0),this.updaters=this._engine.plugins.getUpdaters(this._container,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?d7(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new jx(FO(t.canvas.size),OO);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new Pge(r.getPosition(),r))}this._array=this.filter(r=>!i.has(r)),await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class Dge{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||ip()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=Qe(s.attract.distance)*i,this.maxSpeed=Qe(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Qe(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=Qe(r.attract.distance)*i,o.moveDrift=Qe(r.drift)*i,o.moveSpeed=Qe(r.speed)*i,o.sizeAnimationSpeed=Qe(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Qe(r.gravity.maxSpeed)*i}}function On(n){return n&&!n.destroyed}function Lge(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function Dd(n,e,...t){const i=new Cge(n,e);return b7(i,...t),i}const kge="default",UO={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Bge{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!On(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=Lge(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){Tf().error(`${Ao} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Dge(this),this.canvas=new Nme(this),this.particles=new Ige(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Dd(this._engine,this),this.actualOptions=Dd(this._engine,this),this._eventListeners=new zme(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!On(this))return;const t=this.interactivity.element;if(!t)return;const i=(f,d,p)=>{if(!On(this))return;const g=this.retina.pixelRatio,x={x:d.x*g,y:d.y*g},y=this.particles.quadTree.queryCircle(x,p*g);e(f,y)},r=f=>{if(!On(this))return;const d=f,p={x:d.offsetX||d.clientX,y:d.offsetY||d.clientY};i(f,p,1)},s=()=>{On(this)&&(c=!0,u=!1)},o=()=>{On(this)&&(u=!0)},a=f=>{if(On(this)){if(c&&!u){const d=f;let p=d.touches[d.touches.length-1];if(!p&&(p=d.changedTouches[d.changedTouches.length-1],!p))return;const g=this.canvas.element,x=g?g.getBoundingClientRect():void 0,y={x:p.clientX-(x?x.left:0),y:p.clientY-(x?x.top:0)};i(f,y,Math.max(p.radiusX,p.radiusY))}c=!1,u=!1}},l=()=>{On(this)&&(c=!1,u=!1)};let c=!1,u=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!On(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??UO),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!On(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!On(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Tf().error(`${Ao} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&On(this)}handleClickMode(e){if(On(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!On(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Dd(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Dd(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Qe(this.actualOptions.duration)*1e3,this._delay=Qe(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){On(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(On(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!On(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(On(this))return this.stop(),this.start()}async reset(){if(On(this))return this._initialSourceOptions=void 0,this._options=Dd(this._engine,this),this.actualOptions=Dd(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){On(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!On(this))return;const r={...UO};if(h7(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(kge,r,!0)}async start(){!On(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!On(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class Oge{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function hS(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class Fge{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Cn(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return hS(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return hS(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return hS(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function Uge(n){const e=Ps(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(Tf().error(`${Ao} ${t.status} while retrieving config file`),n.fallback)}function Nge(n){return!n.id&&!n.element&&!n.url&&!n.options}function zge(n){return!Nge(n)}class Hge{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Oge,this._initialized=!1,this.plugins=new Fge(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.11.1"}addConfig(e,t){jo(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,u,f;Lc(i)?(l=i,c=void 0):c=i,Lc(r)?(l=r,u=void 0):u=r,Lc(s)?(l=s,f=void 0):f=s,h7(t)?a={afterEffect:u,destroy:f,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return zge(e)?r=e:(r={},jo(e)?r.id=e:r.options=e,xr(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return xr(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return jo(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,xr(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${Ao} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(Tt()*1e4)}`,{index:i,url:r}=e,s=r?await Uge({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=Ps(s,i),l=this.dom(),c=l.findIndex(d=>d.id===t);if(c>=0){const d=this.domItem(c);d&&!d.destroyed&&(d.destroy(),l.splice(c,1))}let u;if(o.tagName.toLowerCase()==="canvas")u=o,u.dataset[cg]="false";else{const d=o.getElementsByTagName("canvas");d.length?(u=d[0],u.dataset[cg]="false"):(u=document.createElement("canvas"),u.dataset[cg]="true",o.appendChild(u))}u.style.width||(u.style.width="100%"),u.style.height||(u.style.height="100%");const f=new Bge(this,t,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(u),await f.start(),f}}class Gge{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return rp(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return rp({h:Qe(i.h),l:Qe(i.l),s:Qe(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?Tme({a:i.length>4?r7(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class Vge{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:Qe(i.r),g:Qe(i.g),b:Qe(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?r7(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function Wge(){const n=new Vge,e=new Gge;PO(n),PO(e);const t=new Hge;return t.init(),t}class sa{constructor(e){this.container=e,this.type="external"}}class x3{constructor(e){this.container=e,this.type="particles"}}const fg=Wge();ip()||(window.tsParticles=fg);var _3={exports:{}},S7={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(AS,function(){var t=typeof Promise=="function",i=typeof self=="object"?self:AS,r=typeof Symbol<"u",s=typeof Map<"u",o=typeof Set<"u",a=typeof WeakMap<"u",l=typeof WeakSet<"u",c=typeof DataView<"u",u=r&&typeof Symbol.iterator<"u",f=r&&typeof Symbol.toStringTag<"u",d=o&&typeof Set.prototype.entries=="function",p=s&&typeof Map.prototype.entries=="function",g=d&&Object.getPrototypeOf(new Set().entries()),x=p&&Object.getPrototypeOf(new Map().entries()),y=u&&typeof Array.prototype[Symbol.iterator]=="function",v=y&&Object.getPrototypeOf([][Symbol.iterator]()),_=u&&typeof String.prototype[Symbol.iterator]=="function",A=_&&Object.getPrototypeOf(""[Symbol.iterator]()),w=8,E=-1;function M(C){var P=typeof C;if(P!=="object")return P;if(C===null)return"null";if(C===i)return"global";if(Array.isArray(C)&&(f===!1||!(Symbol.toStringTag in C)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&C===window.location)return"Location";if(typeof window.document=="object"&&C===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&C===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&C===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&C instanceof window.HTMLElement){if(C.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(C.tagName==="TD")return"HTMLTableDataCellElement";if(C.tagName==="TH")return"HTMLTableHeaderCellElement"}}var T=f&&C[Symbol.toStringTag];if(typeof T=="string")return T;var D=Object.getPrototypeOf(C);return D===RegExp.prototype?"RegExp":D===Date.prototype?"Date":t&&D===Promise.prototype?"Promise":o&&D===Set.prototype?"Set":s&&D===Map.prototype?"Map":l&&D===WeakSet.prototype?"WeakSet":a&&D===WeakMap.prototype?"WeakMap":c&&D===DataView.prototype?"DataView":s&&D===x?"Map Iterator":o&&D===g?"Set Iterator":y&&D===v?"Array Iterator":_&&D===A?"String Iterator":D===null?"Object":Object.prototype.toString.call(C).slice(w,E)}return M})})(S7);var jge=S7.exports;/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var NO=jge;function E7(){this._key="chai/deep-eql__"+Math.random()+Date.now()}E7.prototype={get:function(e){return e[this._key]},set:function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})}};var A3=typeof WeakMap=="function"?WeakMap:E7;/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function zO(n,e,t){if(!t||ap(n)||ap(e))return null;var i=t.get(n);if(i){var r=i.get(e);if(typeof r=="boolean")return r}return null}/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function i1(n,e,t,i){if(!(!t||ap(n)||ap(e))){var r=t.get(n);r?r.set(e,i):(r=new A3,r.set(e,i),t.set(n,r))}}/*!
 * Primary Export
 */_3.exports=fA;_3.exports.MemoizeMap=A3;function fA(n,e,t){if(t&&t.comparator)return HO(n,e,t);var i=M7(n,e);return i!==null?i:HO(n,e,t)}function M7(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e?!0:ap(n)||ap(e)?!1:null}/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function HO(n,e,t){t=t||{},t.memoize=t.memoize===!1?!1:t.memoize||new A3;var i=t&&t.comparator,r=zO(n,e,t.memoize);if(r!==null)return r;var s=zO(e,n,t.memoize);if(s!==null)return s;if(i){var o=i(n,e);if(o===!1||o===!0)return i1(n,e,t.memoize,o),o;var a=M7(n,e);if(a!==null)return a}var l=NO(n);if(l!==NO(e))return i1(n,e,t.memoize,!1),!1;i1(n,e,t.memoize,!0);var c=$ge(n,e,l,t);return i1(n,e,t.memoize,c),c}function $ge(n,e,t,i){switch(t){case"String":case"Number":case"Boolean":case"Date":return fA(n.valueOf(),e.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return n===e;case"Error":return C7(n,e,["name","message","code"],i);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return ff(n,e,i);case"RegExp":return Xge(n,e);case"Generator":return Yge(n,e,i);case"DataView":return ff(new Uint8Array(n.buffer),new Uint8Array(e.buffer),i);case"ArrayBuffer":return ff(new Uint8Array(n),new Uint8Array(e),i);case"Set":return GO(n,e,i);case"Map":return GO(n,e,i);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return n.equals(e);case"Temporal.Duration":return n.total("nanoseconds")===e.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return n.toString()===e.toString();default:return Kge(n,e,i)}}/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */function Xge(n,e){return n.toString()===e.toString()}/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function GO(n,e,t){if(n.size!==e.size)return!1;if(n.size===0)return!0;var i=[],r=[];return n.forEach(function(o,a){i.push([o,a])}),e.forEach(function(o,a){r.push([o,a])}),ff(i.sort(),r.sort(),t)}/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function ff(n,e,t){var i=n.length;if(i!==e.length)return!1;if(i===0)return!0;for(var r=-1;++r<i;)if(fA(n[r],e[r],t)===!1)return!1;return!0}/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function Yge(n,e,t){return ff(xM(n),xM(e),t)}/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */function Jge(n){return typeof Symbol<"u"&&typeof n=="object"&&typeof Symbol.iterator<"u"&&typeof n[Symbol.iterator]=="function"}/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */function VO(n){if(Jge(n))try{return xM(n[Symbol.iterator]())}catch{return[]}return[]}/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function xM(n){for(var e=n.next(),t=[e.value];e.done===!1;)e=n.next(),t.push(e.value);return t}/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function WO(n){var e=[];for(var t in n)e.push(t);return e}function jO(n){for(var e=[],t=Object.getOwnPropertySymbols(n),i=0;i<t.length;i+=1){var r=t[i];Object.getOwnPropertyDescriptor(n,r).enumerable&&e.push(r)}return e}/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function C7(n,e,t,i){var r=t.length;if(r===0)return!0;for(var s=0;s<r;s+=1)if(fA(n[t[s]],e[t[s]],i)===!1)return!1;return!0}/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function Kge(n,e,t){var i=WO(n),r=WO(e),s=jO(n),o=jO(e);if(i=i.concat(s),r=r.concat(o),i.length&&i.length===r.length)return ff($O(i).sort(),$O(r).sort())===!1?!1:C7(n,e,i,t);var a=VO(n),l=VO(e);return a.length&&a.length===l.length?(a.sort(),l.sort(),ff(a,l,t)):i.length===0&&a.length===0&&r.length===0&&l.length===0}/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */function ap(n){return n===null||typeof n!="object"}function $O(n){return n.map(function(t){return typeof t=="symbol"?t.toString():t})}var qge=_3.exports;const Qge=Ba(qge),T7="tsparticles";let R7=class P7 extends I.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return!Qge(e,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(fg),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return te.createElement("div",{className:i,id:s},te.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=async r=>{this.props.container&&(this.props.container.current=r),this.setState({library:r}),this.props.loaded&&await this.props.loaded(r)},t=this.props.id??P7.defaultProps.id??T7,i=this.props.url?await fg.loadJSON(t,this.props.url):await fg.load(t,this.props.params??this.props.options);await e(i)}};R7.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:T7};class Zge{constructor(){this.radius=0,this.mass=0}load(e){e&&(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class e0e extends So{constructor(){super(),this.density=5,this.value=50,this.limit=new Zge}load(e){e&&(super.load(e),e.density!==void 0&&(this.density=e.density),xr(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class $x{constructor(){this.color=new ti,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new e0e}load(e){e!==void 0&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ct(e.position.x)),e.position.y!==void 0&&(this.position.y=ct(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}class t0e{constructor(e,t,i,r){var o;this.absorbers=e,this.container=t,this._calcPosition=()=>{const a=i7({size:this.container.canvas.size,position:this.options.position});return gn.create(a.x,a.y)},this._updateParticlePosition=(a,l)=>{if(a.destroyed)return;const c=this.container,u=c.canvas.size;if(a.needsNewPosition){const f=n7({size:u});a.position.setTo(f),a.velocity.setTo(a.initialVelocity),a.absorberOrbit=void 0,a.needsNewPosition=!1}if(this.options.orbits){if(a.absorberOrbit===void 0&&(a.absorberOrbit=gn.create(0,0),a.absorberOrbit.length=Ur(a.getPosition(),this.position),a.absorberOrbit.angle=Tt()*Math.PI*2),a.absorberOrbit.length<=this.size&&!this.options.destroy){const x=Math.min(u.width,u.height);a.absorberOrbit.length=x*(1+(Tt()*.2-.1))}a.absorberOrbitDirection===void 0&&(a.absorberOrbitDirection=a.velocity.x>=0?"clockwise":"counter-clockwise");const f=a.absorberOrbit.length,d=a.absorberOrbit.angle,p=a.absorberOrbitDirection;a.velocity.setTo(gn.origin);const g={x:p==="clockwise"?Math.cos:Math.sin,y:p==="clockwise"?Math.sin:Math.cos};a.position.x=this.position.x+f*g.x(d),a.position.y=this.position.y+f*g.y(d),a.absorberOrbit.length-=l.length,a.absorberOrbit.angle+=(a.retina.moveSpeed??0)*c.retina.pixelRatio/100*c.retina.reduceFactor}else{const f=gn.origin;f.length=l.length,f.angle=l.angle,a.velocity.addTo(f)}},this.initialPosition=r?gn.create(r.x,r.y):void 0,i instanceof $x?this.options=i:(this.options=new $x,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=Qe(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const s=this.options.size.limit;this.limit={radius:s.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:s.mass},this.color=go(this.options.color)??{b:0,g:0,r:0},this.position=((o=this.initialPosition)==null?void 0:o.copy())??this._calcPosition()}attract(e){const t=this.container,i=this.options;if(i.draggable){const c=t.interactivity.mouse;c.clicking&&c.downPosition?Ur(this.position,c.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&c.position&&(this.position.x=c.position.x,this.position.y=c.position.y)}const r=e.getPosition(),{dx:s,dy:o,distance:a}=yr(this.position,r),l=gn.create(s,o);if(l.length=this.mass/Math.pow(a,2)*t.retina.reduceFactor,a<this.size+e.getRadius()){const c=e.getRadius()*.033*t.retina.pixelRatio;this.size>e.getRadius()&&a<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<0?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(i.destroy&&(e.size.value-=c),this._updateParticlePosition(e,l)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=c),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=c*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2,!1),e.closePath(),e.fillStyle=Ra(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&F0(e,this.container.canvas.size,gn.origin)?e:this._calcPosition()}}class n0e{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=t=>t===void 0||xr(t)?this.array[t||0]:this.array.find(i=>i.name===t),e.addAbsorber=(t,i)=>this.addAbsorber(t,i)}addAbsorber(e,t){const i=new t0e(this,this.container,e,t);return this.array.push(i),i}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e==="absorber"){const r=Ps(i),s=r??Ps(t),o=this.container.interactivity.mouse.clickPosition;this.addAbsorber(s,o)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers,Cn(this.absorbers,e=>{this.addAbsorber(e)})}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class i0e{constructor(){this.id="absorbers"}getPlugin(e){return new n0e(e)}loadOptions(e,t){var i,r;!this.needsPlugin(e)&&!this.needsPlugin(t)||(t!=null&&t.absorbers&&(e.absorbers=Cn(t.absorbers,s=>{const o=new $x;return o.load(s),o})),e.interactivity.modes.absorbers=Cn((r=(i=t==null?void 0:t.interactivity)==null?void 0:i.modes)==null?void 0:r.absorbers,s=>{const o=new $x;return o.load(s),o}))}needsPlugin(e){var i,r,s;if(!e)return!1;const t=e.absorbers;return Ei(t)?!!t.length:t?!0:!!((s=(r=(i=e.interactivity)==null?void 0:i.events)==null?void 0:r.onClick)!=null&&s.mode&&En("absorber",e.interactivity.events.onClick.mode))}}async function r0e(n,e=!0){await n.addPlugin(new i0e,e)}class s0e{load(e){e&&(e.bottom!==void 0&&(this.bottom=ct(e.bottom)),e.left!==void 0&&(this.left=ct(e.left)),e.right!==void 0&&(this.right=ct(e.right)),e.top!==void 0&&(this.top=ct(e.top)))}}class o0e extends So{constructor(){super(),this.value=3}}class a0e extends So{constructor(){super(),this.value={min:4,max:9}}}class l0e{constructor(){this.count=1,this.factor=new o0e,this.rate=new a0e,this.sizeOffset=!0}load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=Cn(e.particles,t=>ai({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class c0e{constructor(){this.bounds=new s0e,this.mode="none",this.split=new l0e}load(e){e&&(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}function u0e(n,e,t,i){const r=t.options.destroy;if(!r)return;const s=r.split,o=y3(n,e,t.options),a=kl(s.factor),l=t.getFillColor();s.color?o.color.load(s.color):s.colorOffset&&l?o.color.load({value:{hsl:{h:l.h+Qe(s.colorOffset.h??0),s:l.s+Qe(s.colorOffset.s??0),l:l.l+Qe(s.colorOffset.l??0)}}}):o.color.load({value:{hsl:t.getFillColor()}}),o.move.load({center:{x:t.position.x,y:t.position.y,mode:"precise"}}),xr(o.size.value)?o.size.value/=a:(o.size.value.min/=a,o.size.value.max/=a),o.load(i);const c=s.sizeOffset?ct(-t.size.value,t.size.value):0,u={x:t.position.x+Ui(c),y:t.position.y+Ui(c)};return e.particles.addParticle(u,o,t.group,f=>f.size.value<.5?!1:(f.velocity.length=Ui(ct(t.velocity.length,f.velocity.length)),f.splitCount=(t.splitCount??0)+1,f.unbreakable=!0,setTimeout(()=>{f.unbreakable=!1},500),!0))}function f0e(n,e,t){const i=t.options.destroy;if(!i)return;const r=i.split;if(r.count>=0&&(t.splitCount===void 0||t.splitCount++>r.count))return;const s=kl(r.rate),o=Ps(r.particles);for(let a=0;a<s;a++)u0e(n,e,t,o)}class d0e{constructor(e,t){this.engine=e,this.container=t}init(e){const t=this.container,i=e.options,r=i.destroy;if(!r)return;e.splitCount=0;const s=r.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:o,left:a,right:l,top:c}=s,{destroyBounds:u}=e,f=t.canvas.size;o&&(u.bottom=Qe(o)*f.height/100),a&&(u.left=Qe(a)*f.width/100),l&&(u.right=Qe(l)*f.width/100),c&&(u.top=Qe(c)*f.height/100)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new c0e);for(const i of t)e.destroy.load(i==null?void 0:i.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode==="split"&&f0e(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function h0e(n,e=!0){await n.addParticleUpdater("destroy",t=>new d0e(n,t),e)}class p0e{randomPosition(e,t,i){const r=(f,d)=>{const p=Tt()/4,g=Math.atan(d/f*Math.tan(2*Math.PI*p)),x=Tt();return x<.25?g:x<.5?Math.PI-g:x<.75?Math.PI+g:-g},s=(f,d,p)=>f*d/Math.sqrt((d*Math.cos(p))**2+(f*Math.sin(p))**2),[o,a]=[t.width/2,t.height/2],l=r(o,a),c=s(o,a,l),u=i?c*Math.sqrt(Tt()):c;return{x:e.x+u*Math.cos(l),y:e.y+u*Math.sin(l)}}}class m0e{constructor(){this.wait=!1}load(e){e&&(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=e.delay),e.duration!==void 0&&(this.duration=e.duration),e.wait!==void 0&&(this.wait=e.wait))}}class g0e{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=ct(e.quantity)),e.delay!==void 0&&(this.delay=ct(e.delay)))}}class I7{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class uc{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new m0e,this.rate=new g0e,this.shape="square",this.startCount=0}load(e){e&&(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new I7),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=Cn(e.particles,t=>ai({},t)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ct(e.position.x)),e.position.y!==void 0&&(this.position.y=ct(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new op),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}class v0e{constructor(e,t,i,r,s){var a,l;this.emitters=t,this.container=i,this._calcPosition=()=>i7({size:this.container.canvas.size,position:this.options.position}),this._destroy=()=>{this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._emit=()=>{if(this._paused)return;const c=Qe(this.options.rate.quantity);this._emitParticles(c)},this._emitParticles=c=>{var p,g;const u=this.getPosition(),f=this.getSize(),d=Ps(this._particlesOptions);for(let x=0;x<c;x++){const y=ai({},d);if(this.spawnColor){const _=(p=this.options.spawnColor)==null?void 0:p.animation;_&&(this.spawnColor.h=this._setColorAnimation(_.h,this.spawnColor.h,360),this.spawnColor.s=this._setColorAnimation(_.s,this.spawnColor.s,100),this.spawnColor.l=this._setColorAnimation(_.l,this.spawnColor.l,100)),y.color?y.color.value=this.spawnColor:y.color={value:this.spawnColor}}if(!u)return;const v=((g=this._shape)==null?void 0:g.randomPosition(u,f,this.fill))??u;this.container.particles.addParticle(v,y)}},this._prepareToDie=()=>{var u;if(this._paused)return;const c=(u=this.options.life)==null?void 0:u.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&c!==void 0&&c>0&&(this._duration=c*1e3)},this._setColorAnimation=(c,u,f)=>{const d=this.container;if(!c.enable)return u;const p=Ui(c.offset),g=Qe(this.options.rate.delay),x=1e3*g/d.retina.reduceFactor,y=Qe(c.speed??0);return(u+y*d.fpsLimit/x+p*3.6)%f},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,r instanceof uc?this.options=r:(this.options=new uc,this.options.load(r)),this._spawnDelay=(this.options.life.delay??0)*1e3/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this._shape=(a=this._engine.emitterShapeManager)==null?void 0:a.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let o=ai({},this.options.particles);o??(o={}),o.move??(o.move={}),(l=o.move).direction??(l.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Jc(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=o,this.size=this.options.size??(()=>{const c=new I7;return c.load({height:0,mode:"percent",width:0}),c})(),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{x:(i.x+i.width/2)*e.retina.pixelRatio,y:(i.y+i.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio}}}return Eme(this.size,e.canvas.size)}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0))){if(this._emitDelay===void 0){const e=Qe(this.options.rate.delay);this._emitDelay=1e3*e/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&F0(e,this.container.canvas.size,gn.origin)?e:this._calcPosition()}update(e){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),this._spawnDelay=(this.options.life.delay??0)*1e3/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}}class y0e{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},t.getEmitter=i=>i===void 0||xr(i)?this.array[i||0]:this.array.find(r=>r.name===i),t.addEmitter=(i,r)=>this.addEmitter(i,r),t.removeEmitter=i=>{const r=t.getEmitter(i);r&&this.removeEmitter(r)},t.playEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPlay()},t.pauseEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPause()}}addEmitter(e,t){const i=new uc;i.load(e);const r=new v0e(this._engine,this,this.container,i,t);return this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!=="emitter")return;let r;if(i&&Ei(i.value))if(i.value.length>0&&i.random.enable){r=[];const a=[];for(let l=0;l<i.random.count;l++){const c=o7(i.value);if(a.includes(c)&&a.length<i.value.length){l--;continue}a.push(c),r.push(O0(i.value,c))}}else r=i.value;else r=i==null?void 0:i.value;const s=r??t,o=this.container.interactivity.mouse.clickPosition;Cn(s,a=>{this.addEmitter(a,o)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(Ei(this.emitters))for(const e of this.emitters)this.addEmitter(e);else this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}const pS=new Map;class x0e{constructor(e){this._engine=e}addShape(e,t){this.getShape(e)||pS.set(e,t)}getShape(e){return pS.get(e)}getSupportedShapes(){return pS.keys()}}function XO(n,e){return n+e*(Tt()-.5)}class _0e{randomPosition(e,t,i){if(i)return{x:XO(e.x,t.width),y:XO(e.y,t.height)};{const r=t.width/2,s=t.height/2,o=Math.floor(Tt()*4),a=(Tt()-.5)*2;switch(o){case 0:return{x:e.x+a*r,y:e.y-s};case 1:return{x:e.x-r,y:e.y+a*s};case 2:return{x:e.x+a*r,y:e.y+s};case 3:default:return{x:e.x+r,y:e.y+a*s}}}}}class A0e{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new y0e(this._engine,e)}loadOptions(e,t){var r,s;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t!=null&&t.emitters&&(e.emitters=Cn(t.emitters,o=>{const a=new uc;return a.load(o),a}));const i=(s=(r=t==null?void 0:t.interactivity)==null?void 0:r.modes)==null?void 0:s.emitters;if(i)if(Ei(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(o=>{const a=new uc;return a.load(o),a})};else{const o=i;if(o.value!==void 0)if(Ei(o.value))e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:o.value.map(a=>{const l=new uc;return l.load(a),l})};else{const a=new uc;a.load(o.value),e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:a}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new uc}).value.load(i)}}needsPlugin(e){var i,r,s;if(!e)return!1;const t=e.emitters;return Ei(t)&&!!t.length||t!==void 0||!!((s=(r=(i=e.interactivity)==null?void 0:i.events)==null?void 0:r.onClick)!=null&&s.mode)&&En("emitter",e.interactivity.events.onClick.mode)}}async function b0e(n,e=!0){n.emitterShapeManager||(n.emitterShapeManager=new x0e(n)),n.addEmitterShape||(n.addEmitterShape=(i,r)=>{var s;(s=n.emitterShapeManager)==null||s.addShape(i,r)});const t=new A0e(n);await n.addPlugin(t,e),n.addEmitterShape("circle",new p0e),n.addEmitterShape("square",new _0e)}class w0e{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){e&&(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=ai({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}class S0e extends sa{constructor(e){super(e),this._delay=0}clear(){}init(){}async interact(e){var c,u,f,d;const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const r=t.actualOptions,s=r.interactivity.modes.trail;if(!s)return;const o=s.delay*1e3/this.container.retina.reduceFactor;if(this._delay<o&&(this._delay+=e.value),this._delay<o)return;const a=!(s.pauseOnStop&&(i.mouse.position===this._lastPosition||((c=i.mouse.position)==null?void 0:c.x)===((u=this._lastPosition)==null?void 0:u.x)&&((f=i.mouse.position)==null?void 0:f.y)===((d=this._lastPosition)==null?void 0:d.y))),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,a&&t.particles.push(s.quantity,t.interactivity.mouse,s.particles),this._delay-=o}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&En("trail",s.onClick.mode)||r.inside&&!!r.position&&En("trail",s.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new w0e);for(const i of t)e.trail.load(i==null?void 0:i.trail)}reset(){}}async function E0e(n,e=!0){await n.addInteractor("externalTrail",t=>new S0e(t),e)}function M0e(n){const e=n.options.roll;if(!(e!=null&&e.enable)){n.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(n.roll={enable:e.enable,horizontal:e.mode==="horizontal"||e.mode==="both",vertical:e.mode==="vertical"||e.mode==="both",angle:Tt()*Math.PI*2,speed:Qe(e.speed)/360},e.backColor)n.backColor=Jc(e.backColor);else if(e.darken.enable&&e.enlighten.enable){const t=Tt()>=.5?"darken":"enlighten";n.roll.alter={type:t,value:Qe(t==="darken"?e.darken.value:e.enlighten.value)}}else e.darken.enable?n.roll.alter={type:"darken",value:Qe(e.darken.value)}:e.enlighten.enable&&(n.roll.alter={type:"enlighten",value:Qe(e.enlighten.value)})}function C0e(n,e){const t=n.options.roll,i=n.roll;if(!i||!(t!=null&&t.enable))return;const r=i.speed*e.factor,s=2*Math.PI;i.angle+=r,i.angle>s&&(i.angle-=s)}class YO{constructor(){this.enable=!1,this.value=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=ct(e.value)))}}class T0e{constructor(){this.darken=new YO,this.enable=!1,this.enlighten=new YO,this.mode="vertical",this.speed=25}load(e){e&&(e.backColor!==void 0&&(this.backColor=ti.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=ct(e.speed)))}}class R0e{getTransformValues(e){var s;const t=((s=e.roll)==null?void 0:s.enable)&&e.roll,i=t&&t.horizontal,r=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:r?Math.sin(t.angle):void 0}}init(e){M0e(e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.roll||(e.roll=new T0e);for(const i of t)e.roll.load(i==null?void 0:i.roll)}update(e,t){this.isEnabled(e)&&C0e(e,t)}}async function P0e(n,e=!0){await n.addParticleUpdater("roll",()=>new R0e,e)}class Xx{static init(e){var s;const t=new Xx,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return fg.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,u,f;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(u=o.options)==null?void 0:u.speed},size:{value:(f=o.options)==null?void 0:f.sizeVariations}}}}})}).then(o=>{t._container=o}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const I0e=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,s)=>{n.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},D0e=n=>{const{particlesJS:e,pJSDom:t}=I0e(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Xx,{particlesJS:e,pJSDom:t,Particles:Xx}};function L0e(n){const e=n.initialPosition,{dx:t,dy:i}=yr(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y/2-n.velocity.x),l&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,u=n.velocity;a&&(c.x<e.x&&u.x<0||c.x>e.x&&u.x>0)&&(u.x*=-Tt()),l&&(c.y<e.y&&u.y<0||c.y>e.y&&u.y>0)&&(u.y*=-Tt())}}}function k0e(n,e,t,i,r,s){O0e(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const u=n.options.zIndex,f=(1-n.zIndexFactor)**u.velocityRate;c.multTo(f);const{position:d}=n;d.addTo(c),e.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}function B0e(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function O0e(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Qo(n.velocity.x,-1,1),n.velocity.y=Qo(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function F0e(n){return n.slow.inRange?n.slow.factor:1}const U0e=2;class N0e{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*t.canvas.size.width,y:s.y/100*t.canvas.size.height},a=e.getPosition(),l=Ur(a,o),c=Qe(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:Qe(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var g,x;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=F0e(e),l=((g=e.retina).moveSpeed??(g.moveSpeed=Qe(r.speed)*o))*s.retina.reduceFactor,c=(x=e.retina).moveDrift??(x.moveDrift=Qe(e.options.move.drift)*o),u=yc(i.size.value)*o,f=r.size?e.getRadius()/u:1,d=l*f*a*(t.factor||1)/U0e,p=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?B0e(e,d):k0e(e,r,d,p,c,t),L0e(e)}}async function z0e(n,e=!0){await n.addMover("base",()=>new N0e,e)}class H0e{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=sh(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function G0e(n,e=!0){await n.addShape("circle",new H0e,e)}function mS(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Ui(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function V0e(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&mS(e,o,t,360,!1),a&&mS(e,a,i,100,!0),l&&mS(e,l,r,100,!0)}class W0e{constructor(e){this.container=e}init(e){const t=Jc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=y7(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){V0e(e,t)}}async function j0e(n,e=!0){await n.addParticleUpdater("color",t=>new W0e(t),e)}class $0e{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let X0e=class extends sa{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new _r(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new _r(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:u,dy:f,distance:d}=yr(c.position,i),p=a.speed*a.factor,g=Qo(t7(a.easing)(1-d/r)*p,0,a.maxSpeed),x=gn.create(d===0?p:u/d*g,d===0?p:f/d*g);c.position.subFrom(x)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Cf,r=t.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&En("attract",o)?this._hoverAttract():a&&En("attract",l)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return En("attract",o)||En("attract",a)}loadModeOptions(e,...t){e.attract||(e.attract=new $0e);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function Y0e(n,e=!0){await n.addInteractor("externalAttract",t=>new X0e(n,t),e)}class J0e{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class K0e extends sa{constructor(e){super(e),this._processBounce=(t,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof _r?l7(vM(o),{position:t,radius:i,mass:i**2*Math.PI/2,velocity:gn.origin,factor:gn.origin}):r instanceof Zo&&Sme(o,U0(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,s=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new _r(s.x,s.y,o+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,s=document.querySelectorAll(t);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},u=a.offsetWidth/2*l,f=10*l,d=i.type==="circle"?new _r(c.x,c.y,u+f):new Zo(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,u,d)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===Cf,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&En("bounce",o)?this._processMouseBounce():g3("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&En("bounce",s.onHover.mode)||m3("bounce",o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new J0e);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function q0e(n,e=!0){await n.addInteractor("externalBounce",t=>new K0e(t),e)}class D7{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Ei(this.color)?void 0:this.color;this.color=Cn(e.color,i=>ti.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class Q0e extends D7{constructor(){super(),this.selectors=[]}get ids(){return Cn(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Cn(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class Z0e extends D7{load(e){super.load(e),e&&(this.divs=Cn(e.divs,t=>{const i=new Q0e;return i.load(t),i}))}}function JO(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Qo(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Qo(r,e,n)}}class eve extends sa{constructor(e){super(e),this._clickBubble=()=>{var c;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;t.bubble||(t.bubble={});const o=t.retina.bubbleModeDistance;if(!o||o<0)return;const a=t.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u)),{bubble:l}=t;for(const u of a){if(!l.clicking)continue;u.bubble.inRange=!l.durationEnd;const f=u.getPosition(),d=Ur(f,r),p=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;p>s.duration&&(l.durationEnd=!0),p>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const g={bubbleObj:{optValue:t.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:yc(u.options.size.value)*t.retina.pixelRatio,value:u.size.value},type:"size"};this._process(u,d,p,g);const x={bubbleObj:{optValue:s.opacity,value:u.bubble.opacity},particlesObj:{optValue:yc(u.options.opacity.value),value:((c=u.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(u,d,p,x),!l.durationEnd&&d<=o?this._hoverBubbleColor(u,d):delete u.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=t.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=Ur(a,i),c=1-l/r;l<=r?c>=0&&t.interactivity.status===Cf&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),t.interactivity.status===gM&&this.reset(o)}},this._hoverBubbleColor=(t,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!t.bubble.finalColor){const a=o.color;if(!a)return;const l=Ps(a);t.bubble.finalColor=Jc(l)}if(t.bubble.finalColor)if(o.mix){t.bubble.color=void 0;const a=t.getFillColor();t.bubble.color=a?m7(v3(a,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{var f,d;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=t.options.opacity.value,c=((d=t.opacity)==null?void 0:d.value)??1,u=JO(c,a,yc(l),i);u!==void 0&&(t.bubble.opacity=u)},this._hoverBubbleSize=(t,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=yc(t.options.size.value)*s.retina.pixelRatio,l=t.size.value,c=JO(l,o,a,i);c!==void 0&&(t.bubble.radius=c)},this._process=(t,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const u=c.duration,f=o.retina.bubbleModeDistance,d=s.particlesObj.optValue,p=s.bubbleObj.value,g=s.particlesObj.value||0,x=s.type;if(!(!f||f<0||a===d))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)p&&(x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity);else if(i<=f){if((p??g)!==a){const v=g-r*(g-a)/u;x==="size"&&(t.bubble.radius=v),x==="opacity"&&(t.bubble.opacity=v)}}else x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,u=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},d=c.offsetWidth/2*u,p=r.type==="circle"?new _r(f.x,f.y,d):new Zo(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),g=s.particles.quadTree.query(p,x=>this.isEnabled(x));for(const x of g){if(!p.contains(x.getPosition()))continue;x.bubble.inRange=!0;const y=a.divs,v=a7(y,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,t,!0),x.bubble.div=c),this._hoverBubbleSize(x,1,v),this._hoverBubbleOpacity(x,1,v),this._hoverBubbleColor(x,1,v)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,u=i.onDiv;o&&En("bubble",a)?this._hoverBubble():l&&En("bubble",c)?this._clickBubble():g3("bubble",u,(f,d)=>this._singleSelectorHover(e,f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=m3("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?En("bubble",l.mode)||En("bubble",o.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Z0e);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function tve(n,e=!0){await n.addInteractor("externalBubble",t=>new eve(t),e)}class nve{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class ive{constructor(){this.distance=80,this.links=new nve,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function rve(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=t.getPosition(),c=v3(s,o,e.getRadius(),t.getRadius()),u=n.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,sp(s,i)),u.addColorStop(r>1?1:r,Ra(c,i)),u.addColorStop(1,sp(o,i)),u}function sve(n,e,t,i,r){ug(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function ove(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return rve(e,t,i,s.links.opacity)}function ave(n,e,t){n.canvas.draw(i=>{const r=ove(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();sve(i,e.retina.linksWidth??0,r,s,o)})}class lve extends sa{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const u=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),d=Math.abs(l.x-u.x),p=Math.abs(l.y-u.y);d<f&&p<f&&ave(e,a,c)}++o}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?En("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new ive);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function cve(n,e=!0){await n.addInteractor("externalConnect",t=>new lve(t),e)}class uve{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class fve{constructor(){this.distance=100,this.links=new uve}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function dve(n,e,t,i,r,s){ug(n,t,i),n.strokeStyle=Ra(r,s),n.lineWidth=e,n.stroke()}function hve(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();dve(s,e.retina.linksWidth??0,o,r,t,i)})}class pve extends sa{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Cf)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),u=Ur(c,r);if(u>s)continue;const f=i.modes.grab.links,d=f.opacity,p=d-u*d/s;if(p<=0)continue;const g=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&g){const y=i.modes.grab.links;e.particles.grabLineColor=v7(g,y.blink,y.consent)}const x=yM(l,void 0,e.particles.grabLineColor);x&&hve(e,l,x,p,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&En("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new fve);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function mve(n,e=!0){await n.addInteractor("externalGrab",t=>new pve(t),e)}class gve extends sa{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function vve(n,e=!0){await n.addInteractor("externalPause",t=>new gve(t),e)}class yve{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ct(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=ct(t))}}class xve extends sa{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=Qe(s.quantity);if(o<=0)return;const a=O0([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new yve);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function _ve(n,e=!0){await n.addInteractor("externalPush",t=>new xve(t),e)}class Ave{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ct(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=ct(t))}}class bve extends sa{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const s=Qe(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Ave);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function wve(n,e=!0){await n.addInteractor("externalRemove",t=>new bve(t),e)}class L7{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class Sve extends L7{constructor(){super(),this.selectors=[]}get ids(){return Cn(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Cn(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class Eve extends L7{load(e){super.load(e),e&&(this.divs=Cn(e.divs,t=>{const i=new Sve;return i.load(t),i}))}}class Mve extends sa{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new _r(l.x,l.y,a),u=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of u){const{dx:d,dy:p,distance:g}=yr(l,f.position),x=g**2,y=r.speed,v=-a*y/x;if(x<=a){s.particles.push(f);const _=gn.create(d,p);_.length=v,f.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new _r(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,u=>this.isEnabled(u)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const u of l){const{dx:f,dy:d,distance:p}=yr(u.position,i),g=((o==null?void 0:o.speed)??c.speed)*c.factor,x=Qo(t7(c.easing)(1-p/r)*g,0,c.maxSpeed),y=gn.create(p===0?g:f/p*x,p===0?g:d/p*x);u.position.addTo(y)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,u=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},d=c.offsetWidth/2*u,p=r.type==="circle"?new _r(f.x,f.y,d):new Zo(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),g=o.divs,x=a7(g,c);this._processRepulse(f,d,p,x)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Cf,r=t.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,u=l.mode,f=r.onDiv;i&&o&&En("repulse",a)?this._hoverRepulse():c&&En("repulse",u)?this._clickRepulse():g3("repulse",f,(d,p)=>this._singleSelectorRepulse(d,p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=m3("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,f=l.mode;return En("repulse",u)||En("repulse",f)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new Eve);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function Cve(n,e=!0){await n.addInteractor("externalRepulse",t=>new Mve(n,t),e)}class Tve{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class Rve extends sa{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&En("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new Tve);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=Ur(r,a),c=l/s,u=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/u)}}async function Pve(n,e=!0){await n.addInteractor("externalSlow",t=>new Rve(t),e)}const gS=[0,4,2,1],KO=[8,8,4,2];class Ive{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function k7(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function Dve(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function Lve(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const u=1<<(a&7)+1;l&&(o.localColorTable=k7(n,u));const f=v=>{const{r:_,g:A,b:w}=(l?o.localColorTable:e.globalColorTable)[v];return{r:_,g:A,b:w,a:v===r(null)?t?~~((_+A+w)/3):0:255}},d=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(v){if(v instanceof DOMException&&v.name==="IndexSizeError")return null;throw v}})();if(d==null)throw new EvalError("GIF frame size is to large");const p=n.nextByte(),g=n.readSubBlocksBin(),x=1<<p,y=(v,_)=>{const A=v>>>3,w=v&7;return(g[A]+(g[A+1]<<8)+(g[A+2]<<16)&(1<<_)-1<<w)>>>w};if(c){for(let v=0,_=p+1,A=0,w=[[0]],E=0;E<4;E++){if(gS[E]<o.height)for(let M=0,C=0;;){const P=v;if(v=y(A,_),A+=_+1,v===x){_=p+1,w.length=x+2;for(let T=0;T<w.length;T++)w[T]=T<x?[T]:[]}else{v>=w.length?w.push(w[P].concat(w[P][0])):P!==x&&w.push(w[P].concat(w[v][0]));for(let T=0;T<w[v].length;T++){const{r:D,g:O,b:N,a:z}=f(w[v][T]);d.data.set([D,O,N,z],gS[E]*o.width+KO[E]*C+M%(o.width*4)),M+=4}w.length===1<<_&&_<12&&_++}if(M===o.width*4*(C+1)&&(C++,gS[E]+KO[E]*C>=o.height))break}s==null||s(n.pos/(n.data.length-1),i(!1)+1,d,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=d,o.bitmap=await createImageBitmap(d)}else{for(let v=0,_=p+1,A=0,w=[[0]],E=-4;;){const M=v;if(v=y(A,_),A+=_,v===x){_=p+1,w.length=x+2;for(let C=0;C<w.length;C++)w[C]=C<x?[C]:[]}else{if(v===x+1)break;v>=w.length?w.push(w[M].concat(w[M][0])):M!==x&&w.push(w[M].concat(w[v][0]));for(let C=0;C<w[v].length;C++){const{r:P,g:T,b:D,a:O}=f(w[v][C]);d.data.set([P,T,D,O],E+=4)}w.length>=1<<_&&_<12&&_++}}o.image=d,o.bitmap=await createImageBitmap(d),s==null||s((n.pos+1)/n.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function kve(n,e,t,i,r,s){switch(n.nextByte()){case 59:return!0;case 44:await Lve(n,e,t,i,r,s);break;case 33:await Dve(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function Bve(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function Ove(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new Ive(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,u=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=k7(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(w){if(w instanceof DOMException&&w.name==="IndexSizeError")return null;throw w}})();if(f==null)throw new Error("GIF frame size is to large");const{r:d,g:p,b:g}=s.globalColorTable[u];f.data.set(l?[d,p,g,255]:[0,0,0,0]);for(let w=4;w<f.data.length;w*=2)f.data.copyWithin(w,0,w);s.backgroundImage=f;let x=-1,y=!0,v=-1;const _=w=>(w&&(y=!0),x),A=w=>(w!=null&&(v=w),v);try{do y&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),x++,v=-1,y=!1);while(!await kve(o,s,t,_,A,e));s.frames.length--;for(const w of s.frames){if(w.userInputDelayFlag&&w.delayTime===0){s.totalTime=1/0;break}s.totalTime+=w.delayTime}return s}catch(w){throw w instanceof EvalError?new Error(`error while parsing frame ${x} "${w.message}"`):w}}const Fve=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function Uve(n,e,t){const{svgData:i}=n;if(!i)return"";const r=sp(e,t);if(i.includes("fill"))return i.replace(Fve,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function dA(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,Tf().error(`${Ao} loading image: ${n.source}`),e()}),t.src=n.source})}async function Nve(n){if(n.type!=="gif"){await dA(n);return}n.loading=!0;try{n.gifData=await Ove(n.source),n.gifLoopCount=Bve(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function zve(n){if(n.type!=="svg"){await dA(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(Tf().error(`${Ao} Image not found`),n.error=!0),n.loading=!1}function Hve(n,e,t,i){var o;const r=Uve(n,t,((o=i.opacity)==null?void 0:o.value)??1),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(u)}),f.addEventListener("error",async()=>{c.revokeObjectURL(u);const d={...n,error:!1,loading:!0};await dA(d),s.loaded=!0,s.element=d.element,a(s)}),f.src=u})}class Gve{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Ao} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,s){const o=t.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),t.gifLoopCount===void 0&&(t.gifLoopCount=o.gifLoopCount??0);let u=t.gifFrame??0;const f={x:-o.gifData.width*.5,y:-o.gifData.height*.5},d=o.gifData.frames[u];if(t.gifTime===void 0&&(t.gifTime=0),!d.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),d.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(d.bitmap,d.left,d.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(d.bitmap,d.left,d.top),e.drawImage(l,f.x,f.y);break;case 2:c.drawImage(d.bitmap,d.left,d.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,f.x+d.left,f.y+d.top):c.putImageData(o.gifData.backgroundImage,f.x,f.y);break;case 3:{const p=c.getImageData(0,0,l.width,l.height);c.drawImage(d.bitmap,d.left,d.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),c.putImageData(p,0,0)}break}if(t.gifTime+=s.value,t.gifTime>d.delayTime){if(t.gifTime-=d.delayTime,++u>=o.gifData.frames.length){if(--t.gifLoopCount<=0)return;u=0,c.clearRect(0,0,l.width,l.height)}t.gifFrame=u}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,s=t.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&s?l=await Hve(o,r,s,t):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.fill,u=r.close??t.close,f={image:l,fill:c,close:u};t.image=f.image,t.fill=f.fill,t.close=f.close})()}}class Vve{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Wve{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new Vve;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function jve(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Ao} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?Nve:e.replaceColor?zve:dA)(t)}catch{throw new Error(`${Ao} ${e.name??e.src} not found`)}})}async function $ve(n,e=!0){jve(n);const t=new Wve(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new Gve(n),e)}class Xve extends So{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Yve extends So{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Jve{constructor(){this.count=0,this.delay=new Xve,this.duration=new Yve}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Kve{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?Qe(r.delay.value)*(r.delay.sync?1:Tt())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?Qe(r.duration.value)*(r.duration.sync?1:Tt())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new Jve);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=ct(0,s.width),a=ct(0,s.width);e.position.x=Ui(o),e.position.y=Ui(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=Qe(l.delay.value)*1e3,i.duration=Qe(l.duration.value)*1e3)}}async function qve(n,e=!0){await n.addParticleUpdater("life",t=>new Kve(t),e)}class Qve{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function Zve(n,e=!0){await n.addShape("line",new Qve,e)}function eye(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function tye(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),eye(n,t.value,i,r),n.destroyed||(t.value=Qo(t.value,i,r))}}class nye{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=u7(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=Qe(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Tt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&tye(e,t)}}async function iye(n,e=!0){await n.addParticleUpdater("opacity",t=>new nye(t),e)}function rye(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split")return;n.bounds.right<0?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=kl(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function sye(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split")return;n.bounds.bottom<0?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=kl(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class oye{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,d]of s.plugins)if(d.particleBounce!==void 0&&(o=d.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),u=U0(a,c),f=s.canvas.size;rye({particle:e,outMode:r,direction:t,bounds:u,canvasSize:f,offset:l,size:c}),sye({particle:e,outMode:r,direction:t,bounds:u,canvasSize:f,offset:l,size:c})}}class aye{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(F0(e.position,s.canvas.size,gn.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=yr(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class lye{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;F0(e.position,o.canvas.size,gn.origin,l,t)||o.particles.remove(e)}}}class cye{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=gn.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(gn.create(e.moveCenter));const{dx:c,dy:u}=yr(e.position,l);if(o<=0&&c>=0||a<=0&&u>=0||o>=0&&c<=0||a>=0&&u<=0)return;e.position.x=Math.floor(Ui({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Ui({min:0,max:s.canvas.size.height}));const{dx:f,dy:d}=yr(e.position,e.moveCenter);e.direction=Math.atan2(-d,-f),e.velocity.angle=e.direction;break}default:{if(F0(e.position,s.canvas.size,gn.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Ui({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ui({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=yr(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),u=U0(e.position,c);t==="right"&&u.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Tt()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&u.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Tt()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&u.top>a.height+e.offset.y?(o||(e.position.x=Tt()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&u.bottom<-e.offset.y&&(o||(e.position.x=Tt()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class uye{constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new oye(e),new aye(e),new cye(e),new lye(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function fye(n,e=!0){await n.addParticleUpdater("outModes",t=>new uye(t),e)}class dye{init(){}isEnabled(e){return!ip()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(ip()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,u=e.getRadius()/s,f={x:(o.x-l.x)*u,y:(o.y-l.y)*u},{offset:d}=e;d.x+=(f.x-d.x)/c,d.y+=(f.y-d.y)/c}}async function hye(n,e=!0){await n.addMover("parallax",()=>new dye,e)}class pye extends x3{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=yr(r,a),u=e.options.move.attract.rotate,f=l/(u.x*1e3),d=c/(u.y*1e3),p=o.size.value/e.size.value,g=1/p;e.velocity.x-=f*p,e.velocity.y-=d*p,o.velocity.x+=f*g,o.velocity.y+=d*g}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function mye(n,e=!0){await n.addInteractor("particlesAttract",t=>new pye(t),e)}function qO(n,e,t,i,r,s){const o=Qo(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=o/2,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function gye(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?qO(n,r,e,s,t,i):qO(e,s,n,r,t,i))}const QO=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=Qe(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function B7(n,e){l7(vM(n),vM(e)),QO(n),QO(e)}function vye(n,e){!n.unbreakable&&!e.unbreakable&&B7(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function yye(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{gye(n,e,t,i);break}case"bounce":{B7(n,e);break}case"destroy":{vye(n,e);break}}}class xye extends x3{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const u=Ur(r,l),f=s+c;u>f||yye(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function _ye(n,e=!0){await n.addInteractor("particlesCollisions",t=>new xye(t),e)}class Aye extends _r{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new _r(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new Zo(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class bye{constructor(){this.blur=5,this.color=new ti,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ti.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class wye{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Sye{constructor(){this.blink=!1,this.color=new ti,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new bye,this.triangles=new wye,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ti.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function Eye(n,e,t,i,r){const{dx:s,dy:o,distance:a}=yr(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class Mye extends x3{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=v7(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new Aye(t.x,t.y,a,r):new _r(t.x,t.y,a),u=i.particles.quadTree.query(c);for(const f of u){const d=f.options.links;if(e===f||!(d!=null&&d.enable)||s.id!==d.id||f.spawning||f.destroyed||!f.links||e.links.some(y=>y.destination===f)||f.links.some(y=>y.destination===e))continue;const p=f.getPosition();if(p.x<0||p.y<0||p.x>r.width||p.y>r.height)continue;const g=Eye(t,p,a,r,l&&d.warp);if(g>a)continue;const x=(1-g/a)*o;this._setColor(e),e.links.push({destination:f,opacity:x})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new Sye);for(const i of t)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function Cye(n,e=!0){await n.addInteractor("particlesLinks",t=>new Mye(t),e)}function Tye(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:u,links:f}=n;if(Ur(t,i)<=r)ug(s,t,i),e=!0;else if(f.warp){let p,g;const x={x:i.x-o.width,y:i.y},y=yr(t,x);if(y.distance<=r){const v=t.y-y.dy/y.dx*t.x;p={x:0,y:v},g={x:o.width,y:v}}else{const v={x:i.x,y:i.y-o.height},_=yr(t,v);if(_.distance<=r){const w=-(t.y-_.dy/_.dx*t.x)/(_.dy/_.dx);p={x:w,y:0},g={x:w,y:o.height}}else{const A={x:i.x-o.width,y:i.y-o.height},w=yr(t,A);if(w.distance<=r){const E=t.y-w.dy/w.dx*t.x;p={x:-E/(w.dy/w.dx),y:E},g={x:p.x+o.width,y:p.y+o.height}}}}p&&g&&(ug(s,t,p),ug(s,i,g),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=Ra(c,u);const{shadow:d}=f;if(d.enable){const p=go(d.color);p&&(s.shadowBlur=d.blur,s.shadowColor=Ra(p))}s.stroke()}function Rye(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;Rme(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Ra(o,a),e.fill()}function Pye(n){return n.sort((e,t)=>e-t),n.join("_")}function ZO(n,e){const t=Pye(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Tt(),e.set(t,i)),i}class Iye{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=this.container,s=r.actualOptions,o=i.destination,a=t.getPosition(),l=o.getPosition();let c=i.opacity;r.canvas.draw(u=>{var v;if(!t.options.links)return;let f;const d=(v=t.options.twinkle)==null?void 0:v.lines;if(d!=null&&d.enable){const _=d.frequency,A=go(d.color);Tt()<_&&A&&(f=A,c=Qe(d.opacity))}const p=t.options.links;if(!f){const _=(p==null?void 0:p.id)!==void 0?r.particles.linksColors.get(p.id):r.particles.linksColor;f=yM(t,o,_)}if(!f)return;const g=t.retina.linksWidth??0,x=t.retina.linksDistance??0,{backgroundMask:y}=s;Tye({context:u,width:g,begin:a,end:l,maxDistance:x,canvasSize:r.canvas.size,links:p,backgroundMask:y,colorLine:f,opacity:c})})},this._drawLinkTriangle=(t,i,r)=>{if(!t.options.links)return;const s=this.container,o=s.actualOptions,a=i.destination,l=r.destination,c=t.options.links.triangles,u=c.opacity??(i.opacity+r.opacity)/2;u<=0||s.canvas.draw(f=>{const d=t.getPosition(),p=a.getPosition(),g=l.getPosition(),x=t.retina.linksDistance??0;if(Ur(d,p)>x||Ur(g,p)>x||Ur(g,d)>x)return;let y=go(c.color);if(!y){const v=t.options.links,_=(v==null?void 0:v.id)!==void 0?s.particles.linksColors.get(v.id):s.particles.linksColor;y=yM(t,a,_)}y&&Rye({context:f,pos1:d,pos2:p,pos3:g,backgroundMask:o.backgroundMask,colorTriangle:y,opacityTriangle:u})})},this._drawTriangles=(t,i,r,s)=>{var l,c,u;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(u=o.links)==null?void 0:u.filter(f=>{const d=this._getLinkFrequency(o,f.destination);return o.options.links&&d<=o.options.links.frequency&&s.findIndex(p=>p.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const d=f.destination;this._getTriangleFrequency(i,o,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>ZO([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>ZO([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class Dye{constructor(){this.id="links"}getPlugin(e){return new Iye(e)}loadOptions(){}needsPlugin(){return!0}}async function Lye(n,e=!0){const t=new Dye;await n.addPlugin(t,e)}async function kye(n,e=!0){await Cye(n,e),await Lye(n,e)}class O7{draw(e,t,i){const r=this.getCenter(t,i),s=this.getSidesData(t,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let u=0;u<o;u++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const t=e.shapeData;return Math.round(Qe((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}}class Bye extends O7{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class Oye extends O7{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function Fye(n,e=!0){await n.addShape("polygon",new Bye,e)}async function Uye(n,e=!0){await n.addShape("triangle",new Oye,e)}async function Nye(n,e=!0){await Fye(n,e),await Uye(n,e)}class zye{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ct(e.speed)),e.decay!==void 0&&(this.decay=ct(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Hye extends So{constructor(){super(),this.animation=new zye,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function Gye(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,s=(t.velocity??0)*e.factor,o=2*Math.PI,a=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=s,t.value>o&&(t.value-=o);break;case"decreasing":default:t.value-=s,t.value<0&&(t.value+=o);break}t.velocity&&a!==1&&(t.velocity*=a)}}class Vye{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Qe(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(Tt()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-Qe(r.decay),e.rotate.velocity=Qe(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Tt())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new Hye);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){var i;this.isEnabled(e)&&(Gye(e,t),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function Wye(n,e=!0){await n.addParticleUpdater("rotate",t=>new Vye(t),e)}function jye(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function $ye(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),jye(n,t.value,r,s),n.destroyed||(t.value=Qo(t.value,r,s))}}class Xye{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=Tt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&$ye(e,t)}}async function Yye(n,e=!0){await n.addParticleUpdater("size",()=>new Xye,e)}const Jye=Math.sqrt(2);class Kye{draw(e,t,i){const r=i/Jye,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function qye(n,e=!0){await n.addShape(["edge","square"],new Kye,e)}class Qye{draw(e,t,i){const r=t.sides,s=t.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(Qe((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}particleInit(e,t){const i=t.shapeData,r=Qe((i==null?void 0:i.inset)??2);t.starInset=r}}async function Zye(n,e=!0){await n.addShape("star",new Qye,e)}function vS(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Ui(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function e1e(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:s,s:o,l:a}=n.strokeAnimation;t&&vS(e,t,s,360,!1),i&&vS(e,i,o,100,!0),r&&vS(e,r,a,100,!0)}class t1e{constructor(e){this.container=e}init(e){var o;const t=this.container,i=e.options,r=Ps(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=Qe(r.width)*t.retina.pixelRatio,e.strokeOpacity=Qe(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Jc(r.color)??e.getFillColor();s&&(e.strokeColor=y7(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&e1e(e,t)}}async function n1e(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new t1e(t),e)}const B1=["text","character","char"];class i1e{draw(e,t,i,r){const s=t.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;t.text===void 0&&(t.text=Ps(o,t.randomIndexData));const a=t.text,l=s.style??"",c=s.weight??"400",u=Math.round(i)*2,f=s.font??"Verdana",d=t.fill,p=a.length*i/2;e.font=`${l} ${c} ${u}px "${f}"`;const g={x:-p,y:i/2};e.globalAlpha=r,d?e.fillText(a,g.x,g.y):e.strokeText(a,g.x,g.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(B1.find(i=>En(i,t.particles.shape.type))){const i=B1.map(s=>t.particles.shape.options[s]).find(s=>!!s),r=[];Cn(i,s=>{r.push(Ame(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!B1.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Ps(r,t.randomIndexData))}}async function r1e(n,e=!0){await n.addShape(B1,new i1e,e)}async function s1e(n,e=!0){D0e(n),await z0e(n,!1),await hye(n,!1),await Y0e(n,!1),await q0e(n,!1),await tve(n,!1),await cve(n,!1),await mve(n,!1),await vve(n,!1),await _ve(n,!1),await wve(n,!1),await Cve(n,!1),await Pve(n,!1),await mye(n,!1),await _ye(n,!1),await kye(n,!1),await G0e(n,!1),await $ve(n,!1),await Zve(n,!1),await Nye(n,!1),await qye(n,!1),await Zye(n,!1),await r1e(n,!1),await qve(n,!1),await iye(n,!1),await Yye(n,!1),await j0e(n,!1),await fye(n,!1),await Wye(n,!1),await n1e(n,!1),await n.refresh(e)}class o1e{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ct(e.speed)),e.decay!==void 0&&(this.decay=ct(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class a1e extends So{constructor(){super(),this.animation=new o1e,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}function l1e(n,e){if(!n.tilt||!n.options.tilt)return;const t=n.options.tilt,i=t.animation,r=(n.tilt.velocity??0)*e.factor,s=2*Math.PI,o=n.tilt.decay??1;if(i.enable){switch(n.tilt.status){case"increasing":n.tilt.value+=r,n.tilt.value>s&&(n.tilt.value-=s);break;case"decreasing":default:n.tilt.value-=r,n.tilt.value<0&&(n.tilt.value+=s);break}n.tilt.velocity&&o!==1&&(n.tilt.velocity*=o)}}class c1e{constructor(e){this.container=e}getTransformValues(e){var i;const t=((i=e.tilt)==null?void 0:i.enable)&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){var s;const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:Qe(t.value)*Math.PI/180,sinDirection:Tt()>=.5?1:-1,cosDirection:Tt()>=.5?1:-1};let i=t.direction;switch(i==="random"&&(i=Math.floor(Tt()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.tilt.status="decreasing";break;case"clockwise":e.tilt.status="increasing";break}const r=(s=e.options.tilt)==null?void 0:s.animation;r!=null&&r.enable&&(e.tilt.decay=1-Qe(r.decay),e.tilt.velocity=Qe(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=Tt()))}isEnabled(e){var i;const t=(i=e.options.tilt)==null?void 0:i.animation;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.tilt||(e.tilt=new a1e);for(const i of t)e.tilt.load(i==null?void 0:i.tilt)}update(e,t){this.isEnabled(e)&&l1e(e,t)}}async function u1e(n,e=!0){await n.addParticleUpdater("tilt",t=>new c1e(t),e)}class e4{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ti.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=ct(e.opacity)))}}class f1e{constructor(){this.lines=new e4,this.particles=new e4}load(e){e&&(this.lines.load(e.lines),this.particles.load(e.particles))}}class d1e{getColorStyles(e,t,i,r){const s=e.options,o=s.twinkle;if(!o)return{};const a=o.particles,l=a.enable&&Tt()<a.frequency,c=e.options.zIndex,u=(1-e.zIndexFactor)**c.opacityRate,f=l?Qe(a.opacity)*u:r,d=Jc(a.color),p=d?sp(d,f):void 0,g={},x=l&&p;return g.fill=x?p:void 0,g.stroke=x?p:void 0,g}init(){}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new f1e);for(const i of t)e.twinkle.load(i==null?void 0:i.twinkle)}update(){}}async function h1e(n,e=!0){await n.addParticleUpdater("twinkle",()=>new d1e,e)}class p1e{constructor(){this.angle=50,this.move=10}load(e){e&&(e.angle!==void 0&&(this.angle=ct(e.angle)),e.move!==void 0&&(this.move=ct(e.move)))}}class m1e{constructor(){this.distance=5,this.enable=!1,this.speed=new p1e}load(e){if(e&&(e.distance!==void 0&&(this.distance=ct(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(xr(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}function g1e(n,e){const{wobble:t}=n.options,{wobble:i}=n;if(!(t!=null&&t.enable)||!i)return;const r=i.angleSpeed*e.factor,s=i.moveSpeed*e.factor,o=s*((n.retina.wobbleDistance??0)*e.factor)/(1e3/60),a=2*Math.PI,{position:l}=n;i.angle+=r,i.angle>a&&(i.angle-=a),l.x+=o*Math.cos(i.angle),l.y+=o*Math.abs(Math.sin(i.angle))}class v1e{constructor(e){this.container=e}init(e){const t=e.options.wobble;t!=null&&t.enable?e.wobble={angle:Tt()*Math.PI*2,angleSpeed:Qe(t.speed.angle)/360,moveSpeed:Qe(t.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=Qe((t==null?void 0:t.distance)??0)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!!((t=e.options.wobble)!=null&&t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new m1e);for(const i of t)e.wobble.load(i==null?void 0:i.wobble)}update(e,t){this.isEnabled(e)&&g1e(e,t)}}async function y1e(n,e=!0){await n.addParticleUpdater("wobble",t=>new v1e(t),e)}async function x1e(n,e=!0){await h0e(n,!1),await P0e(n,!1),await u1e(n,!1),await h1e(n,!1),await y1e(n,!1),await E0e(n,!1),await r0e(n,!1),await b0e(n,!1),await s1e(n,e)}const _1e=!0,A1e={color:{value:"#efefef00"},image:"",position:"absolute",repeat:"",size:"",opacity:1},b1e={composite:"destination-out",cover:{color:{value:"#fff"},opacity:1},enable:!1},w1e={},S1e=0,E1e={enable:!1,zIndex:-15},M1e=!0,C1e=0,T1e=60,R1e={detectsOn:"window",events:{onClick:{enable:!1,mode:[]},onDiv:{selectors:[],enable:!1,mode:[],type:"circle"},onHover:{enable:!0,mode:"trail",parallax:{enable:!1,force:2,smooth:10}},resize:{delay:.5,enable:!0}},modes:{trail:{delay:.005,pauseOnStop:!0,quantity:5,particles:{color:{value:"#000"},collisions:{enable:!1},links:{enable:!1},move:{outModes:{default:"destroy"},speed:2},size:{value:5,animation:{enable:!0,speed:5,minimumValue:1,sync:!0,startValue:"min",destroy:"max"}}}},attract:{distance:200,duration:.4,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:1},bounce:{distance:200},bubble:{distance:200,duration:.4,mix:!1,divs:{distance:200,duration:.4,mix:!1,selectors:[]}},connect:{distance:80,links:{opacity:.5},radius:60},grab:{distance:100,links:{blink:!1,consent:!1,opacity:1}},push:{default:!0,groups:[],quantity:4},remove:{quantity:2},repulse:{distance:200,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",divs:{distance:200,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",selectors:[]}},slow:{factor:3,radius:200},light:{area:{gradient:{start:{value:"#ffffff"},stop:{value:"#000000"}},radius:1e3},shadow:{color:{value:"#000000"},length:2e3}}}},P1e=[],I1e={bounce:{horizontal:{random:{enable:!1,minimumValue:.1},value:1},vertical:{random:{enable:!1,minimumValue:.1},value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{random:{enable:!1,minimumValue:.1},value:1},vertical:{random:{enable:!1,minimumValue:.1},value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:"#000"},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{random:{enable:!1,minimumValue:0},value:0},enable:!1,options:{}},outModes:{default:"out",bottom:"out",left:"out",right:"out",top:"out"},random:!1,size:!1,speed:2,spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:1920,height:1080},limit:0,value:150},opacity:{random:{enable:!0,minimumValue:.3},value:{min:.3,max:.8},animation:{count:0,enable:!0,speed:.5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none",minimumValue:.3}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{random:{enable:!0,minimumValue:1},value:{min:1,max:3},animation:{count:0,enable:!0,speed:3,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none",minimumValue:1}},stroke:{width:0},zIndex:{random:{enable:!1,minimumValue:0},value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{random:{enable:!1,minimumValue:0},value:3},rate:{random:{enable:!1,minimumValue:0},value:{min:4,max:9}},sizeOffset:!0,particles:{}}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{random:{enable:!1,minimumValue:0},value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{random:{enable:!1,minimumValue:0},value:0,sync:!1},duration:{random:{enable:!1,minimumValue:1e-4},value:0,sync:!1}},rotate:{random:{enable:!1,minimumValue:0},value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{random:{enable:!1,minimumValue:0},value:45},width:1},links:{blink:!1,color:{value:"random"},consent:!1,distance:100,enable:!0,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{random:{enable:!1,minimumValue:0},value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},D1e=!0,L1e=!0,k1e=[],B1e=!1,O1e={},F1e=[],U1e=100,N1e=[],z1e={autoPlay:_1e,background:A1e,backgroundMask:b1e,defaultThemes:w1e,delay:S1e,fullScreen:E1e,detectRetina:M1e,duration:C1e,fpsLimit:T1e,interactivity:R1e,manualParticles:P1e,particles:I1e,pauseOnBlur:D1e,pauseOnOutsideViewport:L1e,responsive:k1e,smooth:B1e,style:O1e,themes:F1e,zLayers:U1e,emitters:N1e},H1e=93,G1e=n=>{const e=I.useRef(),t=ia(),i=I.useCallback(s=>{x1e(s)},[]),r=t.pages-1;return Sr(()=>{var s=t.range(3/r,6/r).toFixed(5),o=t.visible(3/r,6/r);o&&s>0&&s<1&&(e.current.style.top=s*(H1e*6)+"dvh")}),k.jsxs("div",{ref:e,className:"ParticlesContainer",children:[k.jsx(R7,{id:n.id,init:i,options:z1e}),";"]})},Mm=93,yS={technicalSkills:[{name:"HTML5",image:Ope},{name:"JavaScript",image:Fpe},{name:"ReactJs",image:MO},{name:"CSS3",image:Upe},{name:"NodeJs",image:Npe},{name:"MongoDB",image:zpe},{name:"NextJs",image:Hpe},{name:"Redux",image:Gpe},{name:"TypeScript",image:Vpe},{name:"Solidity",image:Wpe},{name:"AWS",image:jpe},{name:"Google Cloud",image:$pe},{name:"Azure",image:Xpe},{name:"Blockchain",image:Ype}],softSkills:[{name:"Communication",image:Jpe},{name:"Presentation",image:Kpe},{name:"Public Speaking",image:qpe},{name:"Problem Solving",image:Qpe}],familarWith:[{name:"PhotoShop",image:Zpe},{name:"Ui/Ux Designing",image:tme},{name:"Illustrator",image:eme},{name:"ThreeJs",image:nme},{name:"React Native",image:MO}],BG:[ime]};function V1e(){const n=I.useRef(),e=I.useRef(),t=ia(),i=t.pages-1;return Sr(()=>{const r=t.range(1.5/i,1/i).toFixed(4);n.current.style.transform=`translateX(${r*60-30}%)`,e.current.style.transform=`translateX(${30-r*60}%)`}),k.jsxs("div",{className:"skillsHeading Heading",children:[k.jsx("div",{ref:n,name:"HeadingAboutMeBackSkills",className:"HeadingBackgroundSkills",children:"Skills"}),k.jsx("div",{ref:e,name:"HeadingAboutMeFrontSkills",className:"HeadingForegroundSkills",children:"My Skills"})]})}function W1e({img:n,name:e}){return k.jsxs("div",{className:"SkillBox",children:[k.jsx("img",{className:"SkillsIcon",src:n,alt:"Not found"}),k.jsx("p",{children:e})]})}function xS({rangeStart:n,refe:e,name:t,skills:i,BG:r}){const s=I.useRef(),o=I.useRef(null),a=I.useRef(null),l=ia(),c=l.pages-1;return I.useLayoutEffect(()=>{s.current=Eh.timeline({duration:1}),s.current.fromTo(o.current,{opacity:0},{duration:.25,opacity:1},0).to(o.current,{duration:.25,opacity:0},.45).fromTo(a.current,{opacity:0},{duration:.25,opacity:1},.7).to(a.current,{duration:.25,opacity:0},1.15)},[]),Sr(()=>{const u=l.range(n/c,2/c).toFixed(5);s.current.seek(u*s.current.duration())},[]),k.jsxs("div",{style:{backgroundImage:`url("${r}")`},ref:e,className:"SkillContainerOuter",children:[k.jsx("div",{ref:o,className:"SkillsType",children:t}),k.jsx("div",{ref:a,className:"Skills",children:i.map((u,f)=>k.jsx(W1e,{name:u.name,img:u.image},t+f))})]})}function j1e(){const n=ia(),e=I.useRef(),t=I.useRef(),i=I.useRef(),r=I.useRef(),s=n.pages-1;return r.current=Eh.timeline(),n.el.id="MAINDIVSCROLLCONTAINER",n.fill.id="MAINHEIGHTSETTINGCONTAINER",Sr(()=>{var o=n.range(3/s,2/s).toFixed(5),a=n.range(5/s,2/s).toFixed(5),l=n.range(7/s,2/s).toFixed(5),c=n.visible(3/s,6/s);c?o>0&&o<1?(e.current.style.display="inline-block",t.current.style.display="none",i.current.style.display="none",e.current.style.position="absolute",e.current.style.top=o*(Mm*2)+"dvh"):a>0&&a<1?(t.current.style.display="inline-block",e.current.style.display="none",i.current.style.display="none",t.current.style.position="absolute",t.current.style.top=a*(Mm*2)+Mm*2+"dvh"):l>0&&l<1&&(i.current.style.display="inline-block",t.current.style.display="none",e.current.style.display="none",i.current.style.position="absolute",i.current.style.top=l*(Mm*2)+Mm*4+"dvh"):(e.current.style.display="none",t.current.style.display="none",i.current.style.display="none")}),k.jsxs("section",{id:"SkillsSection",children:[k.jsx("div",{className:"SkillHeadingContainer",children:k.jsx(V1e,{})}),k.jsxs("div",{className:"keepScrolling",children:[k.jsx("i",{children:"Scroll more to explore more"})," ",">>"]}),k.jsxs("div",{className:"SkillsMainContainer",children:[k.jsx(xS,{refe:e,rangeStart:3,name:"Technical Skills",skills:yS.technicalSkills}),k.jsx(xS,{refe:t,rangeStart:5,name:"Soft Skills",skills:yS.softSkills}),k.jsx(xS,{refe:i,rangeStart:7,name:"Also Familiar With",skills:yS.familarWith})]}),k.jsx(G1e,{})]})}function $1e(){return k.jsxs("div",{className:"HerobackgroundDiv",children:[k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"}),k.jsx("div",{className:"designDivHero"})]})}function X1e(){return k.jsx("section",{id:"heroSection",children:k.jsxs("div",{className:"HeroOuter",children:[k.jsx($1e,{}),k.jsxs("div",{className:"HeroContent",children:[k.jsxs("div",{className:"mainContent",children:[k.jsx("h1",{className:"HeroName",children:"Jastagar Singh Brar"}),k.jsxs("h2",{className:"HeroProfession",children:["I'm a ",k.jsx("span",{className:"highSpan",children:"Full Stack Developer"})]})]}),k.jsx("div",{className:"CanvasContainer",children:k.jsx(Vz,{position:[0,0,-4]})}),k.jsxs("div",{className:"readMore",children:[k.jsx("div",{className:"HeroButton",children:"Resume"}),k.jsx("div",{className:"ScrollHero",children:"Scroll"})]})]})]})})}function Y1e(){const n=I.useRef(),e=I.useRef(),t=ia();return Sr(()=>{const i=t.range(.03,.1).toFixed(5);n.current.style.translate=`${i*20-10}% 0px`,e.current.style.translate=`${i*10-5}% 0px`}),k.jsxs("div",{className:"Heading AboutMeHeading",children:[k.jsx("div",{ref:n,className:"HeadingBackground AboutMeHeadingBackground",children:"About"}),k.jsx("div",{ref:e,className:"HeadingForeground AboutMeHeadingForeground",children:"About Me"})]})}function J1e(){return k.jsxs("div",{className:"WritingSection",children:[k.jsxs("div",{className:"Saying",children:[k.jsx("p",{children:"The saying -"}),k.jsx("blockquote",{children:'"Be formless, shapeless, like water. You put water into a cup, it becomes the cup. You put water into a bottle, it becomes the bottle. You put it into a teapot, it becomes the teapot. Now water can flow or it can crash. Be water, my friend"'})]}),k.jsx("div",{className:"AfterSaying",children:k.jsx("div",{className:"innerAfterSaying",children:"- describes me perfectly"})}),k.jsx("div",{className:"AboutOverview",children:k.jsx("div",{className:"innerAboutOverview",children:k.jsx("p",{children:"A quality-driven self-motivated and enthusiastic Web developer with a strong passion for responsive and stunningly attractive websites with experience of competing for my teams in several national-level Hackathons. Blessed with excellent problem-solving abilities and capability of coming up with creative solutions to difficult problems. Committed to delivering projects on time, backed up with my perfectionist personality touch."})})})]})}function K1e(){return k.jsx("section",{className:"",id:"aboutMe",children:k.jsxs("div",{className:"OuterAboutMe",children:[k.jsx(Y1e,{}),k.jsx(J1e,{})]})})}const q1e="/assets/agritech-96bbb33f.png",Q1e="/assets/fairsplit-3e21871f.png";const t4=93;function _S(){return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"ProjectHeadingBackground",children:"Work Work Work Work Work Work Work Work Work Work Work Work Work Work Work Work"}),k.jsx("div",{className:"ProjectHeadingForeground",children:"My Projects My Projects My Projects My Projects My Projects My Projects My Projects My Projects"})]})}function Z1e(){const n=ia(),e=I.useRef(),t=50,i=9.25,r=3,s=4e-4,o=0,a=n.pages-1;return Sr(()=>{const l=(n.range((i+s)/a,r/a)+o).toFixed(5);n.visible((i+s)/a,r/a)&&l>0&&l<1?(e.current.style.display="inline-block",e.current.style.top=(l-o)*t4*r+"dvh",document.documentElement.style.setProperty("--AboutTranslateBG",`${5+l*t-t}`),document.documentElement.style.setProperty("--AboutTranslateMain",`${115-t-l*t}`)):(e.current.style.top="0vh",e.current.style.display="none",document.documentElement.style.setProperty("--AboutTranslateBG",0),document.documentElement.style.setProperty("--AboutTranslateMain",0))}),k.jsx("div",{style:{height:`${(r-1)*t4}dvh`},className:"ProjectMainHeadingOuter",children:k.jsx("div",{ref:e,className:"ProjectMainHeadingContainer",children:k.jsxs("div",{className:"ProjectHeading",children:[k.jsx(_S,{}),k.jsx(_S,{}),k.jsx(_S,{})]})})})}const exe=11.4,txe=[{id:"123456765111",name:"AgriTech",image:q1e,link:"https://35.192.7.28/",subtitle:"Crowd Funding for Farmers",techStack:["ReactJs","NodeJs","ExpressJs","MongoDB","BlockChain","Google Cloud"],description:`
      Crowd funding platform for farmers.
      Transactions that are made secure using Blockchain.
      Ecommerce facilities to save time.
      Introduction of our own Crypto Token 'KissanCoins' (KCO)
      ERC20 tokens with payment gateway integration.
    `},{id:"123456765222",name:"FairSplit",image:Q1e,link:"https://fairsplit.azurewebsites.net",subtitle:"Pay Dept, Pay Fair",techStack:["ReactJs","NodeJs","ExpressJs","MongoDB","Azure"],description:`
      Built FairSplit, a web application that modernized the maintaining of records of expenses.
      Can save 80% of your time and reduce 85% of your calculation.
      Beginner friendly Interface.
      Easy to use and setup.
      Responsive design with Azure servers reliability.
    `},{id:"123456765333",name:"FileSharer",image:"",link:"",subtitle:"Share with ease",techStack:["EJS","NodeJs","ExpressJs","Multer"],description:`
      Enhanced the ease of sharing a file privately.
      Available data capacity of 500 MB.
      Custom password protected link.
      No external database used.
    `}];function nxe({ele:n,id:e,active:t,fun:i,name:r,image:s,link:o,subtitle:a,techStack:l,description:c}){const u=(t==null?void 0:t.id)===e,f=ia();function d(p){if(p){i(p);let g=f.fixed.clientHeight*exe;g+=g*.07,f.el.scrollTop=g;return}i(null)}return k.jsx(k.Fragment,{children:u?k.jsxs("div",{className:"ProjectDisplayCard2 ActiveProject",children:[k.jsx("div",{className:"closeActiveProjectButton",children:k.jsx("div",{onClick:()=>{d(null)},children:"Close"})}),k.jsxs("div",{className:"ProjectCardHeadingA",children:[r," "]}),k.jsxs("div",{className:"ProjectCardSubheadingA",children:[a," "]}),o&&k.jsx("span",{className:"ProjectCardLinkA",children:k.jsx("a",{href:o,target:"_blank",children:"Go to link"})}),k.jsx("div",{className:"ProjectCardDescriptionA",children:c}),k.jsx("div",{className:"ProjectCardTechStackA",children:l.map((p,g)=>k.jsx("div",{children:p},"EACHCADDESCRIPTION"+e+g))}),k.jsx("div",{className:"ProjectCardImagesA",children:k.jsx("img",{src:s,alt:"IMAGE NOT AVAILBLE"})})]}):k.jsxs("div",{onClick:()=>{d(n)},className:"ProjectDisplayCard1 PCdisplay",children:[k.jsx("div",{className:"ProjectCardHeading",children:r}),k.jsx("div",{className:"ProjectCardSubheading",children:a}),k.jsx("div",{className:"ProjectCardImages",children:k.jsx("img",{src:s,alt:"IMAGE NOT AVAILBLE"})})]})})}function ixe(){const[n,e]=I.useState(null);return k.jsx("div",{className:"ProjectsMainWrapper",children:k.jsxs("div",{className:"ProjectCardsDisplayArea",children:[txe.map((t,i)=>k.jsx(nxe,{ele:t,active:n,fun:e,...t},"EACHPROJECTCARDELEMENT+"+i)),n&&k.jsx("div",{onClick:()=>e(null),className:"FadedBG"})]})})}function rxe(){return k.jsx(k.Fragment,{children:k.jsxs("section",{id:"projects",children:[k.jsx(Z1e,{}),k.jsx("div",{className:"Showcase",children:k.jsx(ixe,{})})]})})}const{PI:sxe}=Math;function oxe({rotation:n,scale:e,position:t,...i}){const{nodes:r,materials:s}=Z_("./Model/Spinner2reduced.glb"),o=I.useRef(),a=ia(),l=I.useRef(),c=I.useRef(),u=I.useRef();l.current=Eh.timeline(),c.current=Eh.timeline(),u.current=Eh.timeline();const f=sxe*2,[d,p,g]=t,x=d*2,y=p*2,v=C=>y*(C/100)-p,_=C=>x*(C/100)-d,A=C=>v(100-C),w=C=>_(100-C),E=C=>({x:C,y:C,z:C}),M=a.pages-1;return Sr(()=>{const C=a.range(0,3/M).toFixed(5);l.current.seek(C*l.current.duration())},[]),I.useLayoutEffect(()=>{l.current.set(o.current.scale,E(e),0).set(o.current.rotation,{x:n[0],y:n[1],z:n[2]},0).set(o.current.position,{x:w(25),y:v(10)},0).to(o.current.rotation,{duration:2,z:f*8},0).to(o.current.position,{duration:.75,x:w(25),y:v(40)},0).to(o.current.scale,{duration:.25,...E(5)},.75).to(o.current.rotation,{duration:.25,x:f},.75).to(o.current.position,{duration:.25,x:_(25),y:v(30)},.75).to(o.current.position,{duration:2,x:_(25),y:A(-60)},1)},[d,p]),k.jsx(k.Fragment,{children:k.jsx("mesh",{ref:o,geometry:r["Fidget_Spinner_-Assembly"].geometry,material:s.Material1,rotation:n,scale:e,position:t})})}Z_.preload("./Model/Spinner2reduced.glb");const{PI:axe}=Math;function lxe(){const n=ia(),[e,t]=I.useState(null),[i,r]=I.useState(0),[s,o]=I.useState(0),a={scale:1,rotation:[0,0,axe/1.8],position:[i,s,-150]},l={};return I.useEffect(()=>{e&&n&&(r(e.clientWidth/2),o(n.el.clientHeight/2))},[e]),k.jsxs(k.Fragment,{children:[k.jsx(oxe,{...a}),k.jsxs(Dte,{style:l,html:!0,ref:c=>t(c),children:[k.jsx(X1e,{}),k.jsx(K1e,{}),k.jsx(j1e,{}),k.jsx(rxe,{}),k.jsx(RF,{})]})]})}function cxe({pages:n}){const e={marginTop:"0",height:"93dvh",width:"100%"};return k.jsx(k.Fragment,{children:k.jsxs(K_,{style:e,orthographic:!0,children:[k.jsx(bhe,{}),k.jsxs(I.Suspense,{fallback:null,children:[k.jsx(uxe,{intensity:1}),k.jsx(Rte,{pages:n,damping:.1,children:k.jsx(lxe,{})})]})]},"THIS THE SECOND CANVAS")})}function uxe({intensity:n}){return k.jsxs(k.Fragment,{children:[k.jsx("directionalLight",{position:[-10,10,10],intensity:n}),k.jsx("directionalLight",{position:[-10,-10,10],intensity:n}),k.jsx("ambientLight",{intensity:1})]})}const n4=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const f=e;e=c??typeof u!="object"?u:Object.assign({},e,u),t.forEach(d=>d(e,f))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{t.clear()}};return e=n(i,r,a),a},fxe=n=>n?n4(n):n4,{useSyncExternalStoreWithSelector:dxe}=Yz;function hxe(n,e=n.getState,t){const i=dxe(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return I.useDebugValue(i),i}const i4=n=>{const e=typeof n=="function"?fxe(n):n,t=(i,r)=>hxe(e,i,r);return Object.assign(t,e),t},pxe=n=>n?i4(n):i4;var r4,s4;const o4=typeof window<"u"&&((r4=window.document)!=null&&r4.createElement||((s4=window.navigator)==null?void 0:s4.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function mxe(){const n=pxe(e=>({current:new Array,version:0,set:e}));return{In:({children:e})=>{const t=n(r=>r.set),i=n(r=>r.version);return o4(()=>{t(r=>({version:r.version+1}))},[]),o4(()=>(t(({current:r})=>({current:[...r,e]})),()=>t(({current:r})=>({current:r.filter(s=>s!==e)}))),[e,i]),null},Out:()=>{const e=n(t=>t.current);return te.createElement(te.Fragment,null,e)}}}mxe();function gxe(){I.useState({objects:[],cycle:0});const n=I.useRef(),e=Qg("Stairs Controls",{Rx:{value:0,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/45},Ry:{value:0,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/45},Rz:{value:0,min:Math.PI*-2,max:Math.PI*2,step:Math.PI/45},position:{x:0,y:0,z:0}});return k.jsx("div",{ref:n,style:{width:"100%",height:"93dvh",border:"solid 2px red"},children:k.jsxs(K_,{shadows:!0,dpr:1.5,camera:{position:[250,250,500]},orthographic:!0,children:[k.jsx(yxe,{}),Array.from({length:3},(t,i)=>k.jsx(vxe,{name:"stair-"+(i+1),portal:n,rotation:[e.Rx,e.Ry,e.Rz],position:[e.position.x,e.position.y,e.position.z+120*i]},"Stairs3DProjects"+i))]})})}function vxe({portal:n,...e}){const t=I.useRef(),[i,r]=I.useState(!1),[s,o]=I.useState(!1);return Sr(a=>{const l=i?20:0;t.current.position.setY(Nh.lerp(e.position[1],t.current.position.y+l,.6)),t.current.scale.setScalar(1),s&&t.current.scale.setScalar(2)}),cte(i),k.jsx(k.Fragment,{children:k.jsxs("group",{...e,ref:t,receiveShadow:!0,castShadow:!0,onClick:a=>(a.stopPropagation(),o(!s)),onPointerOver:a=>(a.stopPropagation(),r(!0)),onPointerOut:a=>r(!1),children:[k.jsxs("mesh",{children:[k.jsx("boxGeometry",{args:[480,240,20]}),k.jsx("meshStandardMaterial",{roughness:1,transparent:!0,opacity:i?.4:.6,color:s?"green":i?"black":"white"})]}),k.jsx(lte,{portal:!0,wrapperClass:"EachProjectHtmlClass",fullscreen:!0,center:!0,scale:200,castShadow:!0,receiveShadow:!0,style:{pointerEvents:"none"},occlude:"blending",position:e.position,transform:!0,distanceFactor:1.5,zIndexRange:[10,0],children:k.jsx("div",{children:k.jsx("h4",{children:"Hello HOW ARE YOUR, I am under the water, please help me i am very much scared."})})},"THIS THE THIRD CANVAS")]})})}function yxe(){return k.jsxs(k.Fragment,{children:[k.jsx("ambientLight",{intensity:.5}),k.jsx("directionalLight",{position:[3,130,2],intensity:1,castShadow:!0}),k.jsx("directionalLight",{position:[0,130,0],intensity:5})]})}const a4=13.3;function xxe(){return k.jsx(k.Fragment,{children:k.jsxs(bW,{children:[k.jsx(E$,{pages:a4}),k.jsxs(AW,{children:[k.jsx(Im,{exact:!0,path:"/",element:k.jsx(cxe,{pages:a4})}),k.jsx(Im,{exact:!0,path:"/contactme",element:k.jsx(RF,{})}),k.jsx(Im,{exact:!0,path:"/blobEdit",element:k.jsx(Vz,{OBC:!0,controls:!0,stats:!0})}),k.jsx(Im,{exact:!0,path:"/Stairs",element:k.jsx(gxe,{})})]})]})})}bS.createRoot(document.getElementById("root")).render(k.jsx(xxe,{}));
